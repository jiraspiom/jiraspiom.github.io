// Generated by Construct 2, the HTML5 game and app creator :: https://www.construct.net
'use strict';var da,ea,fa,C,ga,ha,P,Q,ja,ka,la,ma,na,T,oa,ra,U,sa,ta,va,wa,V,xa,ya,za,Aa,Ba,W,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,X,Rb,Sb={},Tb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(b){return b.__proto__}:function(b){return b.constructor.prototype});
(function(){function b(a,e,d,g){this.set(a,e,d,g)}function t(){this.lb=this.kb=this.nb=this.mb=this.wb=this.ub=this.Va=this.Ua=0}function h(a,e,d,g){a<e?d<g?(y=a<d?a:d,w=e>g?e:g):(y=a<g?a:g,w=e>d?e:d):d<g?(y=e<d?e:d,w=a>g?a:g):(y=e<g?e:g,w=a>d?a:d)}function r(){this.items=this.ld=null;this.ah=0;v&&(this.ld=new Set);this.lg=[];this.$d=!0}function u(a){A[Na++]=a}function q(){this.ua=this.Kj=this.y=this.hk=0}function c(a){this.ca=[];this.ai=this.ci=this.di=this.bi=0;this.Gh(a)}function a(a,e){this.Ma=
a;this.Wa=e;this.cells={}}function m(a,e){this.Ma=a;this.Wa=e;this.cells={}}function x(a,e,d){var g;return H.length?(g=H.pop(),g.Rk=a,g.x=e,g.y=d,g):new da(a,e,d)}function d(a,e,d){this.Rk=a;this.x=e;this.y=d;this.ab=new ea}function f(a,e,d){var g;return aa.length?(g=aa.pop(),g.Rk=a,g.x=e,g.y=d,g):new fa(a,e,d)}function n(a,e,d){this.Rk=a;this.x=e;this.y=d;this.ab=[];this.Nf=!0;this.jd=new ea;this.rg=!1}function k(a,e){return a.ad-e.ad}C=function(a){window.console&&window.console.log&&window.console.log(a)};
ga=function(a){window.console&&window.console.error&&window.console.error(a)};ha=function(a){return"undefined"===typeof a};P=function(a){return"number"===typeof a};Q=function(a){return"string"===typeof a};ja=function(a){return 0<a&&0===(a-1&a)};ka=function(a){--a;for(var e=1;32>e;e<<=1)a=a|a>>e;return a+1};la=function(a){return 0>a?-a:a};ma=function(a,e){return a<e?a:e};na=Math.PI;T=function(a){return 0<=a?a|0:(a|0)-1};oa=function(a){var e=a|0;return e===a?e:e+1};ra=function(a,e,d,g,l,f,m,k){var p,
z,B,n;a<d?(z=a,p=d):(z=d,p=a);l<m?(n=l,B=m):(n=m,B=l);if(p<n||z>B)return!1;e<g?(z=e,p=g):(z=g,p=e);f<k?(n=f,B=k):(n=k,B=f);if(p<n||z>B)return!1;p=l-a+m-d;z=f-e+k-g;a=d-a;e=g-e;l=m-l;f=k-f;k=la(e*l-f*a);return la(l*z-f*p)>k?!1:la(a*z-e*p)<=k};b.prototype.set=function(a,e,d,g){this.left=a;this.top=e;this.right=d;this.bottom=g};b.prototype.zg=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};b.prototype.width=function(){return this.right-this.left};b.prototype.height=
function(){return this.bottom-this.top};b.prototype.offset=function(a,e){this.left+=a;this.top+=e;this.right+=a;this.bottom+=e;return this};b.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};b.prototype.Rt=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};b.prototype.St=function(a,e,d){return!(a.right+e<this.left||a.bottom+
d<this.top||a.left+e>this.right||a.top+d>this.bottom)};b.prototype.ob=function(a,e){return a>=this.left&&a<=this.right&&e>=this.top&&e<=this.bottom};b.prototype.Eg=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};U=b;t.prototype.Fh=function(a){this.Ua=a.left;this.Va=a.top;this.ub=a.right;this.wb=a.top;this.mb=a.right;this.nb=a.bottom;this.kb=a.left;this.lb=a.bottom};t.prototype.Gp=function(a,e){if(0===e)this.Fh(a);else{var d=Math.sin(e),g=Math.cos(e),
l=a.left*d,f=a.top*d,k=a.right*d,d=a.bottom*d,m=a.left*g,p=a.top*g,z=a.right*g,g=a.bottom*g;this.Ua=m-f;this.Va=p+l;this.ub=z-f;this.wb=p+k;this.mb=z-d;this.nb=g+k;this.kb=m-d;this.lb=g+l}};t.prototype.offset=function(a,e){this.Ua+=a;this.Va+=e;this.ub+=a;this.wb+=e;this.mb+=a;this.nb+=e;this.kb+=a;this.lb+=e;return this};var y=0,w=0;t.prototype.un=function(a){h(this.Ua,this.ub,this.mb,this.kb);a.left=y;a.right=w;h(this.Va,this.wb,this.nb,this.lb);a.top=y;a.bottom=w};t.prototype.ob=function(a,e){var d=
this.Ua,g=this.Va,l=this.ub-d,f=this.wb-g,k=this.mb-d,m=this.nb-g,p=a-d,z=e-g,B=l*l+f*f,n=l*k+f*m,f=l*p+f*z,c=k*k+m*m,b=k*p+m*z,x=1/(B*c-n*n),l=(c*f-n*b)*x,B=(B*b-n*f)*x;if(0<=l&&0<B&&1>l+B)return!0;l=this.kb-d;f=this.lb-g;B=l*l+f*f;n=l*k+f*m;f=l*p+f*z;x=1/(B*c-n*n);l=(c*f-n*b)*x;B=(B*b-n*f)*x;return 0<=l&&0<B&&1>l+B};t.prototype.Yd=function(a,e){if(e)switch(a){case 0:return this.Ua;case 1:return this.ub;case 2:return this.mb;case 3:return this.kb;case 4:return this.Ua;default:return this.Ua}else switch(a){case 0:return this.Va;
case 1:return this.wb;case 2:return this.nb;case 3:return this.lb;case 4:return this.Va;default:return this.Va}};t.prototype.To=function(){return(this.Ua+this.ub+this.mb+this.kb)/4};t.prototype.Uo=function(){return(this.Va+this.wb+this.nb+this.lb)/4};t.prototype.io=function(a){var e=a.To(),d=a.Uo();if(this.ob(e,d))return!0;e=this.To();d=this.Uo();if(a.ob(e,d))return!0;var g,l,f,k,m,p,z,B;for(z=0;4>z;z++)for(B=0;4>B;B++)if(e=this.Yd(z,!0),d=this.Yd(z,!1),g=this.Yd(z+1,!0),l=this.Yd(z+1,!1),f=a.Yd(B,
!0),k=a.Yd(B,!1),m=a.Yd(B+1,!0),p=a.Yd(B+1,!1),ra(e,d,g,l,f,k,m,p))return!0;return!1};sa=t;ta=function(a,e){for(var d in e)e.hasOwnProperty(d)&&(a[d]=e[d]);return a};va=function(a,e){var d,g;e=T(e);if(!(0>e||e>=a.length)){d=e;for(g=a.length-1;d<g;d++)a[d]=a[d+1];wa(a,g)}};wa=function(a,e){a.length=e};V=function(a){wa(a,0)};xa=function(a,e){V(a);var d,g;d=0;for(g=e.length;d<g;++d)a[d]=e[d]};ya=function(a,e){a.push.apply(a,e)};za=function(a,e){var d,g;d=0;for(g=a.length;d<g;++d)if(a[d]===e)return d;
return-1};Aa=function(a,e){var d=za(a,e);-1!==d&&va(a,d)};Ba=function(a,e,d){return a<e?e:a>d?d:a};W=function(a){return a/(180/na)};Ca=function(a){return 180/na*a};Da=function(a){a%=360;0>a&&(a+=360);return a};Ea=function(a){a%=2*na;0>a&&(a+=2*na);return a};Fa=function(a){return Da(Ca(a))};Ga=function(a){return Ea(W(a))};Ha=function(a,e,d,g){return Math.atan2(g-e,d-a)};Ia=function(a,e){if(a===e)return 0;var d=Math.sin(a),g=Math.cos(a),l=Math.sin(e),f=Math.cos(e),d=d*l+g*f;return 1<=d?0:-1>=d?na:Math.acos(d)};
Ja=function(a,e,d){var g=Math.sin(a),l=Math.cos(a),f=Math.sin(e),k=Math.cos(e);return Math.acos(g*f+l*k)>d?0<l*f-g*k?Ea(a+d):Ea(a-d):Ea(e)};Ka=function(a,e){var d=Math.sin(a),g=Math.cos(a),l=Math.sin(e),f=Math.cos(e);return 0>=g*l-d*f};La=function(a,e,d,g){a=d-a;e=g-e;return Math.sqrt(a*a+e*e)};Ma=function(a,e){return!a!==!e};Oa=function(a){for(var e in a)if(a.hasOwnProperty(e))return!0;return!1};Pa=function(a){for(var e in a)a.hasOwnProperty(e)&&delete a[e]};var l=+new Date;Qa=function(){if("undefined"!==
typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-l};var e=!1,g=e=!1,p=!1;"undefined"!==typeof window&&(e=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),e=!e&&/safari/i.test(navigator.userAgent),g=/(iphone|ipod|ipad)/i.test(navigator.userAgent),p=window.c2ejecta);
var v=!e&&!p&&!g&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;r.prototype.contains=function(a){return this.Dd()?!1:v?this.ld.has(a):this.items&&this.items.hasOwnProperty(a)};r.prototype.add=function(a){if(v)this.ld.has(a)||(this.ld.add(a),this.$d=!1);else{var e=a.toString(),d=this.items;d?d.hasOwnProperty(e)||(d[e]=a,this.ah++,this.$d=!1):(this.items={},this.items[e]=a,this.ah=1,this.$d=!1)}};r.prototype.remove=function(a){if(!this.Dd())if(v)this.ld.has(a)&&(this.ld["delete"](a),
this.$d=!1);else if(this.items){a=a.toString();var e=this.items;e.hasOwnProperty(a)&&(delete e[a],this.ah--,this.$d=!1)}};r.prototype.clear=function(){this.Dd()||(v?this.ld.clear():(this.items=null,this.ah=0),V(this.lg),this.$d=!0)};r.prototype.Dd=function(){return 0===this.count()};r.prototype.count=function(){return v?this.ld.size:this.ah};var A=null,Na=0;r.prototype.bv=function(){if(!this.$d){if(v)V(this.lg),A=this.lg,Na=0,this.ld.forEach(u),A=null,Na=0;else{var a=this.lg;V(a);var e,d=0,g=this.items;
if(g)for(e in g)g.hasOwnProperty(e)&&(a[d++]=g[e])}this.$d=!0}};r.prototype.Td=function(){this.bv();return this.lg};ea=r;new ea;Ra=function(a,e){v?Sa(a,e.ld):Ta(a,e.Td())};Sa=function(a,e){var d,g,l,f;g=d=0;for(l=a.length;d<l;++d)f=a[d],e.has(f)||(a[g++]=f);wa(a,g)};Ta=function(a,e){var d,g,l,f;g=d=0;for(l=a.length;d<l;++d)f=a[d],-1===za(e,f)&&(a[g++]=f);wa(a,g)};q.prototype.add=function(a){this.y=a-this.hk;this.Kj=this.ua+this.y;this.hk=this.Kj-this.ua-this.y;this.ua=this.Kj};q.prototype.reset=function(){this.ua=
this.Kj=this.y=this.hk=0};Ua=q;Va=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};c.prototype.Gh=function(a){this.sp=a;this.Yb=a.length/2;this.ca.length=a.length;this.fi=this.gi=-1;this.xn=0};c.prototype.Lf=function(){return!this.sp.length};c.prototype.ea=function(){for(var a=this.ca,e=a[0],d=e,g=a[1],l=g,f,k,m=1,p=this.Yb;m<p;++m)k=2*m,f=a[k],k=a[k+1],f<e&&(e=f),f>d&&(d=f),k<g&&(g=k),k>l&&(l=k);this.bi=e;this.ci=d;this.di=g;this.ai=l};c.prototype.Fh=function(a,e,d){this.ca.length=
8;this.Yb=4;var g=this.ca;g[0]=a.left-e;g[1]=a.top-d;g[2]=a.right-e;g[3]=a.top-d;g[4]=a.right-e;g[5]=a.bottom-d;g[6]=a.left-e;g[7]=a.bottom-d;this.gi=a.right-a.left;this.fi=a.bottom-a.top;this.ea()};c.prototype.dg=function(a,e,d,g,l){this.ca.length=8;this.Yb=4;var f=this.ca;f[0]=a.Ua-e;f[1]=a.Va-d;f[2]=a.ub-e;f[3]=a.wb-d;f[4]=a.mb-e;f[5]=a.nb-d;f[6]=a.kb-e;f[7]=a.lb-d;this.gi=g;this.fi=l;this.ea()};c.prototype.Fp=function(a){this.Yb=a.Yb;xa(this.ca,a.ca);this.bi=a.bi;this.di-a.di;this.ci=a.ci;this.ai=
a.ai};c.prototype.Ne=function(a,e,d){if(this.gi!==a||this.fi!==e||this.xn!==d){this.gi=a;this.fi=e;this.xn=d;var g,l,f,k,m,p=0,z=1,B=this.sp,n=this.ca;0!==d&&(p=Math.sin(d),z=Math.cos(d));d=0;for(f=this.Yb;d<f;d++)g=2*d,l=g+1,k=B[g]*a,m=B[l]*e,n[g]=k*z-m*p,n[l]=m*z+k*p;this.ea()}};c.prototype.ob=function(a,e){var d=this.ca;if(a===d[0]&&e===d[1])return!0;var g,l,f,k=this.Yb,m=this.bi-110,p=this.di-101,z=this.ci+131,B=this.ai+120,n,c,b=0,x=0;for(g=0;g<k;g++)l=2*g,f=(g+1)%k*2,n=d[l],l=d[l+1],c=d[f],
f=d[f+1],ra(m,p,a,e,n,l,c,f)&&b++,ra(z,B,a,e,n,l,c,f)&&x++;return 1===b%2||1===x%2};c.prototype.Ug=function(a,e,d){var g=a.ca,l=this.ca;if(this.ob(g[0]+e,g[1]+d)||a.ob(l[0]-e,l[1]-d))return!0;var f,k,m,p,z,B,n,c,b,x,A,v;f=0;for(p=this.Yb;f<p;f++)for(k=2*f,m=(f+1)%p*2,c=l[k],k=l[k+1],b=l[m],x=l[m+1],m=0,n=a.Yb;m<n;m++)if(z=2*m,B=(m+1)%n*2,A=g[z]+e,z=g[z+1]+d,v=g[B]+e,B=g[B+1]+d,ra(c,k,b,x,A,z,v,B))return!0;return!1};c.prototype.ju=function(a){var e,d,g;e=0;for(d=this.Yb;e<d;++e)g=2*e,this.ca[g]=2*
a-this.ca[g]};c.prototype.ct=function(a){var e,d,g;e=0;for(d=this.Yb;e<d;++e)g=2*e+1,this.ca[g]=2*a-this.ca[g]};c.prototype.Nr=function(){var a,e,d,g,l;a=0;for(e=this.Yb;a<e;++a)d=2*a,g=d+1,l=this.ca[d],this.ca[d]=this.ca[g],this.ca[g]=l};Wa=c;a.prototype.ge=function(a,e,d){var g;g=this.cells[a];return g?(g=g[e])?g:d?(g=x(this,a,e),this.cells[a][e]=g):null:d?(g=x(this,a,e),this.cells[a]={},this.cells[a][e]=g):null};a.prototype.Gb=function(a){return T(a/this.Ma)};a.prototype.Hb=function(a){return T(a/
this.Wa)};a.prototype.update=function(a,e,d){var g,l,f,k,m;if(e)for(g=e.left,l=e.right;g<=l;++g)for(f=e.top,k=e.bottom;f<=k;++f)if(!d||!d.ob(g,f))if(m=this.ge(g,f,!1))m.remove(a),m.Dd()&&(m.ab.clear(),1E3>H.length&&H.push(m),this.cells[g][f]=null);if(d)for(g=d.left,l=d.right;g<=l;++g)for(f=d.top,k=d.bottom;f<=k;++f)e&&e.ob(g,f)||this.ge(g,f,!0).$k(a)};a.prototype.tj=function(a,e){var d,g,l,f,k,m;d=this.Gb(a.left);l=this.Hb(a.top);g=this.Gb(a.right);for(k=this.Hb(a.bottom);d<=g;++d)for(f=l;f<=k;++f)(m=
this.ge(d,f,!1))&&m.dump(e)};Xa=a;m.prototype.ge=function(a,e,d){var g;g=this.cells[a];return g?(g=g[e])?g:d?(g=f(this,a,e),this.cells[a][e]=g):null:d?(g=f(this,a,e),this.cells[a]={},this.cells[a][e]=g):null};m.prototype.Gb=function(a){return T(a/this.Ma)};m.prototype.Hb=function(a){return T(a/this.Wa)};m.prototype.update=function(a,e,d){var g,l,f,k,m;if(e)for(g=e.left,l=e.right;g<=l;++g)for(f=e.top,k=e.bottom;f<=k;++f)if(!d||!d.ob(g,f))if(m=this.ge(g,f,!1))m.remove(a),m.Dd()&&(m.reset(),1E3>aa.length&&
aa.push(m),this.cells[g][f]=null);if(d)for(g=d.left,l=d.right;g<=l;++g)for(f=d.top,k=d.bottom;f<=k;++f)e&&e.ob(g,f)||this.ge(g,f,!0).$k(a)};m.prototype.tj=function(a,e,d,g,l){var f,k;a=this.Gb(a);e=this.Hb(e);d=this.Gb(d);for(f=this.Hb(g);a<=d;++a)for(g=e;g<=f;++g)(k=this.ge(a,g,!1))&&k.dump(l)};m.prototype.gu=function(a){var e,d,g,l,f;e=a.left;g=a.top;d=a.right;for(l=a.bottom;e<=d;++e)for(a=g;a<=l;++a)if(f=this.ge(e,a,!1))f.Nf=!1};Ya=m;var H=[];d.prototype.Dd=function(){return this.ab.Dd()};d.prototype.$k=
function(a){this.ab.add(a)};d.prototype.remove=function(a){this.ab.remove(a)};d.prototype.dump=function(a){ya(a,this.ab.Td())};da=d;var aa=[];n.prototype.Dd=function(){if(!this.ab.length)return!0;if(this.ab.length>this.jd.count())return!1;this.Ck();return!0};n.prototype.$k=function(a){this.jd.contains(a)?(this.jd.remove(a),this.jd.Dd()&&(this.rg=!1)):this.ab.length?(this.ab[this.ab.length-1].gd()>a.gd()&&(this.Nf=!1),this.ab.push(a)):(this.ab.push(a),this.Nf=!0)};n.prototype.remove=function(a){this.jd.add(a);
this.rg=!0;30<=this.jd.count()&&this.Ck()};n.prototype.Ck=function(){this.rg&&(this.jd.count()===this.ab.length?this.reset():(Ra(this.ab,this.jd),this.jd.clear(),this.rg=!1))};n.prototype.ts=function(){this.Nf||(this.ab.sort(k),this.Nf=!0)};n.prototype.reset=function(){V(this.ab);this.Nf=!0;this.jd.clear();this.rg=!1};n.prototype.dump=function(a){this.Ck();this.ts();this.ab.length&&a.push(this.ab)};fa=n;var pa="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
Za=function(a){return 0>=a||11<=a?"source-over":pa[a-1]};$a=function(a,e,d){if(d)switch(a.sb=d.ONE,a.pb=d.ONE_MINUS_SRC_ALPHA,e){case 1:a.sb=d.ONE;a.pb=d.ONE;break;case 3:a.sb=d.ONE;a.pb=d.ZERO;break;case 4:a.sb=d.ONE_MINUS_DST_ALPHA;a.pb=d.ONE;break;case 5:a.sb=d.DST_ALPHA;a.pb=d.ZERO;break;case 6:a.sb=d.ZERO;a.pb=d.SRC_ALPHA;break;case 7:a.sb=d.ONE_MINUS_DST_ALPHA;a.pb=d.ZERO;break;case 8:a.sb=d.ZERO;a.pb=d.ONE_MINUS_SRC_ALPHA;break;case 9:a.sb=d.DST_ALPHA;a.pb=d.ONE_MINUS_SRC_ALPHA;break;case 10:a.sb=
d.ONE_MINUS_DST_ALPHA,a.pb=d.SRC_ALPHA}};ab=function(a){return Math.round(1E6*a)/1E6};bb=function(a,e){return"string"!==typeof a||"string"!==typeof e||a.length!==e.length?!1:a===e?!0:a.toLowerCase()===e.toLowerCase()};cb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||bb(a.tagName,"canvas")?!0:!1}})();var Ub="undefined"!==typeof Float32Array?Float32Array:Array;function Vb(b){var t=new Ub(3);b&&(t[0]=b[0],t[1]=b[1],t[2]=b[2]);return t}
function Wb(b){var t=new Ub(16);b&&(t[0]=b[0],t[1]=b[1],t[2]=b[2],t[3]=b[3],t[4]=b[4],t[5]=b[5],t[6]=b[6],t[7]=b[7],t[8]=b[8],t[9]=b[9],t[10]=b[10],t[11]=b[11],t[12]=b[12],t[13]=b[13],t[14]=b[14],t[15]=b[15]);return t}function Xb(b,t){t[0]=b[0];t[1]=b[1];t[2]=b[2];t[3]=b[3];t[4]=b[4];t[5]=b[5];t[6]=b[6];t[7]=b[7];t[8]=b[8];t[9]=b[9];t[10]=b[10];t[11]=b[11];t[12]=b[12];t[13]=b[13];t[14]=b[14];t[15]=b[15]}
function Yb(b,t){var h=t[0],r=t[1];t=t[2];b[0]*=h;b[1]*=h;b[2]*=h;b[3]*=h;b[4]*=r;b[5]*=r;b[6]*=r;b[7]*=r;b[8]*=t;b[9]*=t;b[10]*=t;b[11]*=t}
function Zb(b,t,h,r){r||(r=Wb());var u,q,c,a,m,x,d,f,n=b[0],k=b[1];b=b[2];q=h[0];c=h[1];u=h[2];h=t[1];x=t[2];n===t[0]&&k===h&&b===x?(b=r,b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=1,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=1,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1):(h=n-t[0],x=k-t[1],d=b-t[2],f=1/Math.sqrt(h*h+x*x+d*d),h*=f,x*=f,d*=f,t=c*d-u*x,u=u*h-q*d,q=q*x-c*h,(f=Math.sqrt(t*t+u*u+q*q))?(f=1/f,t*=f,u*=f,q*=f):q=u=t=0,c=x*q-d*u,a=d*t-h*q,m=h*u-x*t,(f=Math.sqrt(c*c+a*a+m*m))?(f=1/f,c*=f,a*=f,m*=f):m=a=c=0,
r[0]=t,r[1]=c,r[2]=h,r[3]=0,r[4]=u,r[5]=a,r[6]=x,r[7]=0,r[8]=q,r[9]=m,r[10]=d,r[11]=0,r[12]=-(t*n+u*k+q*b),r[13]=-(c*n+a*k+m*b),r[14]=-(h*n+x*k+d*b),r[15]=1)}
(function(){function b(a,m,c){this.ke=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.ba=!!c;this.Ji=this.Vg=!1;this.oi=0;this.ak=1;this.Km=1E3;this.mv=(this.Km-this.ak)/32768;this.ik=Vb([0,0,100]);this.Bo=Vb([0,0,0]);this.dq=Vb([0,1,0]);this.Wh=Vb([1,1,1]);this.Hn=!0;this.aj=Wb();this.nc=Wb();this.pl=Wb();this.rk=Wb();this.q=a;this.version=0===this.q.getParameter(this.q.VERSION).indexOf("WebGL 2")?2:1;this.co()}function t(a,m,c){this.q=a;this.Hh=
m;this.name=c;this.uc=a.getAttribLocation(m,"aPos");this.te=a.getAttribLocation(m,"aTex");this.zo=a.getUniformLocation(m,"matP");this.Xi=a.getUniformLocation(m,"matMV");this.Vf=a.getUniformLocation(m,"opacity");this.xl=a.getUniformLocation(m,"colorFill");this.Ao=a.getUniformLocation(m,"samplerFront");this.jh=a.getUniformLocation(m,"samplerBack");this.ef=a.getUniformLocation(m,"destStart");this.df=a.getUniformLocation(m,"destEnd");this.lh=a.getUniformLocation(m,"seconds");this.zl=a.getUniformLocation(m,
"pixelWidth");this.yl=a.getUniformLocation(m,"pixelHeight");this.ih=a.getUniformLocation(m,"layerScale");this.hh=a.getUniformLocation(m,"layerAngle");this.mh=a.getUniformLocation(m,"viewOrigin");this.kh=a.getUniformLocation(m,"scrollPos");this.Nt=!!(this.zl||this.yl||this.lh||this.jh||this.ef||this.df||this.ih||this.hh||this.mh||this.kh);this.Jo=this.Ko=-999;this.$i=1;this.Fo=this.Eo=0;this.Ho=this.Do=this.Co=1;this.No=this.Mo=this.Lo=this.Po=this.Oo=this.Go=0;this.ol=[];this.Io=Wb();this.Vf&&a.uniform1f(this.Vf,
1);this.xl&&a.uniform4f(this.xl,1,1,1,1);this.Ao&&a.uniform1i(this.Ao,0);this.jh&&a.uniform1i(this.jh,1);this.ef&&a.uniform2f(this.ef,0,0);this.df&&a.uniform2f(this.df,1,1);this.ih&&a.uniform1f(this.ih,1);this.hh&&a.uniform1f(this.hh,0);this.mh&&a.uniform2f(this.mh,0,0);this.kh&&a.uniform2f(this.kh,0,0);this.lh&&a.uniform1f(this.lh,0);this.We=!1}function h(a,m){return a[0]===m[0]&&a[1]===m[1]&&a[2]===m[2]&&a[3]===m[3]&&a[4]===m[4]&&a[5]===m[5]&&a[6]===m[6]&&a[7]===m[7]&&a[8]===m[8]&&a[9]===m[9]&&
a[10]===m[10]&&a[11]===m[11]&&a[12]===m[12]&&a[13]===m[13]&&a[14]===m[14]&&a[15]===m[15]}function r(a,m){this.type=a;this.n=m;this.q=m.q;this.jc=this.tb=this.jp=0;this.L=this.Bc=null;this.Hp=[]}var u=Wb();b.prototype.co=function(){var a=this.q,m;this.uo=1;this.$e=this.oe=null;this.ni=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.ba?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):
a.disable(a.DEPTH_TEST);this.vo=a.ONE;this.to=a.ONE_MINUS_SRC_ALPHA;this.Vh=new Float32Array(8E3*(this.ba?3:2));this.Oh=new Float32Array(16E3);this.op=new Float32Array(32E3);this.Ql=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Ql);a.bufferData(a.ARRAY_BUFFER,this.op.byteLength,a.DYNAMIC_DRAW);this.Uh=Array(4);this.Nh=Array(4);for(m=0;4>m;m++)this.Uh[m]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Uh[m]),a.bufferData(a.ARRAY_BUFFER,this.Vh.byteLength,a.DYNAMIC_DRAW),this.Nh[m]=a.createBuffer(),
a.bindBuffer(a.ARRAY_BUFFER,this.Nh[m]),a.bufferData(a.ARRAY_BUFFER,this.Oh.byteLength,a.DYNAMIC_DRAW);this.td=0;this.Pt=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Pt);for(var c=new Uint16Array(12E3),d=m=0;12E3>m;)c[m++]=d,c[m++]=d+1,c[m++]=d+2,c[m++]=d,c[m++]=d+2,c[m++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.Rl=this.Ge=this.Dc=0;this.Aa=[];m=this.ba?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";c=this.Ag({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},m,"<default>");this.Aa.push(c);c=this.Ag({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Aa.push(c);c=this.Ag({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},m,"<earlyz>");this.Aa.push(c);c=this.Ag({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
m,"<fill>");this.Aa.push(c);for(var f in $b)$b.hasOwnProperty(f)&&this.Aa.push(this.Ag($b[f],m,f));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.cd=[];this.Jc=0;this.Za=!1;this.Dn=this.dh=-1;this.Af=null;this.Bk=a.createFramebuffer();this.qi=this.uj=null;this.sn=!1;this.ba&&(this.qi=a.createRenderbuffer());this.He=Vb([0,0,0]);this.Qo=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Qo&&(this.Qo=2048);this.Pb(0)};t.prototype.Fm=function(a){h(this.Io,a)||(Xb(a,this.Io),this.q.uniformMatrix4fv(this.Xi,
!1,a))};b.prototype.Ag=function(a,m,c){var d=this.q,f=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(f,a.src);d.compileShader(f);if(!d.getShaderParameter(f,d.COMPILE_STATUS))throw a=d.getShaderInfoLog(f),d.deleteShader(f),Error("error compiling fragment shader: "+a);var n=d.createShader(d.VERTEX_SHADER);d.shaderSource(n,m);d.compileShader(n);if(!d.getShaderParameter(n,d.COMPILE_STATUS))throw a=d.getShaderInfoLog(n),d.deleteShader(f),d.deleteShader(n),Error("error compiling vertex shader: "+a);m=
d.createProgram();d.attachShader(m,f);d.attachShader(m,n);d.linkProgram(m);if(!d.getProgramParameter(m,d.LINK_STATUS))throw a=d.getProgramInfoLog(m),d.deleteShader(f),d.deleteShader(n),d.deleteProgram(m),Error("error linking shader program: "+a);d.useProgram(m);d.deleteShader(f);d.deleteShader(n);f=new t(d,m,c);f.zk=a.zk||0;f.Ak=a.Ak||0;f.Cn=!!a.Cn;f.Rc=!!a.Rc;f.pn=!!a.pn;f.M=a.M||[];a=0;for(n=f.M.length;a<n;a++)f.M[a][1]=d.getUniformLocation(m,f.M[a][0]),f.ol.push(0),d.uniform1f(f.M[a][1],0);return f};
b.prototype.Ok=function(a){var m,c;m=0;for(c=this.Aa.length;m<c;m++)if(this.Aa[m].name===a)return m;return-1};b.prototype.rp=function(a,m,c){var d=this.nc,f=this.aj,n=[0,0,0,0,0,0,0,0];n[0]=d[0]*a+d[4]*m+d[12];n[1]=d[1]*a+d[5]*m+d[13];n[2]=d[2]*a+d[6]*m+d[14];n[3]=d[3]*a+d[7]*m+d[15];n[4]=f[0]*n[0]+f[4]*n[1]+f[8]*n[2]+f[12]*n[3];n[5]=f[1]*n[0]+f[5]*n[1]+f[9]*n[2]+f[13]*n[3];n[6]=f[2]*n[0]+f[6]*n[1]+f[10]*n[2]+f[14]*n[3];n[7]=-n[2];0!==n[7]&&(n[7]=1/n[7],n[4]*=n[7],n[5]*=n[7],n[6]*=n[7],c[0]=(.5*n[4]+
.5)*this.width,c[1]=(.5*n[5]+.5)*this.height)};b.prototype.nf=function(a,m,c){if(this.width!==a||this.height!==m||c){this.xd();c=this.q;this.width=a;this.height=m;c.viewport(0,0,a,m);Zb(this.ik,this.Bo,this.dq,this.nc);if(this.ba){var d=-a/2;a=a/2;var f=m/2;m=-m/2;var n=this.ak,k=this.Km,b=this.aj;b||(b=Wb());var w=a-d,l=m-f,e=k-n;b[0]=2/w;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=2/l;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=-2/e;b[11]=0;b[12]=-(d+a)/w;b[13]=-(m+f)/l;b[14]=-(k+n)/e;b[15]=1;this.Wh[0]=1;this.Wh[1]=
1}else m=a/m,d=this.ak,a=this.Km,b=this.aj,k=d*Math.tan(45*Math.PI/360),m*=k,f=-m,n=-k,b||(b=Wb()),w=m-f,l=k-n,e=a-d,b[0]=2*d/w,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=2*d/l,b[6]=0,b[7]=0,b[8]=(m+f)/w,b[9]=(k+n)/l,b[10]=-(a+d)/e,b[11]=-1,b[12]=0,b[13]=0,b[14]=-(a*d*2)/e,b[15]=0,d=[0,0],a=[0,0],this.rp(0,0,d),this.rp(1,1,a),this.Wh[0]=1/(a[0]-d[0]),this.Wh[1]=-1/(a[1]-d[1]);d=0;for(a=this.Aa.length;d<a;d++)f=this.Aa[d],f.We=!1,f.zo&&(c.useProgram(f.Hh),c.uniformMatrix4fv(f.zo,!1,this.aj));c.useProgram(this.Aa[this.dh].Hh);
c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE0);this.$e=this.oe=null;this.qi&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Bk),c.bindRenderbuffer(c.RENDERBUFFER,this.qi),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,this.width,this.height),this.sn||(c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,this.qi),this.sn=!0),c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,null),
this.uj=null)}};b.prototype.yc=function(){Zb(this.ik,this.Bo,this.dq,this.nc);Yb(this.nc,this.Wh)};b.prototype.translate=function(a,m){if(0!==a||0!==m){this.He[0]=a;this.He[1]=m;this.He[2]=0;var c=this.nc,d=this.He,f=d[0],n=d[1],d=d[2];c[12]=c[0]*f+c[4]*n+c[8]*d+c[12];c[13]=c[1]*f+c[5]*n+c[9]*d+c[13];c[14]=c[2]*f+c[6]*n+c[10]*d+c[14];c[15]=c[3]*f+c[7]*n+c[11]*d+c[15]}};b.prototype.scale=function(a,m){if(1!==a||1!==m)this.He[0]=a,this.He[1]=m,this.He[2]=1,Yb(this.nc,this.He)};b.prototype.wj=function(a){if(0!==
a){var m=this.nc,c,d=Math.sin(a);a=Math.cos(a);var f=m[0],n=m[1],k=m[2],b=m[3],w=m[4],l=m[5],e=m[6],g=m[7];c?m!==c&&(c[8]=m[8],c[9]=m[9],c[10]=m[10],c[11]=m[11],c[12]=m[12],c[13]=m[13],c[14]=m[14],c[15]=m[15]):c=m;c[0]=f*a+w*d;c[1]=n*a+l*d;c[2]=k*a+e*d;c[3]=b*a+g*d;c[4]=f*-d+w*a;c[5]=n*-d+l*a;c[6]=k*-d+e*a;c[7]=b*-d+g*a}};b.prototype.pc=function(){if(!h(this.pl,this.nc)){var a=this.Mb();a.type=5;a.L?Xb(this.nc,a.L):a.L=Wb(this.nc);Xb(this.nc,this.pl);this.Za=!1}};b.prototype.Aj=function(a){this.ba&&
(32760<a&&(a=32760),this.oi=this.ik[2]-this.ak-a*this.mv)};r.prototype.Yr=function(){var a=this.q,c=this.n;0!==this.tb?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,c.Bk),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),c.Ji=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),c.Ji=!1)};r.prototype.bs=function(){this.q.bindTexture(this.q.TEXTURE_2D,
this.Bc)};r.prototype.cs=function(){var a=this.q;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Bc);a.activeTexture(a.TEXTURE0)};r.prototype.Zr=function(){var a=this.jp,c=this.n;c.ni=a;c=c.Af;c.Vf&&c.$i!==a&&(c.$i=a,this.q.uniform1f(c.Vf,a))};r.prototype.Tr=function(){this.q.drawElements(this.q.TRIANGLES,this.jc,this.q.UNSIGNED_SHORT,this.tb)};r.prototype.Vr=function(){this.q.blendFunc(this.tb,this.jc)};r.prototype.ds=function(){var a,c,b,d=this.n.Aa,f=this.n.Dn;a=0;for(c=d.length;a<
c;a++)b=d[a],a===f&&b.Xi?(b.Fm(this.L),b.We=!0):b.We=!1;Xb(this.L,this.n.rk)};r.prototype.Ur=function(){var a=this.q,c=this.n;this.Bc?(c.$e===this.Bc&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),c.$e=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,c.Bk),c.Ji||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Bc,0)):(c.ba||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};
r.prototype.Qr=function(){var a=this.q,c=this.tb;0===c?(a.clearColor(this.L[0],this.L[1],this.L[2],this.L[3]),a.clear(a.COLOR_BUFFER_BIT)):1===c?(a.enable(a.SCISSOR_TEST),a.scissor(this.L[0],this.L[1],this.L[2],this.L[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};r.prototype.Xr=function(){var a=this.q;0!==this.tb?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};r.prototype.Sr=function(){var a=this.q,c=this.n;c.ba&&a.disable(a.DEPTH_TEST);
var b=c.Aa[1];a.useProgram(b.Hh);!b.We&&b.Xi&&(b.Fm(c.rk),b.We=!0);a.enableVertexAttribArray(b.uc);a.bindBuffer(a.ARRAY_BUFFER,c.Ql);a.vertexAttribPointer(b.uc,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.tb/4,this.jc);b=c.Af;a.useProgram(b.Hh);0<=b.uc&&(a.enableVertexAttribArray(b.uc),a.bindBuffer(a.ARRAY_BUFFER,c.Uh[c.td]),a.vertexAttribPointer(b.uc,c.ba?3:2,a.FLOAT,!1,0,0));0<=b.te&&(a.enableVertexAttribArray(b.te),a.bindBuffer(a.ARRAY_BUFFER,c.Nh[c.td]),a.vertexAttribPointer(b.te,2,a.FLOAT,!1,
0,0));c.ba&&a.enable(a.DEPTH_TEST)};r.prototype.$r=function(){var a=this.q,c=this.n,b=c.Aa[this.tb];c.Dn=this.tb;c.Af=b;a.useProgram(b.Hh);!b.We&&b.Xi&&(b.Fm(c.rk),b.We=!0);b.Vf&&b.$i!==c.ni&&(b.$i=c.ni,a.uniform1f(b.Vf,c.ni));0<=b.uc&&(a.enableVertexAttribArray(b.uc),a.bindBuffer(a.ARRAY_BUFFER,c.Uh[c.td]),a.vertexAttribPointer(b.uc,c.ba?3:2,a.FLOAT,!1,0,0));0<=b.te&&(a.enableVertexAttribArray(b.te),a.bindBuffer(a.ARRAY_BUFFER,c.Nh[c.td]),a.vertexAttribPointer(b.te,2,a.FLOAT,!1,0,0))};r.prototype.Wr=
function(){var a=this.L;this.q.uniform4f(this.n.Af.xl,a[0],a[1],a[2],a[3])};r.prototype.as=function(){var a,c,b=this.n.Af,d=this.q;a=this.L;b.jh&&this.n.$e!==this.Bc&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.Bc),this.n.$e=this.Bc,d.activeTexture(d.TEXTURE0));var f=a[0];b.zl&&f!==b.Ko&&(b.Ko=f,d.uniform1f(b.zl,f));f=a[1];b.yl&&f!==b.Jo&&(b.Jo=f,d.uniform1f(b.yl,f));f=a[2];c=a[3];!b.ef||f===b.Eo&&c===b.Fo||(b.Eo=f,b.Fo=c,d.uniform2f(b.ef,f,c));f=a[4];c=a[5];!b.df||f===b.Co&&c===
b.Do||(b.Co=f,b.Do=c,d.uniform2f(b.df,f,c));f=a[6];b.ih&&f!==b.Ho&&(b.Ho=f,d.uniform1f(b.ih,f));f=a[7];b.hh&&f!==b.Go&&(b.Go=f,d.uniform1f(b.hh,f));f=a[8];c=a[9];!b.mh||f===b.Oo&&c===b.Po||(b.Oo=f,b.Po=c,d.uniform2f(b.mh,f,c));f=a[10];c=a[11];!b.kh||f===b.Lo&&c===b.Mo||(b.Lo=f,b.Mo=c,d.uniform2f(b.kh,f,c));f=a[12];b.lh&&f!==b.No&&(b.No=f,d.uniform1f(b.lh,f));if(b.M.length)for(a=0,c=b.M.length;a<c;a++)f=this.Hp[a],f!==b.ol[a]&&(b.ol[a]=f,d.uniform1f(b.M[a][1],f))};b.prototype.Mb=function(){this.Jc===
this.cd.length&&this.cd.push(new r(0,this));return this.cd[this.Jc++]};b.prototype.xd=function(){if(0!==this.Jc&&!this.q.isContextLost()){var a=this.q;0<this.Rl&&(a.bindBuffer(a.ARRAY_BUFFER,this.Ql),a.bufferSubData(a.ARRAY_BUFFER,0,this.op.subarray(0,this.Rl)),c&&0<=c.uc&&"<point>"===c.name&&a.vertexAttribPointer(c.uc,4,a.FLOAT,!1,0,0));if(0<this.Dc){var c=this.Af;a.bindBuffer(a.ARRAY_BUFFER,this.Uh[this.td]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Vh.subarray(0,this.Dc));c&&0<=c.uc&&"<point>"!==c.name&&
a.vertexAttribPointer(c.uc,this.ba?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Nh[this.td]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Oh.subarray(0,this.Ge));c&&0<=c.te&&"<point>"!==c.name&&a.vertexAttribPointer(c.te,2,a.FLOAT,!1,0,0)}for(var b,a=0,c=this.Jc;a<c;a++)switch(b=this.cd[a],b.type){case 1:b.Tr();break;case 2:b.bs();break;case 3:b.Zr();break;case 4:b.Vr();break;case 5:b.ds();break;case 6:b.Ur();break;case 7:b.Qr();break;case 8:b.Sr();break;case 9:b.$r();break;case 10:b.as();break;
case 11:b.cs();break;case 12:b.Wr();break;case 13:b.Xr();break;case 14:b.Yr()}this.Rl=this.Ge=this.Dc=this.Jc=0;this.Ji=this.Za=!1;this.td++;4<=this.td&&(this.td=0)}};b.prototype.Ee=function(a){if(a!==this.uo&&!this.Vg){var c=this.Mb();c.type=3;this.uo=c.jp=a;this.Za=!1}};b.prototype.Ob=function(a){if(a!==this.oe){var c=this.Mb();c.type=2;this.oe=c.Bc=a;this.Za=!1}};b.prototype.De=function(a,c){if((a!==this.vo||c!==this.to)&&!this.Vg){var b=this.Mb();b.type=4;b.tb=a;b.jc=c;this.vo=a;this.to=c;this.Za=
!1}};b.prototype.yp=function(){this.De(this.q.ONE,this.q.ONE_MINUS_SRC_ALPHA)};b.prototype.Bh=function(a,c,b,d,f,n,k,y){15992<=this.Dc&&this.xd();var w=this.Dc,l=this.Ge,e=this.Vh,g=this.Oh,p=this.oi;if(this.Za)this.cd[this.Jc-1].jc+=6;else{var v=this.Mb();v.type=1;v.tb=this.ba?w:w/2*3;v.jc=6;this.Za=!0}this.ba?(e[w++]=a,e[w++]=c,e[w++]=p,e[w++]=b,e[w++]=d,e[w++]=p,e[w++]=f,e[w++]=n,e[w++]=p,e[w++]=k,e[w++]=y,e[w++]=p):(e[w++]=a,e[w++]=c,e[w++]=b,e[w++]=d,e[w++]=f,e[w++]=n,e[w++]=k,e[w++]=y);g[l++]=
0;g[l++]=0;g[l++]=1;g[l++]=0;g[l++]=1;g[l++]=1;g[l++]=0;g[l++]=1;this.Dc=w;this.Ge=l};b.prototype.Uc=function(a,c,b,d,f,n,k,y,w){15992<=this.Dc&&this.xd();var l=this.Dc,e=this.Ge,g=this.Vh,p=this.Oh,v=this.oi;if(this.Za)this.cd[this.Jc-1].jc+=6;else{var A=this.Mb();A.type=1;A.tb=this.ba?l:l/2*3;A.jc=6;this.Za=!0}var A=w.left,t=w.top,h=w.right;w=w.bottom;this.ba?(g[l++]=a,g[l++]=c,g[l++]=v,g[l++]=b,g[l++]=d,g[l++]=v,g[l++]=f,g[l++]=n,g[l++]=v,g[l++]=k,g[l++]=y,g[l++]=v):(g[l++]=a,g[l++]=c,g[l++]=b,
g[l++]=d,g[l++]=f,g[l++]=n,g[l++]=k,g[l++]=y);p[e++]=A;p[e++]=t;p[e++]=h;p[e++]=t;p[e++]=h;p[e++]=w;p[e++]=A;p[e++]=w;this.Dc=l;this.Ge=e};b.prototype.Fu=function(a,c,b,d,f,n,k,y,w,l,e,g,p,v,A,t){15992<=this.Dc&&this.xd();var h=this.Dc,u=this.Ge,q=this.Vh,r=this.Oh,D=this.oi;if(this.Za)this.cd[this.Jc-1].jc+=6;else{var M=this.Mb();M.type=1;M.tb=this.ba?h:h/2*3;M.jc=6;this.Za=!0}this.ba?(q[h++]=a,q[h++]=c,q[h++]=D,q[h++]=b,q[h++]=d,q[h++]=D,q[h++]=f,q[h++]=n,q[h++]=D,q[h++]=k,q[h++]=y,q[h++]=D):(q[h++]=
a,q[h++]=c,q[h++]=b,q[h++]=d,q[h++]=f,q[h++]=n,q[h++]=k,q[h++]=y);r[u++]=w;r[u++]=l;r[u++]=e;r[u++]=g;r[u++]=p;r[u++]=v;r[u++]=A;r[u++]=t;this.Dc=h;this.Ge=u};b.prototype.Pb=function(a){if(this.dh!==a){if(!this.Aa[a]){if(0===this.dh)return;a=0}var c=this.Mb();c.type=9;this.dh=c.tb=a;this.Za=!1}};b.prototype.yh=function(a){a=this.Aa[a];return!(!a.ef&&!a.df)};b.prototype.Tl=function(a){a=this.Aa[a];return!!(a.ef||a.df||a.Cn)};b.prototype.Sl=function(a){return this.Aa[a].Rc};b.prototype.Cu=function(a){a=
this.Aa[a];return 0!==a.zk||0!==a.Ak};b.prototype.pt=function(a){return this.Aa[a].zk};b.prototype.qt=function(a){return this.Aa[a].Ak};b.prototype.tt=function(a,c){return this.Aa[a].M[c][2]};b.prototype.pj=function(a){return this.Aa[a].pn};b.prototype.bg=function(a,c,b,d,f,n,k,y,h,l,e,g,p,v,A){var t=this.Aa[this.dh],u,q;if(t.Nt||A.length){u=this.Mb();u.type=10;u.L?Xb(this.nc,u.L):u.L=Wb();q=u.L;q[0]=c;q[1]=b;q[2]=d;q[3]=f;q[4]=n;q[5]=k;q[6]=y;q[7]=h;q[8]=l;q[9]=e;q[10]=g;q[11]=p;q[12]=v;t.jh?u.Bc=
a:u.Bc=null;if(A.length)for(b=u.Hp,b.length=A.length,a=0,c=A.length;a<c;a++)b[a]=A[a];this.Za=!1}};b.prototype.clear=function(a,c,b,d){var f=this.Mb();f.type=7;f.tb=0;f.L||(f.L=Wb());f.L[0]=a;f.L[1]=c;f.L[2]=b;f.L[3]=d;this.Za=!1};b.prototype.clearRect=function(a,c,b,d){if(!(0>b||0>d)){var f=this.Mb();f.type=7;f.tb=1;f.L||(f.L=Wb());f.L[0]=a;f.L[1]=c;f.L[2]=b;f.L[3]=d;this.Za=!1}};b.prototype.Bp=function(a){if(this.ba&&(a=!!a,this.Vg!==a)){var c=this.Mb();c.type=14;c.tb=a?1:0;this.Za=!1;this.Vg=a;
this.uj=null;this.Vg?this.Pb(2):this.Pb(0)}};b.prototype.Ap=function(a){if(this.ba){var c=this.Mb();c.type=13;c.tb=a?1:0;this.Za=!1}};b.prototype.On=function(){Xb(this.pl,u);this.yc();this.pc();var a=this.width/2,c=this.height/2;this.Bh(-a,c,a,c,a,-c,-a,-c);Xb(u,this.nc);this.pc()};b.prototype.zp=function(a,c,b){this.Pb(3);var d=this.Mb();d.type=12;d.L||(d.L=Wb());d.L[0]=a;d.L[1]=c;d.L[2]=b;d.L[3]=1;this.Za=!1};b.prototype.Uu=function(){this.Pb(0)};b.prototype.Ju=function(){this.Pb(2)};b.prototype.Bu=
function(){this.xd();this.q.flush()};var q=[],c={};b.prototype.Hr=function(){V(q);c={}};b.prototype.Ui=function(a,b,h,d){b=!!b;h=!!h;var f=a.src+","+b+","+h+(b?",undefined":""),n=null;if("undefined"!==typeof a.src&&c.hasOwnProperty(f))return n=c[f],n.ei++,n;this.xd();var k=this.q,y=ja(a.width)&&ja(a.height),n=k.createTexture();k.bindTexture(k.TEXTURE_2D,n);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var w=k.RGBA,l=k.RGBA,e=k.UNSIGNED_BYTE;if(d&&!this.ke)switch(d){case 1:l=w=k.RGB;break;case 2:e=
k.UNSIGNED_SHORT_4_4_4_4;break;case 3:e=k.UNSIGNED_SHORT_5_5_5_1;break;case 4:l=w=k.RGB,e=k.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!y&&b){d=document.createElement("canvas");d.width=ka(a.width);d.height=ka(a.height);var g=d.getContext("2d");"undefined"!==typeof g.imageSmoothingEnabled?g.imageSmoothingEnabled=h:(g.webkitImageSmoothingEnabled=h,g.mozImageSmoothingEnabled=h,g.msImageSmoothingEnabled=h);g.drawImage(a,0,0,a.width,a.height,0,0,d.width,d.height);k.texImage2D(k.TEXTURE_2D,0,w,l,e,d)}else k.texImage2D(k.TEXTURE_2D,
0,w,l,e,a);b?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));h?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.LINEAR),(y||2<=this.version)&&this.Hn?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR_MIPMAP_LINEAR),k.generateMipmap(k.TEXTURE_2D)):k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,
k.LINEAR)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST));k.bindTexture(k.TEXTURE_2D,null);this.oe=null;n.Me=a.width;n.Le=a.height;n.ei=1;n.wn=f;q.push(n);return c[f]=n};b.prototype.Tb=function(a,c,b,d,f){this.xd();var n=this.q;this.ke&&(d=!1);var k=n.createTexture();n.bindTexture(n.TEXTURE_2D,k);n.texImage2D(n.TEXTURE_2D,0,n.RGBA,a,c,0,n.RGBA,d?n.UNSIGNED_SHORT_4_4_4_4:n.UNSIGNED_BYTE,null);f?(n.texParameteri(n.TEXTURE_2D,
n.TEXTURE_WRAP_S,n.REPEAT),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.REPEAT)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,b?n.LINEAR:n.NEAREST);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,b?n.LINEAR:n.NEAREST);n.bindTexture(n.TEXTURE_2D,null);this.oe=null;k.Me=a;k.Le=c;q.push(k);return k};b.prototype.nq=function(a,c,b){this.xd();var d=this.q;this.ke&&(b=
!1);d.bindTexture(d.TEXTURE_2D,c);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,b?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(f){console&&console.error&&console.error("Error updating WebGL texture: ",f)}d.bindTexture(d.TEXTURE_2D,null);this.oe=null};b.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.ei&&1<a.ei?a.ei--:(this.xd(),a===this.oe&&(this.q.bindTexture(this.q.TEXTURE_2D,null),this.oe=null),a===this.$e&&(this.q.activeTexture(this.q.TEXTURE1),
this.q.bindTexture(this.q.TEXTURE_2D,null),this.q.activeTexture(this.q.TEXTURE0),this.$e=null),Aa(q,a),"undefined"!==typeof a.wn&&delete c[a.wn],this.q.deleteTexture(a)))};b.prototype.zc=function(a){if(a!==this.uj){var c=this.Mb();c.type=6;this.uj=c.Bc=a;this.Za=!1}};db=b})();
(function(){function b(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var e=this;this.tc=(this.dl=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.je=!!a.dc;this.Vt="undefined"!==typeof window.AppMobi||
this.je;this.sc=!!window.c2cocoonjs;this.Oc=!!window.c2ejecta;this.sc&&(CocoonJS.App.onSuspended.addEventListener(function(){e.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){e.setSuspended(!1)}));this.Oc&&(document.addEventListener("pagehide",function(){e.setSuspended(!0)}),document.addEventListener("pageshow",function(){e.setSuspended(!1)}),document.addEventListener("resize",function(){e.setSize(window.innerWidth,window.innerHeight)}));this.Da=this.je||this.sc||this.Oc;this.Ki=
/edge\//i.test(navigator.userAgent);this.ke=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Ki;this.lo=/tizen/i.test(navigator.userAgent);this.cl=/android/i.test(navigator.userAgent)&&!this.lo&&!this.ke&&!this.Ki;this.ro=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.ke&&!this.Ki;this.bu=/ipad/i.test(navigator.userAgent);this.Oi=this.ro||this.bu||this.Oc;this.Xt=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.ke&&!this.Ki;this.Ut=/amazonwebappplatform/i.test(navigator.userAgent);this.Yt=/firefox/i.test(navigator.userAgent);this.gl="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.oo=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.po=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Yg=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.kl=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.no=!!window.cr_windows10;this.$t=this.oo||this.po||this.kl||this.no;this.Wt=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.jo=this.cl&&!this.Xt&&!this.dl&&!this.Yt&&!this.Ut&&!this.Da;this.devicePixelRatio=1;this.Fd=this.tc||this.dl||this.Vt||this.sc||this.cl||this.Oi||this.Yg||this.kl||this.Wt||this.lo||this.Oc;this.Fd||
(this.Fd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.mo=!!(this.Oi&&this.tc&&window.webkit);"undefined"===typeof cr_is_preview||this.gl||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.gl=!0);this.canvas=a;this.yn=document.getElementById("c2canvasdiv");this.n=this.q=null;this.Qk="(unavailable)";this.ba=!1;this.Se=0;this.ia=null;this.wi=!1;this.dp=this.ep=
0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.ontouchstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.je&&(window.c2runtime=this);this.gl&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.jo&&"undefined"!==
typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.D=this.width;this.C=this.height;this.li=this.width;this.Cg=this.height;this.Tf=window.innerWidth;this.Sf=window.innerHeight;this.Y=!0;this.Xg=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.p=[];this.xa=[];this.sl={};this.Pc=[];this.yk={};this.yd=[];this.ng=[];this.Vj=[];this.xr=[];this.yr=[];this.so=this.Np=null;this.Qe={};this.fl=this.he=!1;this.Ed=
0;this.el=this.il=!1;this.Lc=[];this.Wg=!1;this.Si=this.fm="";this.Ra=null;this.Gd="";this.Lh=this.Kp=!1;this.vi=[];this.Re=this.Df=0;this.Vo=30;this.pk=this.nh=0;this.ig=1;this.mc=new Ua;this.$j=new Ua;this.gj=this.Ci=this.Hg=this.nd=this.cf=this.Dk=this.Pi=0;this.xg=null;this.ri=[];this.xk=[];this.si=-1;this.Al=[[]];this.Am=this.Yi=0;this.rj(null);this.Ig=this.$o=this.rh=0;this.Jj=[];this.xm=this.Wl=-1;this.$g=!0;this.Wi=0;this.Li=!1;this.Xu=0;this.ug=null;this.Oa=this.Hi=!1;this.cp=new ea;this.Gl=
new ea;this.Hl=new ea;this.lf=[];this.Wc=new Wa([]);this.qm=new Wa([]);this.xf=[];this.Pg={};this.ae={};this.Xd={};this.mg={};this.tn={};this.yo=this.Ri=this.Fa=this.Pa=this.xo=this.Qi=this.da=null;this.kg=this.ll=!1;this.Fk=[null,null];this.Hf=0;this.Ld={};this.Jh=this.qe=null;this.Lp="";this.fj=[];this.Iu()}}function t(a,e){return 128>=e?a[3]:256>=e?a[2]:512>=e?a[1]:a[0]}function h(){try{return!!window.indexedDB}catch(a){return!1}}function r(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}
function u(a,e,d,g){try{var l=indexedDB.open("_C2SaveStates");l.onupgradeneeded=r;l.onerror=g;l.onsuccess=function(l){l=l.target.result;l.onerror=g;l.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:e}).onsuccess=d}}catch(c){g(c)}}function q(a,e,d){try{var g=indexedDB.open("_C2SaveStates");g.onupgradeneeded=r;g.onerror=d;g.onsuccess=function(g){g=g.target.result;g.onerror=d;var l=g.transaction(["saves"]).objectStore("saves").get(a);l.onsuccess=function(){l.result?e(l.result.data):
e(null)}}}catch(l){d(l)}}function c(){C("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var e,d={};for(e in a)!a.hasOwnProperty(e)||a[e]instanceof ea||a[e]&&"undefined"!==typeof a[e].vw||"spriteCreatedDestroyCallback"!==e&&(d[e]=a[e]);return d}var m=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame||window.oRequestAnimationFrame;b.prototype.Iu=function(){var a=this;if(this.mo)this.Zs(function(e){a.gh(JSON.parse(e))},function(){alert("Error fetching data.js")});else{var e;this.Yg?e=new ActiveXObject("Microsoft.XMLHTTP"):e=new XMLHttpRequest;var d="data.js";if(this.oo||this.Yg||this.kl||this.no)d="data.json";e.open("GET",d,!0);var g=!1;if(!this.Da&&"response"in e&&"responseType"in e)try{e.responseType="json",g="json"===e.responseType}catch(l){g=!1}if(!g&&"responseType"in
e)try{e.responseType="text"}catch(c){}if("overrideMimeType"in e)try{e.overrideMimeType("application/json; charset=utf-8")}catch(f){}this.Yg?e.onreadystatechange=function(){4===e.readyState&&a.gh(JSON.parse(e.responseText))}:(e.onload=function(){if(g)a.gh(e.response);else if(a.Oc){var d=e.responseText,d=d.substr(d.indexOf("{"));a.gh(JSON.parse(d))}else a.gh(JSON.parse(e.responseText))},e.onerror=function(a){ga("Error requesting "+d+":");ga(a)});e.send()}};b.prototype.Qt=function(){var a=this,e,d,g,
l,c,f,b,k,p;this.Ze=(!this.Da||this.Oc||this.tc)&&this.dv&&!this.jo;0===this.Cb&&this.Oi&&(this.Ze=!1);this.devicePixelRatio=this.Ze?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;"object"===typeof window.StatusBar&&window.StatusBar.hide();this.ib();0<this.Cb&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(e){e.preventDefault();a.mu();C("[Construct 2] WebGL context lost");
window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.n.co();a.n.nf(a.n.width,a.n.height,!0);a.Pa=null;a.Fa=null;a.Fk[0]=null;a.Fk[1]=null;a.nu();a.Y=!0;C("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);try{this.qs&&(this.sc||this.Oc||!this.Da)&&(e={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.cl||(this.q=this.canvas.getContext("webgl2",e)),this.q||(this.q=this.canvas.getContext("webgl",
e)||this.canvas.getContext("experimental-webgl",e)))}catch(n){}if(this.q){if(e=this.q.getExtension("WEBGL_debug_renderer_info"))this.Qk=this.q.getParameter(e.UNMASKED_RENDERER_WEBGL)+" ["+this.q.getParameter(e.UNMASKED_VENDOR_WEBGL)+"]";this.ba&&(this.Qk+=" [front-to-back enabled]");this.Da||(this.fb=document.createElement("canvas"),jQuery(this.fb).appendTo(this.canvas.parentNode),this.fb.oncontextmenu=function(){return!1},this.fb.onselectstart=function(){return!1},this.fb.width=Math.round(this.li*
this.devicePixelRatio),this.fb.height=Math.round(this.Cg*this.devicePixelRatio),jQuery(this.fb).css({width:this.li+"px",height:this.Cg+"px"}),this.pp(),this.Pl=this.fb.getContext("2d"));this.n=new db(this.q,this.Fd,this.ba);this.n.nf(this.canvas.width,this.canvas.height);this.n.Hn=0!==this.es;this.ia=null;e=0;for(d=this.p.length;e<d;e++)for(c=this.p[e],g=0,l=c.I.length;g<l;g++)b=c.I[g],b.Ja=this.n.Ok(b.id),b.Rc=this.n.Sl(b.Ja),this.kg=this.kg||this.n.yh(b.Ja);e=0;for(d=this.Pc.length;e<d;e++){k=this.Pc[e];
g=0;for(l=k.I.length;g<l;g++)b=k.I[g],b.Ja=this.n.Ok(b.id),b.Rc=this.n.Sl(b.Ja);k.$c();g=0;for(l=k.J.length;g<l;g++){p=k.J[g];c=0;for(f=p.I.length;c<f;c++)b=p.I[c],b.Ja=this.n.Ok(b.id),b.Rc=this.n.Sl(b.Ja),this.kg=this.kg||this.n.yh(b.Ja);p.$c()}}}else{if(0<this.Cb&&this.je){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.ia=AppMobi.canvas.getContext("2d");try{this.ia.samplingMode=this.na?"smooth":"sharp",this.ia.globalScale=1,this.ia.HTML5CompatibilityMode=
!0,this.ia.imageSmoothingEnabled=this.na}catch(m){}0!==this.width&&0!==this.height&&(this.ia.width=this.width,this.ia.height=this.height)}this.ia||(this.sc?(e={antialias:!!this.na,alpha:!0},this.ia=this.canvas.getContext("2d",e)):(e={alpha:!0},this.ia=this.canvas.getContext("2d",e)),this.zj(this.ia,this.na));this.Pl=this.fb=null}this.Tp=function(e){a.Xc(!1,e)};window==window.top||this.Da||this.$t||this.Yg||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",
function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.sc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(C("Reloading for continuous preview"),this.Si="__c2_continuouspreview",this.Lh=!0),this.vu&&!this.Fd&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var e=window.parent;e&&e.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){a.we()});
this.Da||(e=function(a){if(cb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(e){}},"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",e):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",e):document.addEventListener("touchstart",e),document.addEventListener("mousedown",e));0===this.Cb&&this.Ze&&1<this.devicePixelRatio&&this.setSize(this.Ha,
this.Ga,!0);this.bq();this.Jt();this.go();this.N={}};b.prototype.setSize=function(a,e,d){var g=0,l=0,c=0,f=0,f=0;if(this.Tf!==a||this.Sf!==e||d){this.Tf=a;this.Sf=e;var b=this.Cb;if((c=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Li)&&!this.tc)||0!==this.Cb||d)c&&(b=this.Hf),d=this.devicePixelRatio,4<=b?(5===b&&1!==d&&(a+=1,e+=1),c=this.Ha/this.Ga,a/e>c?(c*=e,5===b?(f=c*d/this.Ha,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),c=this.Ha*
f/d,f=this.Ga*f/d,g=(a-c)/2,l=(e-f)/2,a=c,e=f):(g=(a-c)/2,a=c)):(f=a/c,5===b?(f=f*d/this.Ga,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),c=this.Ha*f/d,f=this.Ga*f/d,g=(a-c)/2,l=(e-f)/2,a=c):l=(e-f)/2,e=f)):c&&0===b&&(g=Math.floor((a-this.Ha)/2),l=Math.floor((e-this.Ga)/2),a=this.Ha,e=this.Ga),2>b&&(this.tg=d),this.li=Math.round(a),this.Cg=Math.round(e),this.width=Math.round(a*d),this.height=Math.round(e*d),this.Y=!0,this.oq?(this.D=this.width,this.C=this.height,this.hc=!0):this.width<this.Ha&&this.height<
this.Ga||1===b?(this.D=this.width,this.C=this.height,this.hc=!0):(this.D=this.Ha,this.C=this.Ga,this.hc=!1,2===b?(c=this.Ha/this.Ga,b=this.Tf/this.Sf,b<c?this.D=this.C*b:b>c&&(this.C=this.D/b)):3===b&&(c=this.Ha/this.Ga,b=this.Tf/this.Sf,b>c?this.D=this.C*b:b<c&&(this.C=this.D/b))),this.yn&&!this.Da&&(jQuery(this.yn).css({width:Math.round(a)+"px",height:Math.round(e)+"px","margin-left":Math.floor(g)+"px","margin-top":Math.floor(l)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+
"px",height:Math.round(e)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*d),this.canvas.height=Math.round(e*d),this.Oc?(this.canvas.style.left=Math.floor(g)+"px",this.canvas.style.top=Math.floor(l)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(e)+"px"):this.Ze&&!this.Da&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(e)+"px")),this.fb&&(this.fb.width=Math.round(a*d),this.fb.height=Math.round(e*d),this.fb.style.width=this.li+
"px",this.fb.style.height=this.Cg+"px"),this.n&&this.n.nf(Math.round(a*d),Math.round(e*d)),this.je&&this.ia&&(this.ia.width=Math.round(a),this.ia.height=Math.round(e)),this.ia&&this.zj(this.ia,this.na),this.bq(),this.ro&&!this.tc&&window.scrollTo(0,0)}};b.prototype.bq=function(){if(this.Br&&0!==this.Ol){var a="portrait";2===this.Ol&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?
screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(e){console&&console.warn&&console.warn("Failed to lock orientation: ",e)}}};b.prototype.mu=function(){this.n.Hr();this.ll=!0;var a,e,d;a=0;for(e=this.p.length;a<e;a++)d=this.p[a],d.vh&&d.vh()};b.prototype.nu=function(){this.ll=!1;var a,e,d;a=0;for(e=this.p.length;a<e;a++)d=this.p[a],d.ij&&d.ij()};b.prototype.pp=function(){if(!this.Da){var a=(document.mozFullScreen||
document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Li)&&!this.tc?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.fb).css(a)}};var x=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;b.prototype.setSuspended=function(a){var e;if(a&&!this.Xg)for(C("[Construct 2] Suspending"),this.Xg=!0,-1!==this.Wl&&x&&x(this.Wl),-1!==
this.xm&&clearTimeout(this.xm),a=0,e=this.Jj.length;a<e;a++)this.Jj[a](!0);else if(!a&&this.Xg){C("[Construct 2] Resuming");this.Xg=!1;this.Pi=Qa();this.cf=Qa();a=this.nh=this.Ci=0;for(e=this.Jj.length;a<e;a++)this.Jj[a](!1);this.Xc(!1)}};b.prototype.Vd=function(a){return this.fj[a]};b.prototype.gh=function(a){a&&a.project||ga("Project model unavailable");a=a.project;this.name=a[0];this.Nn=a[1];this.Cb=a[12];this.Ha=a[10];this.Ga=a[11];this.kp=this.Ha/2;this.lp=this.Ga/2;this.Da&&!this.Oc&&(4<=a[12]||
0===a[12])&&(C("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Cb=3);this.Hm=a[18];this.re=a[19];if(0===this.re){var e=new Image;e.crossOrigin="anonymous";this.Cp(e,"loading-logo.png");this.qe={Zi:e}}else if(4===this.re){e=new Image;e.src="";var d=new Image;d.src="";var g=new Image;g.src="";var l=new Image;l.src="";var c=new Image;c.src="";var f=new Image;f.src="";var b=new Image;b.src="";var k=new Image;k.src="";var p=new Image;
p.src="";var n=new Image;n.src="";var m=new Image;m.src="";var A=new Image;A.src="";this.qe={Zi:[e,d,g,l],yu:[c,f,b,k],jv:[p,n,m,A]}}this.rh=a[21];this.fj=ac();this.md=new Y(this);e=0;for(d=a[2].length;e<d;e++)b=a[2][e],g=this.Vd(b[0]),eb(b,g.prototype),k=new g(this),k.Fj=b[1],k.le=b[2],k.Cw=b[5],k.Xo=b[9],k.R&&k.R(),this.plugins.push(k);this.fj=ac();e=0;for(d=a[3].length;e<d;e++){b=a[3][e];c=this.Vd(b[1]);k=null;g=0;for(l=this.plugins.length;g<l;g++)if(this.plugins[g]instanceof c){k=this.plugins[g];
break}p=new k.wa(k);p.name=b[0];p.B=b[2];p.al=b[3].slice(0);p.hv=b[3].length;p.Cr=b[4];p.dt=b[5];p.P=b[11];p.B?(p.ph=[],p.zd=this.Ig++,p.qa=null):(p.ph=null,p.zd=-1,p.qa=[]);p.ti=null;p.Ff=null;p.In=null;p.lc=!1;p.Sb=null;b[6]?(p.Lj=b[6][0],p.Mj=b[6][1],p.rm=b[6][2]):(p.Lj=null,p.Mj=0,p.rm=0);b[7]?p.Rb=b[7]:p.Rb=null;p.index=e;p.i=[];p.pi=[];p.Pd=[new fb(p)];p.dd=0;p.ed=null;p.Mr=0;p.fg=!0;p.Xj=gb;p.it=hb;p.ot=ib;p.X=jb;p.Ah=kb;p.qj=lb;p.kf=mb;p.Di=nb;p.Hk=ob;p.Kk=pb;p.Hc=qb;p.Mk=rb;p.ji=new Xa(this.Ha,
this.Ga);p.Yh=!0;p.Zh=!1;p.N={};p.toString=sb;p.xa=[];g=0;for(l=b[8].length;g<l;g++){n=b[8][g];m=this.Vd(n[1]);A=null;c=0;for(f=this.xa.length;c<f;c++)if(this.xa[c]instanceof m){A=this.xa[c];break}A||(A=new m(this),A.ej=[],A.cj=new ea,A.R&&A.R(),this.xa.push(A),bc&&A instanceof bc&&(this.Np=A),Tb.du&&A instanceof Tb.du&&(this.so=A));-1===A.ej.indexOf(p)&&A.ej.push(p);c=new A.wa(A,p);c.name=n[0];c.P=n[2];c.R();p.xa.push(c)}p.global=b[9];p.hl=b[10];p.I=[];g=0;for(l=b[12].length;g<l;g++)p.I.push({id:b[12][g][0],
name:b[12][g][1],Ja:-1,Rc:!1,ec:!0,index:g});p.Qj=b[13];this.Hm&&!p.B&&!p.hl&&k.le||p.R();p.name&&(this.types[p.name]=p);this.p.push(p);k.Fj&&(g=new k.fa(p),g.uid=this.rh++,g.tp=this.$o++,g.Xe=0,g.Ng=tb,g.toString=ub,g.K=b[14],g.R(),p.i.push(g),this.Ld[g.uid.toString()]=g)}e=0;for(d=a[4].length;e<d;e++)for(c=a[4][e],f=this.p[c[0]],g=1,l=c.length;g<l;g++)b=this.p[c[g]],b.qa.push(f),f.ph.push(b);e=0;for(d=a[28].length;e<d;e++){c=a[28][e];f=[];g=0;for(l=c.length;g<l;g++)f.push(this.p[c[g]]);g=0;for(l=
f.length;g<l;g++)f[g].lc=!0,f[g].Sb=f}if(0<this.Ig)for(e=0,d=this.p.length;e<d;e++)if(b=this.p[e],!b.B&&b.qa.length){b.ti=Array(this.Ig);b.Ff=Array(this.Ig);b.In=Array(this.Ig);p=[];g=A=m=n=0;for(l=b.qa.length;g<l;g++)for(k=b.qa[g],b.ti[k.zd]=n,n+=k.hv,b.Ff[k.zd]=m,m+=k.Cr,b.In[k.zd]=A,A+=k.dt,c=0,f=k.I.length;c<f;c++)p.push(ta({},k.I[c]));b.I=p.concat(b.I);g=0;for(l=b.I.length;g<l;g++)b.I[g].index=g}e=0;for(d=a[5].length;e<d;e++)b=a[5][e],g=new vb(this,b),this.sl[g.name]=g,this.Pc.push(g);e=0;for(d=
a[6].length;e<d;e++)b=a[6][e],g=new wb(this,b),this.yk[g.name]=g,this.yd.push(g);e=0;for(d=this.yd.length;e<d;e++)this.yd[e].Ea();e=0;for(d=this.yd.length;e<d;e++)this.yd[e].Em();e=0;for(d=this.Vj.length;e<d;e++)this.Vj[e].Ea();V(this.Vj);this.Ar=a[7];this.oc=a[9];this.tg=1;this.qs=a[13];this.na=a[14];this.An=a[15];this.dv=a[17];this.Ol=a[20];this.Br=0<this.Ol;this.vu=a[22];this.hc=this.oq=a[23];this.es=a[24];this.zu=a[25];this.ba=a[27]&&!this.ke;this.Gj=Date.now();V(this.fj);this.Qt()};var d=!1,
f=0,n=[];b.prototype.Gu=function(a,e){function d(){f--;g.Ro()}var g=this;a.addEventListener("load",d);a.addEventListener("error",d);n.push([a,e]);this.Ro()};b.prototype.Ro=function(){for(var a;n.length&&100>f;)f++,a=n.shift(),this.Cp(a[0],a[1])};b.prototype.Im=function(a,e){a.cocoonLazyLoad=!0;a.onerror=function(e){d=a.vn=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",e)};this.Oc?a.src=e:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(e,function(e){a.src=e},function(g){d=
a.vn=!0;console&&console.error&&console.error("Error extracting image '"+e+"' from expansion file: ",g)}):(a.crossOrigin="anonymous",this.Gu(a,e)));this.ng.push(a)};b.prototype.bt=function(a){var e,d;e=0;for(d=this.ng.length;e<d;e++)if(this.ng[e].Ir===a)return this.ng[e];return null};var k=0,y=!1;b.prototype.Jt=function(){this.ug&&(k=this.ug.Nw(this.Ar))};b.prototype.rn=function(){var a=k,e=0,d=0,g=!0,c,l,d=0;for(c=this.ng.length;d<c;d++){l=this.ng[d];var f=l.qk;if(!f||0>=f)f=5E4;a+=f;l.src&&(l.complete||
l.loaded)&&!l.vn?e+=f:g=!1}g&&this.zu&&this.ug&&(y||(this.ug.Ow(),y=!0),d=this.ug.zw(),e+=d,d<k&&(g=!1));this.Sc=0==a?1:e/a;return g};var w=!1;b.prototype.go=function(){if(this.ia||this.n){var a=this.ia||this.Pl;this.fb&&this.pp();var e=window.innerWidth,g=window.innerHeight;this.Tf===e&&this.Sf===g||this.setSize(e,g);this.Sc=0;this.wo=-1;var l=this;if(this.rn()&&(4!==this.re||w))this.Kt();else{g=Date.now()-this.Gj;if(a){var c=this.width,f=this.height,e=this.devicePixelRatio;if(3>this.re&&(this.sc||
500<=g&&this.wo!=this.Sc)){a.clearRect(0,0,c,f);var g=c/2,f=f/2,c=0===this.re&&this.qe.Zi.complete,b=40*e,p=0,k=80*e,n;if(c){var A=this.qe.Zi,k=A.width*e;n=A.height*e;b=k/2;p=n/2;a.drawImage(A,T(g-b),T(f-p),k,n)}1>=this.re?(g=T(g-b)+.5,f=T(f+(p+(c?12*e:0)))+.5,a.fillStyle=d?"red":"DodgerBlue",a.fillRect(g,f,Math.floor(k*this.Sc),6*e),a.strokeStyle="black",a.strokeRect(g,f,k,6*e),a.strokeStyle="white",a.strokeRect(g-1*e,f-1*e,k+2*e,8*e)):2===this.re&&(a.font=this.Oc?"12pt ArialMT":"12pt Arial",a.fillStyle=
d?"#f00":"#999",a.Pw="middle",e=Math.round(100*this.Sc)+"%",c=a.measureText?a.measureText(e):null,a.fillText(e,g-(c?c.width:0)/2,f));this.wo=this.Sc}else if(4===this.re){this.ns(a);m?m(function(){l.go()}):setTimeout(function(){l.go()},16);return}}setTimeout(function(){l.go()},this.sc?10:100)}}};var l=-1,e="undefined"===typeof cr_is_preview?200:0,g=!0,p=!1,v=0,A=0,Na="undefined"===typeof cr_is_preview?3E3:0,H=null,aa=null,pa=0;b.prototype.ns=function(a){if(!w){for(var c=Math.ceil(this.width),f=Math.ceil(this.height),
b=this.qe.Zi,k=this.qe.yu,n=this.qe.jv,m=0;4>m;++m)if(!b[m].complete||!k[m].complete||!n[m].complete)return;0===pa&&(l=Date.now());var m=Date.now(),y=!1,h=a,q,u;g||p?(a.clearRect(0,0,c,f),H&&H.width===c&&H.height===f||(H=document.createElement("canvas"),H.width=c,H.height=f,aa=H.getContext("2d")),h=aa,y=!0,g&&1===pa&&(l=Date.now())):a.globalAlpha=1;h.fillStyle="#333333";h.fillRect(0,0,c,f);256<this.Cg?(q=Ba(.22*f,105,.6*c),u=.25*q,h.drawImage(t(k,q),.5*c-q/2,.2*f-u/2,q,u),u=q=Math.min(.395*f,.95*
c),h.drawImage(t(b,q),.5*c-q/2,.485*f-u/2,q,u),q=Ba(.22*f,105,.6*c),u=.25*q,h.drawImage(t(n,q),.5*c-q/2,.868*f-u/2,q,u),h.fillStyle="#3C3C3C",q=c,u=Math.max(.005*f,2),h.fillRect(0,.8*f-u/2,q,u),h.fillStyle=d?"red":"#E0FF65",q=c*this.Sc,h.fillRect(.5*c-q/2,.8*f-u/2,q,u)):(u=q=.55*f,h.drawImage(t(b,q),.5*c-q/2,.45*f-u/2,q,u),h.fillStyle="#3C3C3C",q=c,u=Math.max(.005*f,2),h.fillRect(0,.85*f-u/2,q,u),h.fillStyle=d?"red":"#E0FF65",q=c*this.Sc,h.fillRect(.5*c-q/2,.85*f-u/2,q,u));y&&(g?a.globalAlpha=0===
pa?0:Math.min((m-l)/300,1):p&&(a.globalAlpha=Math.max(1-(m-A)/300,0)),a.drawImage(H,0,0,c,f));g&&300<=m-l&&2<=pa&&(g=!1,v=m);!g&&m-v>=Na&&!p&&1<=this.Sc&&(p=!0,A=m);if(p&&m-A>=300+e||"undefined"!==typeof cr_is_preview&&1<=this.Sc&&500>Date.now()-l)w=!0,p=g=!1,this.qe=aa=H=null;++pa}};b.prototype.Kt=function(){this.fb&&(this.canvas.parentNode.removeChild(this.fb),this.fb=this.Pl=null);this.Gj=Date.now();this.cf=Qa();var a,e,d;if(this.Hm)for(a=0,e=this.p.length;a<e;a++)d=this.p[a],d.B||d.hl||!d.oa.le||
d.R();else this.$g=!1;a=0;for(e=this.Pc.length;a<e;a++)this.Pc[a].Jr();2<=this.Cb&&(a=this.Ha/this.Ga,e=this.width/this.height,this.tg=2!==this.Cb&&e>a||2===this.Cb&&e<a?this.height/this.Ga:this.width/this.Ha);this.Nn?this.sl[this.Nn].om():this.Pc[0].om();this.Hm||(this.Wi=1,this.trigger(Y.prototype.j.Tm,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(e=this.p.length;a<e;a++)d=this.p[a],d.lu&&d.lu();document.hidden||
document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Xc(!1);this.je&&AppMobi.webview.execute("onGameReady();")};b.prototype.Xc=function(a,e,d){if(this.da){var g=Qa();if(d||!this.Xg||a){a||(m?this.Wl=m(this.Tp):this.xm=setTimeout(this.Tp,this.Fd?1:16));e=e||g;var c=this.Cb;((d=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.tc)||this.Li)&&0<this.Hf&&(c=this.Hf);if(0<c){var c=window.innerWidth,
f=window.innerHeight;this.Tf===c&&this.Sf===f||this.setSize(c,f)}this.Da||(d?this.wi||(this.wi=!0):this.wi?(this.wi=!1,0===this.Cb&&this.setSize(Math.round(this.ep/this.devicePixelRatio),Math.round(this.dp/this.devicePixelRatio),!0)):(this.ep=this.width,this.dp=this.height));this.$g&&(d=this.rn(),this.Wi=this.Sc,d&&(this.$g=!1,this.Sc=1,this.trigger(Y.prototype.j.Tm,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.fu(e);!this.Y&&!this.sc||this.ll||this.Lh||a||(this.Y=!1,this.n?this.Ab():
this.Mc(),this.Jh&&(this.canvas&&this.canvas.toDataURL&&(this.Lp=this.canvas.toDataURL(this.Jh[0],this.Jh[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.Lp),this.trigger(Y.prototype.j.Nq,null)),this.Jh=null));this.Aw||(this.nd++,this.Hg++,this.Ci++);this.nh+=Qa()-g}}};b.prototype.fu=function(a){var e,d,g,c,f,l,b,p;1E3<=a-this.cf&&(this.cf+=1E3,1E3<=a-this.cf&&(this.cf=a),this.Dk=this.Ci,this.Ci=0,this.pk=this.nh,this.nh=0);e=0;0!==this.Pi&&(e=a-this.Pi,0>e&&(e=0),this.Re=e/=1E3,.5<this.Re?this.Re=
0:this.Re>1/this.Vo&&(this.Re=1/this.Vo));this.Pi=a;this.Df=this.Re*this.ig;this.mc.add(this.Df);this.$j.add(e);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Li)&&!this.tc;2<=this.Cb||a&&0<this.Hf?(e=this.Ha/this.Ga,d=this.width/this.height,g=this.Cb,a&&0<this.Hf&&(g=this.Hf),this.tg=2!==g&&d>e||2===g&&d<e?this.height/this.Ga:this.width/this.Ha,this.da&&(this.da.gm(this.da.scrollX),this.da.hm(this.da.scrollY))):this.tg=this.Ze?this.devicePixelRatio:
1;this.ib();this.Ed++;this.md.Mu();this.Ed--;this.ib();this.Ed++;d=this.cp.Td();a=0;for(e=d.length;a<e;a++)d[a].Jw();a=0;for(e=this.p.length;a<e;a++)if(l=this.p[a],!l.B&&(l.xa.length||l.qa.length))for(d=0,g=l.i.length;d<g;d++)for(b=l.i[d],c=0,f=b.G.length;c<f;c++)b.G[c].Xc();a=0;for(e=this.p.length;a<e;a++)if(l=this.p[a],!l.B&&(l.xa.length||l.qa.length))for(d=0,g=l.i.length;d<g;d++)for(b=l.i[d],c=0,f=b.G.length;c<f;c++)p=b.G[c],p.qp&&p.qp();d=this.Gl.Td();a=0;for(e=d.length;a<e;a++)d[a].Xc();this.Ed--;
this.Mt();for(a=0;this.xg&&10>a++;)this.Gn(this.xg);a=0;for(e=this.yd.length;a<e;a++)this.yd[a].Uk=!1;this.da.Te&&this.da.Te.Ia();V(this.lf);this.Ed++;a=0;for(e=this.p.length;a<e;a++)if(l=this.p[a],!l.B&&(l.xa.length||l.qa.length))for(d=0,g=l.i.length;d<g;d++)for(b=l.i[d],c=0,f=b.G.length;c<f;c++)p=b.G[c],p.Oj&&p.Oj();d=this.Hl.Td();a=0;for(e=d.length;a<e;a++)d[a].Oj();this.Ed--};b.prototype.we=function(){var a,e,d,g,c,f,l,b,p;a=0;for(e=this.p.length;a<e;a++)if(l=this.p[a],!l.B)for(d=0,g=l.i.length;d<
g;d++)if(b=l.i[d],b.we&&b.we(),b.G)for(c=0,f=b.G.length;c<f;c++)p=b.G[c],p.we&&p.we()};b.prototype.Gn=function(a){var e=this.da;this.da.Yu();var d,g,c;if(this.n)for(d=0,g=this.p.length;d<g;d++)c=this.p[d],c.B||!c.Wj||c.global&&0!==c.i.length||-1!==a.Tg.indexOf(c)||c.Wj();e==a&&V(this.md.cc);V(this.lf);this.vp(!0);a.om();this.vp(!1);this.Y=!0;this.ib()};b.prototype.vp=function(a){var e,d,g,c,f,l,b,p,k;e=0;for(d=this.xa.length;e<d;e++)g=this.xa[e],a?g.sh&&g.sh():g.uh&&g.uh();e=0;for(d=this.p.length;e<
d;e++)if(g=this.p[e],g.global||g.oa.Fj)for(c=0,f=g.i.length;c<f;c++)if(l=g.i[c],a?l.sh&&l.sh():l.uh&&l.uh(),l.G)for(b=0,p=l.G.length;b<p;b++)k=l.G[b],a?k.sh&&k.sh():k.uh&&k.uh()};b.prototype.Pj=function(a){this.Gl.add(a)};b.prototype.av=function(a){this.Hl.add(a)};b.prototype.Ik=function(a){return a&&-1!==a.qh?this.Re*a.qh:this.Df};b.prototype.Mc=function(){this.da.Mc(this.ia);this.je&&this.ia.present()};b.prototype.Ab=function(){this.ba&&(this.Se=1,this.da.ee(this.n));this.da.Ab(this.n);this.n.Bu()};
b.prototype.ln=function(a){a&&this.ri.push(a)};b.prototype.Hu=function(a){Aa(this.ri,a)};b.prototype.Fi=function(a){a=a.toString();return this.Ld.hasOwnProperty(a)?this.Ld[a]:null};var qa=[];b.prototype.sf=function(a){var e,d;e=a.type.name;var g=null;if(this.Qe.hasOwnProperty(e)){if(g=this.Qe[e],g.contains(a))return}else g=qa.length?qa.pop():new ea,this.Qe[e]=g;g.add(a);this.he=!0;if(a.lc)for(e=0,d=a.siblings.length;e<d;e++)this.sf(a.siblings[e]);this.fl&&g.lg.push(a);this.el||(this.Ed++,this.trigger(Object.getPrototypeOf(a.type.oa).j.Pq,
a),this.Ed--)};b.prototype.ib=function(){if(this.he){var a,e,d,g,c,l;this.fl=!0;d=0;for(c=this.Lc.length;d<c;++d)for(a=this.Lc[d],e=a.type,e.i.push(a),g=0,l=e.qa.length;g<l;++g)e.qa[g].i.push(a),e.qa[g].fg=!0;V(this.Lc);this.Hq();Pa(this.Qe);this.he=this.fl=!1}};b.prototype.Hq=function(){for(var a in this.Qe)this.Qe.hasOwnProperty(a)&&this.uq(this.Qe[a])};b.prototype.uq=function(a){var e=a.Td(),d=e[0].type,g,c,l,f,b,p;Ra(d.i,a);d.fg=!0;0===d.i.length&&(d.Zh=!1);g=0;for(c=d.qa.length;g<c;++g)p=d.qa[g],
Ra(p.i,a),p.fg=!0;g=0;for(c=this.md.cc.length;g<c;++g)if(b=this.md.cc[g],b.ac.hasOwnProperty(d.index)&&Ra(b.ac[d.index].Ye,a),!d.B)for(l=0,f=d.qa.length;l<f;++l)p=d.qa[l],b.ac.hasOwnProperty(p.index)&&Ra(b.ac[p.index].Ye,a);if(b=e[0].k){if(b.qc)for(l=b.i,g=0,c=l.length;g<c;++g)f=l[g],a.contains(f)&&(f.ea(),b.hb.update(f,f.Nb,null),f.Nb.set(0,0,-1,-1));Ra(b.i,a);b.Eh(0)}for(g=0;g<e.length;++g)this.tq(e[g],d);a.clear();qa.push(a);this.Y=!0};b.prototype.tq=function(a,e){var d,g,c;d=0;for(g=this.ri.length;d<
g;++d)this.ri[d](a);a.be&&e.ji.update(a,a.be,null);(d=a.k)&&d.$f(a,!0);if(a.G)for(d=0,g=a.G.length;d<g;++d)c=a.G[d],c.jf&&c.jf(),c.behavior.cj.remove(a);this.cp.remove(a);this.Gl.remove(a);this.Hl.remove(a);a.jf&&a.jf();this.Ld.hasOwnProperty(a.uid.toString())&&delete this.Ld[a.uid.toString()];this.gj--;100>e.pi.length&&e.pi.push(a)};var D=[];b.prototype.Oe=function(a,e,d,g,c,l){var f,b,p,k;if(!a)return null;var n=this.p[a[1]],m=n.oa.le;if(this.$g&&m&&!n.hl||m&&!this.n&&11===a[0][11])return null;
var A=e;m||(e=null);var v;n.pi.length?(v=n.pi.pop(),v.Zb=!0,n.oa.fa.call(v,n)):(v=new n.oa.fa(n),v.Zb=!1);!d||l||this.Ld.hasOwnProperty(a[2].toString())?v.uid=this.rh++:v.uid=a[2];this.Ld[v.uid.toString()]=v;v.tp=this.$o++;v.Xe=n.i.length;f=0;for(b=this.Lc.length;f<b;++f)this.Lc[f].type===n&&v.Xe++;v.Ng=tb;v.toString=ub;p=a[3];if(v.Zb)Pa(v.N);else{v.N={};if("undefined"!==typeof cr_is_preview)for(v.ho=[],v.ho.length=p.length,f=0,b=p.length;f<b;f++)v.ho[f]=p[f][1];v.Na=[];v.Na.length=p.length}f=0;for(b=
p.length;f<b;f++)v.Na[f]=p[f][0];if(m){var h=a[0];v.x=ha(g)?h[0]:g;v.y=ha(c)?h[1]:c;v.z=h[2];v.width=h[3];v.height=h[4];v.depth=h[5];v.m=h[6];v.opacity=h[7];v.Ib=h[8];v.Jb=h[9];v.jb=h[10];f=h[11];!this.n&&n.I.length&&(v.jb=f);v.yg=Za(v.jb);this.q&&$a(v,v.jb,this.q);if(v.Zb){f=0;for(b=h[12].length;f<b;f++)for(p=0,k=h[12][f].length;p<k;p++)v.ya[f][p]=h[12][f][p];v.pa.set(0,0,0,0);v.be.set(0,0,-1,-1);v.Nb.set(0,0,-1,-1);v.yb.Fh(v.pa);V(v.gk)}else{v.ya=h[12].slice(0);f=0;for(b=v.ya.length;f<b;f++)v.ya[f]=
h[12][f].slice(0);v.S=[];v.Wd=[];v.Wd.length=n.I.length;v.pa=new U(0,0,0,0);v.be=new U(0,0,-1,-1);v.Nb=new U(0,0,-1,-1);v.yb=new sa;v.gk=[];v.u=xb;v.uw=yb;v.ob=zb;v.ea=Ab;v.cv=Bb;v.jq=Cb;v.gd=Db}v.hg=!1;v.Xp=0;v.Wp=0;v.Vp=null;14===h.length&&(v.hg=!0,v.Xp=h[13][0],v.Wp=h[13][1],v.Vp=h[13][2]);f=0;for(b=n.I.length;f<b;f++)v.Wd[f]=!0;v.Nd=!0;v.$c=Eb;v.$c();v.kq=!!v.S.length;v.fk=!0;v.lk=!0;n.Yh=!0;v.visible=!0;v.qh=-1;v.k=e;v.ad=e.i.length;v.Se=0;"undefined"===typeof v.T&&(v.T=null);this.Y=v.sd=!0}var y;
V(D);f=0;for(b=n.qa.length;f<b;f++)D.push.apply(D,n.qa[f].xa);D.push.apply(D,n.xa);if(v.Zb)for(f=0,b=D.length;f<b;f++){var q=D[f];y=v.G[f];y.Zb=!0;q.behavior.fa.call(y,q,v);h=a[4][f];p=0;for(k=h.length;p<k;p++)y.K[p]=h[p];y.R();q.behavior.cj.add(v)}else for(v.G=[],f=0,b=D.length;f<b;f++)q=D[f],y=new q.behavior.fa(q,v),y.Zb=!1,y.K=a[4][f].slice(0),y.R(),v.G.push(y),q.behavior.cj.add(v);h=a[5];if(v.Zb)for(f=0,b=h.length;f<b;f++)v.K[f]=h[f];else v.K=h.slice(0);this.Lc.push(v);this.he=!0;e&&(e.sg(v,!0),
1!==e.Kb||1!==e.Lb)&&(n.Zh=!0);this.gj++;if(n.lc){if(v.lc=!0,v.Zb?V(v.siblings):v.siblings=[],!d&&!l){f=0;for(b=n.Sb.length;f<b;f++)if(n.Sb[f]!==n){if(!n.Sb[f].ed)return null;v.siblings.push(this.Oe(n.Sb[f].ed,A,!1,m?v.x:g,m?v.y:c,!0))}f=0;for(b=v.siblings.length;f<b;f++)for(v.siblings[f].siblings.push(v),p=0;p<b;p++)f!==p&&v.siblings[f].siblings.push(v.siblings[p])}}else v.lc=!1,v.siblings=null;v.R();f=0;for(b=v.G.length;f<b;f++)v.G[f].xu&&v.G[f].xu();return v};b.prototype.Lg=function(a){var e,d;
e=0;for(d=this.da.J.length;e<d;e++){var g=this.da.J[e];if(bb(g.name,a))return g}return null};b.prototype.Cd=function(a){a=T(a);0>a&&(a=0);a>=this.da.J.length&&(a=this.da.J.length-1);return this.da.J[a]};b.prototype.nk=function(a){var e,d;e=0;for(d=a.length;e<d;e++)a[e].X().ja=!0};b.prototype.Ah=function(a){var e,d;e=0;for(d=a.length;e<d;e++)a[e].Ah()};b.prototype.qj=function(a){var e,d;e=0;for(d=a.length;e<d;e++)a[e].qj()};b.prototype.kf=function(a){var e,d;e=0;for(d=a.length;e<d;e++)a[e].kf()};b.prototype.gq=
function(a){if(a.Yh){var e,d,g=a.i;e=0;for(d=g.length;e<d;++e)g[e].jq();g=this.Lc;e=0;for(d=g.length;e<d;++e)g[e].type===a&&g[e].jq();a.Yh=!1}};b.prototype.Qn=function(a,e,d,g){var f,c,l=a?1!==a.Kb||1!==a.Lb:!1;if(e.B)for(a=0,f=e.ph.length;a<f;++a)c=e.ph[a],l||c.Zh?ya(g,c.i):(this.gq(c),c.ji.tj(d,g));else l||e.Zh?ya(g,e.i):(this.gq(e),e.ji.tj(d,g))};b.prototype.Xn=function(a,e,d,g){var f,c;f=0;for(c=e.length;f<c;++f)this.Qn(a,e[f],d,g)};b.prototype.ut=function(a,e,d){var g=this.Np;g&&this.Xn(a,g.ej,
e,d)};b.prototype.mt=function(a,e,d){var g=this.so;g&&this.Xn(a,g.ej,e,d)};b.prototype.Mh=function(a,e,d){var g=a.X(),f,c,l,b,p=this.qb().gc.wc,k,n,v;if(g.ja)for(g.ja=!1,V(g.i),f=0,b=a.i.length;f<b;f++)l=a.i[f],l.ea(),k=l.k.La(e,d,!0),n=l.k.La(e,d,!1),l.ob(k,n)?g.i.push(l):p&&g.Q.push(l);else{c=0;v=p?g.Q:g.i;f=0;for(b=v.length;f<b;f++)l=v[f],l.ea(),k=l.k.La(e,d,!0),n=l.k.La(e,d,!1),l.ob(k,n)&&(p?g.i.push(l):(g.i[c]=g.i[f],c++));v.length=c}a.Hc();return g.Tk()};b.prototype.Qb=function(a,e){if(!(a&&
e&&a!==e&&a.sd&&e.sd))return!1;a.ea();e.ea();var d=a.k,g=e.k,f,c,l,b,p,k,n,v;if(d===g||d.Kb===g.Kb&&g.Lb===g.Lb&&d.scale===g.scale&&d.m===g.m&&d.xb===g.xb){if(!a.pa.Rt(e.pa)||!a.yb.io(e.yb)||a.hg&&e.hg)return!1;if(a.hg)return this.Qp(a,e);if(e.hg)return this.Qp(e,a);n=a.T&&!a.T.Lf();f=e.T&&!e.T.Lf();if(!n&&!f)return!0;n?(a.T.Ne(a.width,a.height,a.m),n=a.T):(this.Wc.dg(a.yb,a.x,a.y,a.width,a.height),n=this.Wc);f?(e.T.Ne(e.width,e.height,e.m),v=e.T):(this.Wc.dg(e.yb,e.x,e.y,e.width,e.height),v=this.Wc);
return n.Ug(v,e.x-a.x,e.y-a.y)}n=a.T&&!a.T.Lf();f=e.T&&!e.T.Lf();n?(a.T.Ne(a.width,a.height,a.m),this.Wc.Fp(a.T)):this.Wc.dg(a.yb,a.x,a.y,a.width,a.height);n=this.Wc;f?(e.T.Ne(e.width,e.height,e.m),this.qm.Fp(e.T)):this.qm.dg(e.yb,e.x,e.y,e.width,e.height);v=this.qm;f=0;for(c=n.Yb;f<c;f++)l=2*f,b=l+1,p=n.ca[l],k=n.ca[b],n.ca[l]=d.ra(p+a.x,k+a.y,!0),n.ca[b]=d.ra(p+a.x,k+a.y,!1);n.ea();f=0;for(c=v.Yb;f<c;f++)l=2*f,b=l+1,p=v.ca[l],k=v.ca[b],v.ca[l]=g.ra(p+e.x,k+e.y,!0),v.ca[b]=g.ra(p+e.x,k+e.y,!1);v.ea();
return n.Ug(v,0,0)};var M=new sa;new U(0,0,0,0);var O=[];b.prototype.Qp=function(a,e){var d,g,f,c,l=e.pa,b=a.x,p=a.y;a.ht(l,O);var k=e.T&&!e.T.Lf();d=0;for(g=O.length;d<g;++d)if(f=O[d],c=f.U,l.St(c,b,p)&&(M.Fh(c),M.offset(b,p),M.io(e.yb)))if(k)if(e.T.Ne(e.width,e.height,e.m),f.Md){if(f.Md.Ug(e.T,e.x-(b+c.left),e.y-(p+c.top)))return V(O),!0}else{if(this.Wc.dg(M,0,0,c.right-c.left,c.bottom-c.top),this.Wc.Ug(e.T,e.x,e.y))return V(O),!0}else if(f.Md){if(this.Wc.dg(e.yb,0,0,e.width,e.height),f.Md.Ug(this.Wc,
-(b+c.left),-(p+c.top)))return V(O),!0}else return V(O),!0;V(O);return!1};b.prototype.Bm=function(a,e){if(!e)return!1;var d,g,f,c,l;d=0;for(g=a.xa.length;d<g;d++)if(a.xa[d].behavior instanceof e)return!0;if(!a.B)for(d=0,g=a.qa.length;d<g;d++)for(l=a.qa[d],f=0,c=l.xa.length;f<c;f++)if(l.xa[f].behavior instanceof e)return!0;return!1};b.prototype.Cm=function(a){return this.Bm(a,Tb.Pv)};b.prototype.Dm=function(a){return this.Bm(a,Tb.Qv)};var K=[];b.prototype.Eb=function(a){var e,d,g;a.ea();this.ut(a.k,
a.pa,K);e=0;for(d=K.length;e<d;++e)if(g=K[e],g.N.solidEnabled&&this.Qb(a,g))return V(K),g;V(K);return null};var L=[];b.prototype.Qd=function(a,e){var d=null;e&&(d=L,V(d));a.ea();this.mt(a.k,a.pa,K);var g,f,c;g=0;for(f=K.length;g<f;++g)if(c=K[g],c.N.jumpthruEnabled&&this.Qb(a,c))if(e)d.push(c);else return V(K),c;V(K);return d};b.prototype.Tc=function(a,e,d,g,f,c){g=g||50;var l=a.x,b=a.y,p,k=null,n=null;for(p=0;p<g;p++)if(a.x=l+e*p,a.y=b+d*p,a.u(),!this.Qb(a,k)&&((k=this.Eb(a))&&(n=k),!k&&(f&&(c?k=
this.Qb(a,c)?c:null:k=this.Qd(a),k&&(n=k)),!k)))return n&&this.sj(a,e,d,n),!0;a.x=l;a.y=b;a.u();return!1};b.prototype.Ul=function(a,e,d,g){g=g||50;var f=a.x,c=a.y,l=null,b=null,p,k,n;for(p=0;p<g;++p)for(k=0;2>k;++k)if(n=2*k-1,a.x=f+e*p*n,a.y=c+d*p*n,a.u(),!this.Qb(a,l))if(l=this.Eb(a))b=l;else return b&&this.sj(a,e*n,d*n,b),!0;a.x=f;a.y=c;a.u();return!1};b.prototype.sj=function(a,e,d,g){var f=2,c,l=!1;c=!1;for(var b=a.x,p=a.y;16>=f;)c=1/f,f*=2,a.x+=e*c*(l?1:-1),a.y+=d*c*(l?1:-1),a.u(),this.Qb(a,g)?
c=l=!0:(c=l=!1,b=a.x,p=a.y);c&&(a.x=b,a.y=p,a.u())};b.prototype.Eu=function(a,e){var d=ha(e)?100:e,g=0,f=a.x,c=a.y,l=0,b=0,p=0,k=this.Eb(a);if(!k)return!0;for(;g<=d;){switch(l){case 0:b=0;p=-1;g++;break;case 1:b=1;p=-1;break;case 2:b=1;p=0;break;case 3:p=b=1;break;case 4:b=0;p=1;break;case 5:b=-1;p=1;break;case 6:b=-1;p=0;break;case 7:p=b=-1}l=(l+1)%8;a.x=T(f+b*g);a.y=T(c+p*g);a.u();if(!this.Qb(a,k)&&(k=this.Eb(a),!k))return!0}a.x=f;a.y=c;a.u();return!1};b.prototype.ze=function(a,e){a.sd&&e.sd&&this.lf.push([a,
e])};b.prototype.ur=function(a,e,d){var g,f,c;g=0;for(f=this.lf.length;g<f;++g){c=this.lf[g];if(c[0]===a)c=c[1];else if(c[1]===a)c=c[0];else continue;if(e.B){if(-1===e.ph.indexOf(e))continue}else if(c.type!==e)continue;-1===d.indexOf(c)&&d.push(c)}};b.prototype.Fr=function(a,e){var d,g,f;d=0;for(g=this.lf.length;d<g;d++)if(f=this.lf[d],f[0]===a&&f[1]===e||f[0]===e&&f[1]===a)return!0;return!1};var S=-1;b.prototype.trigger=function(a,e,d){if(!this.da)return!1;var g=this.da.Te;if(!g)return!1;var f=!1,
c,l,b;S++;var p=g.uk;l=0;for(b=p.length;l<b;++l)c=this.$p(a,e,p[l],d),f=f||c;c=this.$p(a,e,g,d);S--;return f||c};b.prototype.$p=function(a,e,d,g){var f=!1,c,l,b,p;if(e)for(b=this.zm(a,e,e.type.name,d,g),f=f||b,p=e.type.qa,c=0,l=p.length;c<l;++c)b=this.zm(a,e,p[c].name,d,g),f=f||b;else b=this.zm(a,e,"system",d,g),f=f||b;return f};b.prototype.zm=function(a,e,d,g,f){var c,l=!1,b=!1,b="undefined"!==typeof f,p=(b?g.Kn:g.aq)[d];if(!p)return l;var k=null;g=0;for(c=p.length;g<c;++g)if(p[g].method==a){k=p[g].Gg;
break}if(!k)return l;var n;b?n=k[f]:n=k;if(!n)return null;g=0;for(c=n.length;g<c;g++)a=n[g][0],f=n[g][1],b=this.Xs(e,d,a,f),l=l||b;return l};b.prototype.Xs=function(a,e,d,g){var f,c,l=!1;this.Am++;var b=this.qb().gc;b&&this.Ah(b.Fe);var p=1<this.Am;this.Ah(d.Fe);p&&this.Du();var k=this.rj(d);k.gc=d;a&&(f=this.types[e].X(),f.ja=!1,V(f.i),f.i[0]=a,this.types[e].Hc());a=!0;if(d.parent){e=k.Pp;for(f=d.parent;f;)e.push(f),f=f.parent;e.reverse();f=0;for(c=e.length;f<c;f++)if(!e[f].Ou()){a=!1;break}}a&&
(this.Hg++,d.wc?d.Nu(g):d.Ia(),l=l||k.bf);this.nj();p&&this.wu();this.kf(d.Fe);b&&this.kf(b.Fe);this.he&&0===this.Ed&&0===S&&!this.il&&this.ib();this.Am--;return l};b.prototype.Rn=function(){var a=this.qb();return a.gc.Ya[a.Xa]};b.prototype.Du=function(){this.Yi++;this.Yi>=this.Al.length&&this.Al.push([])};b.prototype.wu=function(){this.Yi--};b.prototype.Sn=function(){return this.Al[this.Yi]};b.prototype.rj=function(a){this.si++;this.si>=this.xk.length&&this.xk.push(new Fb);var e=this.qb();e.reset(a);
return e};b.prototype.nj=function(){this.si--};b.prototype.qb=function(){return this.xk[this.si]};b.prototype.Tn=function(a,e){for(var d,g,f,c,l,b;e;){d=0;for(g=e.Ac.length;d<g;d++)if(b=e.Ac[d],b instanceof Gb&&bb(a,b.name))return b;e=e.parent}d=0;for(g=this.yd.length;d<g;d++)for(l=this.yd[d],f=0,c=l.fe.length;f<c;f++)if(b=l.fe[f],b instanceof Gb&&bb(a,b.name))return b;return null};b.prototype.Un=function(a){var e,d;e=0;for(d=this.Pc.length;e<d;e++)if(this.Pc[e].P===a)return this.Pc[e];return null};
b.prototype.Gi=function(a){var e,d;e=0;for(d=this.p.length;e<d;e++)if(this.p[e].P===a)return this.p[e];return null};b.prototype.jt=function(a){var e,d;e=0;for(d=this.xf.length;e<d;e++)if(this.xf[e].P===a)return this.xf[e];return null};b.prototype.Or=function(a,e){this.Jh=[a,e];this.Y=!0};b.prototype.Mt=function(){var a=this,e=this.fm,d=this.Gd,g=this.Si,f=!1;this.Kp&&(f=!0,e="__c2_continuouspreview",this.Kp=!1);if(e.length){this.ib();d=this.Su();if(h()&&!this.sc)u(e,d,function(){C("Saved state to IndexedDB storage ("+
d.length+" bytes)");a.Gd=d;a.trigger(Y.prototype.j.ck,null);a.Gd="";f&&c()},function(g){try{localStorage.setItem("__c2save_"+e,d),C("Saved state to WebStorage ("+d.length+" bytes)"),a.Gd=d,a.trigger(Y.prototype.j.ck,null),a.Gd="",f&&c()}catch(l){C("Failed to save game state: "+g+"; "+l),a.trigger(Y.prototype.j.Ym,null)}});else try{localStorage.setItem("__c2save_"+e,d),C("Saved state to WebStorage ("+d.length+" bytes)"),a.Gd=d,this.trigger(Y.prototype.j.ck,null),a.Gd="",f&&c()}catch(l){C("Error saving to WebStorage: "+
l),a.trigger(Y.prototype.j.Ym,null)}this.Si=this.fm="";this.Ra=null}if(g.length){if(h()&&!this.sc)q(g,function(e){e?(a.Ra=e,C("Loaded state from IndexedDB storage ("+a.Ra.length+" bytes)")):(a.Ra=localStorage.getItem("__c2save_"+g)||"",C("Loaded state from WebStorage ("+a.Ra.length+" bytes)"));a.Lh=!1;a.Ra||(a.Ra=null,a.trigger(Y.prototype.j.Xh,null))},function(){a.Ra=localStorage.getItem("__c2save_"+g)||"";C("Loaded state from WebStorage ("+a.Ra.length+" bytes)");a.Lh=!1;a.Ra||(a.Ra=null,a.trigger(Y.prototype.j.Xh,
null))});else{try{this.Ra=localStorage.getItem("__c2save_"+g)||"",C("Loaded state from WebStorage ("+this.Ra.length+" bytes)")}catch(b){this.Ra=null}this.Lh=!1;a.Ra||(a.Ra=null,a.trigger(Y.prototype.j.Xh,null))}this.fm=this.Si=""}null!==this.Ra&&(this.ib(),this.eu(this.Ra)?(this.Gd=this.Ra,this.trigger(Y.prototype.j.br,null),this.Gd=""):a.trigger(Y.prototype.j.Xh,null),this.Ra=null)};b.prototype.Su=function(){var e,d,g,f,c,l,b,p={c2save:!0,version:1,rt:{time:this.mc.ua,walltime:this.$j.ua,timescale:this.ig,
tickcount:this.nd,execcount:this.Hg,next_uid:this.rh,running_layout:this.da.P,start_time_offset:Date.now()-this.Gj},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};e=0;for(d=this.p.length;e<d;e++)if(c=this.p[e],!c.B&&!this.Cm(c)){l={instances:[]};Oa(c.N)&&(l.ex=a(c.N));g=0;for(f=c.i.length;g<f;g++)l.instances.push(this.em(c.i[g]));p.types[c.P.toString()]=l}e=0;for(d=this.Pc.length;e<d;e++)g=this.Pc[e],p.layouts[g.P.toString()]=g.Db();f=p.events.groups;e=0;for(d=this.xf.length;e<d;e++)g=
this.xf[e],f[g.P.toString()]=this.Pg[g.Og].Kf;d=p.events.cnds;for(b in this.ae)this.ae.hasOwnProperty(b)&&(e=this.ae[b],Oa(e.N)&&(d[b]={ex:a(e.N)}));d=p.events.acts;for(b in this.Xd)this.Xd.hasOwnProperty(b)&&(e=this.Xd[b],Oa(e.N)&&(d[b]={ex:a(e.N)}));d=p.events.vars;for(b in this.mg)this.mg.hasOwnProperty(b)&&(e=this.mg[b],e.Mi||e.parent&&!e.Zg||(d[b]=e.data));p.system=this.md.Db();return JSON.stringify(p)};b.prototype.up=function(){var a,e,d,g,f,c;this.Ld={};a=0;for(e=this.p.length;a<e;a++)if(d=
this.p[a],!d.B)for(g=0,f=d.i.length;g<f;g++)c=d.i[g],this.Ld[c.uid.toString()]=c};b.prototype.eu=function(a){var e;try{e=JSON.parse(a)}catch(d){return!1}if(!e.c2save||1<e.version)return!1;this.Wg=!0;a=e.rt;this.mc.reset();this.mc.ua=a.time;this.$j.reset();this.$j.ua=a.walltime||0;this.ig=a.timescale;this.nd=a.tickcount;this.Hg=a.execcount;this.Gj=Date.now()-a.start_time_offset;var g=a.running_layout;if(g!==this.da.P)if(g=this.Un(g))this.Gn(g);else return;var f,c,l,b,p,k,n;k=e.types;for(c in k)if(k.hasOwnProperty(c)&&
(b=this.Gi(parseInt(c,10)))&&!b.B&&!this.Cm(b)){k[c].ex?b.N=k[c].ex:Pa(b.N);p=b.i;l=k[c].instances;g=0;for(f=ma(p.length,l.length);g<f;g++)this.Ti(p[g],l[g]);g=l.length;for(f=p.length;g<f;g++)this.sf(p[g]);g=p.length;for(f=l.length;g<f;g++){p=null;if(b.oa.le&&(p=this.da.Ei(l[g].w.l),!p))continue;p=this.Oe(b.ed,p,!1,0,0,!0);this.Ti(p,l[g])}b.fg=!0}this.ib();this.up();f=e.layouts;for(c in f)f.hasOwnProperty(c)&&(g=this.Un(parseInt(c,10)))&&g.Wb(f[c]);f=e.events.groups;for(c in f)f.hasOwnProperty(c)&&
(g=this.jt(parseInt(c,10)))&&this.Pg[g.Og]&&this.Pg[g.Og].Tu(f[c]);g=e.events.cnds;for(c in this.ae)this.ae.hasOwnProperty(c)&&(g.hasOwnProperty(c)?this.ae[c].N=g[c].ex:this.ae[c].N={});g=e.events.acts;for(c in this.Xd)this.Xd.hasOwnProperty(c)&&(g.hasOwnProperty(c)?this.Xd[c].N=g[c].ex:this.Xd[c].N={});g=e.events.vars;for(c in g)g.hasOwnProperty(c)&&this.mg.hasOwnProperty(c)&&(this.mg[c].data=g[c]);this.rh=a.next_uid;this.Wg=!1;g=0;for(f=this.vi.length;g<f;++g)p=this.vi[g],this.trigger(Object.getPrototypeOf(p.type.oa).j.Om,
p);V(this.vi);this.md.Wb(e.system);g=0;for(f=this.p.length;g<f;g++)if(b=this.p[g],!b.B&&!this.Cm(b))for(e=0,c=b.i.length;e<c;e++){p=b.i[e];if(b.lc)for(k=p.Ng(),V(p.siblings),a=0,l=b.Sb.length;a<l;a++)n=b.Sb[a],b!==n&&p.siblings.push(n.i[k]);p.qd&&p.qd();if(p.G)for(a=0,l=p.G.length;a<l;a++)k=p.G[a],k.qd&&k.qd()}return this.Y=!0};b.prototype.em=function(e,d){var g,f,c,l,b;l=e.type;c=l.oa;var p={};d?p.c2=!0:p.uid=e.uid;Oa(e.N)&&(p.ex=a(e.N));if(e.Na&&e.Na.length)for(p.ivs={},g=0,f=e.Na.length;g<f;g++)p.ivs[e.type.al[g].toString()]=
e.Na[g];if(c.le){c={x:e.x,y:e.y,w:e.width,h:e.height,l:e.k.P,zi:e.gd()};0!==e.m&&(c.a=e.m);1!==e.opacity&&(c.o=e.opacity);.5!==e.Ib&&(c.hX=e.Ib);.5!==e.Jb&&(c.hY=e.Jb);0!==e.jb&&(c.bm=e.jb);e.visible||(c.v=e.visible);e.sd||(c.ce=e.sd);-1!==e.qh&&(c.mts=e.qh);if(l.I.length)for(c.fx=[],g=0,f=l.I.length;g<f;g++)b=l.I[g],c.fx.push({name:b.name,active:e.Wd[b.index],params:e.ya[b.index]});p.w=c}if(e.G&&e.G.length)for(p.behs={},g=0,f=e.G.length;g<f;g++)l=e.G[g],l.Db&&(p.behs[l.type.P.toString()]=l.Db());
e.Db&&(p.data=e.Db());return p};b.prototype.lt=function(a,e){var d,g;d=0;for(g=a.al.length;d<g;d++)if(a.al[d]===e)return d;return-1};b.prototype.gt=function(a,e){var d,g;d=0;for(g=a.G.length;d<g;d++)if(a.G[d].type.P===e)return d;return-1};b.prototype.Ti=function(a,e,d){var g,f,c,l,b;b=a.type;var p=b.oa;if(d){if(!e.c2)return}else a.uid=e.uid;e.ex?a.N=e.ex:Pa(a.N);if(f=e.ivs)for(g in f)f.hasOwnProperty(g)&&(c=this.lt(b,parseInt(g,10)),0>c||c>=a.Na.length||(l=f[g],null===l&&(l=NaN),a.Na[c]=l));if(p.le){c=
e.w;a.k.P!==c.l&&(f=a.k,a.k=this.da.Ei(c.l),a.k?(f.$f(a,!0),a.k.sg(a,!0),a.u(),a.k.Eh(0)):(a.k=f,d||this.sf(a)));a.x=c.x;a.y=c.y;a.width=c.w;a.height=c.h;a.ad=c.zi;a.m=c.hasOwnProperty("a")?c.a:0;a.opacity=c.hasOwnProperty("o")?c.o:1;a.Ib=c.hasOwnProperty("hX")?c.hX:.5;a.Jb=c.hasOwnProperty("hY")?c.hY:.5;a.visible=c.hasOwnProperty("v")?c.v:!0;a.sd=c.hasOwnProperty("ce")?c.ce:!0;a.qh=c.hasOwnProperty("mts")?c.mts:-1;a.jb=c.hasOwnProperty("bm")?c.bm:0;a.yg=Za(a.jb);this.q&&$a(a,a.jb,this.q);a.u();if(c.hasOwnProperty("fx"))for(d=
0,f=c.fx.length;d<f;d++)l=b.Kk(c.fx[d].name),0>l||(a.Wd[l]=c.fx[d].active,a.ya[l]=c.fx[d].params);a.$c()}if(b=e.behs)for(g in b)b.hasOwnProperty(g)&&(d=this.gt(a,parseInt(g,10)),0>d||a.G[d].Wb(b[g]));e.data&&a.Wb(e.data)};b.prototype.Ln=function(a,e,d){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(e,d)},d)};b.prototype.Zs=function(a,e){this.Ln("data.js",function(d){var g=new FileReader;g.onload=function(e){a(e.target.result)};g.onerror=e;g.readAsText(d)},
e)};var R=[],I=0;b.prototype.El=function(){if(R.length&&!(8<=I)){I++;var a=R.shift();this.Rr(a.filename,a.Zu,a.us)}};b.prototype.Ys=function(a,e,d){var g=this;R.push({filename:a,Zu:function(a){I--;g.El();e(a)},us:function(a){I--;g.El();d(a)}});this.El()};b.prototype.Rr=function(a,e,d){this.Ln(a,function(a){var d=new FileReader;d.onload=function(a){e(a.target.result)};d.readAsArrayBuffer(a)},d)};b.prototype.$s=function(a,e,d){var g="",c=a.toLowerCase(),f=c.substr(c.length-4),c=c.substr(c.length-5);
".mp4"===f?g="video/mp4":".webm"===c?g="video/webm":".m4a"===f?g="audio/mp4":".mp3"===f&&(g="audio/mpeg");this.Ys(a,function(a){a=URL.createObjectURL(new Blob([a],{type:g}));e(a)},d)};b.prototype.Tt=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};b.prototype.Cp=function(a,e){this.mo&&!this.Tt(e)?this.$s(e,function(e){a.src=e},function(a){alert("Failed to load image: "+a)}):a.src=e};b.prototype.zj=function(a,e){"undefined"!==typeof a.imageSmoothingEnabled?
a.imageSmoothingEnabled=e:(a.webkitImageSmoothingEnabled=e,a.mozImageSmoothingEnabled=e,a.msImageSmoothingEnabled=e)};Hb=function(a){return new b(document.getElementById(a))};Ib=function(a,e){return new b({dc:!0,width:a,height:e})};window.cr_createRuntime=Hb;window.cr_createDCRuntime=Ib;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.vg=!0;document.body.appendChild(a);a=new b(a);window.c2runtime=a;window.addEventListener("orientationchange",
function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new b(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var b=document.getElementById("c2canvas");return b?b.c2runtime:window.c2runtime?window.c2runtime:null};
window.cr_getSnapshot=function(b,t){var h=window.cr_getC2Runtime();h&&h.Or(b,t)};window.cr_sizeCanvas=function(b,t){if(0!==b&&0!==t){var h=window.cr_getC2Runtime();h&&h.setSize(b,t)}};window.cr_setSuspended=function(b){var t=window.cr_getC2Runtime();t&&t.setSuspended(b)};
(function(){function b(a,c){this.b=a;this.Te=null;this.scrollX=this.b.Ha/2;this.scrollY=this.b.Ga/2;this.scale=1;this.m=0;this.Gf=!0;this.name=c[0];this.tu=c[1];this.su=c[2];this.width=c[1];this.height=c[2];this.cq=c[3];this.Ip=c[4];this.P=c[5];var b=c[6],k,m;this.J=[];this.Tg=[];k=0;for(m=b.length;k<m;k++){var h=new Jb(this,b[k]);h.bp=k;this.J.push(h)}b=c[7];this.ie=[];k=0;for(m=b.length;k<m;k++){var h=b[k],l=this.b.p[h[1]];l.ed||(l.ed=h);this.ie.push(h);-1===this.Tg.indexOf(l)&&this.Tg.push(l)}this.I=
[];this.S=[];this.Nd=!0;this.ya=[];k=0;for(m=c[8].length;k<m;k++)this.I.push({id:c[8][k][0],name:c[8][k][1],Ja:-1,Rc:!1,ec:!0,index:k}),this.ya.push(c[8][k][2].slice(0));this.$c();this.ye=new U(0,0,1,1);this.Xl=new U(0,0,1,1);this.xe={}}function t(a,c){return a.ad-c.ad}function h(a,c){this.Qa=a;this.b=a.b;this.i=[];this.scale=1;this.m=0;this.wd=!1;this.Rd=new U(0,0,0,0);this.Yp=new sa;this.Z=this.W=this.aa=this.V=0;this.rf=!1;this.Ud=-1;this.ok=0;this.name=c[0];this.index=c[1];this.P=c[2];this.visible=
c[3];this.Ic=c[4];this.Zc=c[5];this.Kb=c[6];this.Lb=c[7];this.opacity=c[8];this.Bi=c[9];this.qc=c[10];this.xb=c[11];this.jb=c[12];this.os=c[13];this.yg="source-over";this.pb=this.sb=0;this.hb=null;this.Hd=r();this.Vc=!0;this.Uf=new U(0,0,-1,-1);this.cb=new U(0,0,-1,-1);this.qc&&(this.hb=new Ya(this.b.Ha,this.b.Ga));this.kd=!1;var b=c[14],k,m;this.Op=[];this.kc=[];this.Bg=[];k=0;for(m=b.length;k<m;k++){var h=b[k],l=this.b.p[h[1]];l.ed||(l.ed=h,l.Mr=this.index);this.kc.push(h);-1===this.Qa.Tg.indexOf(l)&&
this.Qa.Tg.push(l)}xa(this.Op,this.kc);this.I=[];this.S=[];this.Nd=!0;this.ya=[];k=0;for(m=c[15].length;k<m;k++)this.I.push({id:c[15][k][0],name:c[15][k][1],Ja:-1,Rc:!1,ec:!0,index:k}),this.ya.push(c[15][k][2].slice(0));this.$c();this.ye=new U(0,0,1,1);this.Xl=new U(0,0,1,1)}function r(){return a.length?a.pop():[]}function u(d){V(d);a.push(d)}b.prototype.Ru=function(a){var c=a.type.P.toString();this.xe.hasOwnProperty(c)||(this.xe[c]=[]);this.xe[c].push(this.b.em(a))};b.prototype.Zn=function(){var a=
this.J[0];return!a.Zc&&1===a.opacity&&!a.Bi&&a.visible};b.prototype.$c=function(){V(this.S);this.Nd=!0;var a,c,b;a=0;for(c=this.I.length;a<c;a++)b=this.I[a],b.ec&&(this.S.push(b),b.Rc||(this.Nd=!1))};b.prototype.Jk=function(a){var c,b,k;c=0;for(b=this.I.length;c<b;c++)if(k=this.I[c],k.name===a)return k;return null};var q=[],c=!0;b.prototype.om=function(){this.Ip&&(this.Te=this.b.yk[this.Ip],this.Te.Em());this.b.da=this;this.width=this.tu;this.height=this.su;this.scrollX=this.b.Ha/2;this.scrollY=this.b.Ga/
2;var a,f,b,k,m,h,l;a=0;for(b=this.b.p.length;a<b;a++)if(f=this.b.p[a],!f.B)for(m=f.i,f=0,k=m.length;f<k;f++)if(h=m[f],h.k){var e=h.k.bp;e>=this.J.length&&(e=this.J.length-1);h.k=this.J[e];-1===h.k.i.indexOf(h)&&h.k.i.push(h);h.k.rf=!0}if(!c)for(a=0,b=this.J.length;a<b;++a)this.J[a].i.sort(t);V(q);this.Dr();a=0;for(b=this.J.length;a<b;a++)h=this.J[a],h.Kr(),h.Yj();m=!1;if(!this.Gf){for(l in this.xe)if(this.xe.hasOwnProperty(l)&&(f=this.b.Gi(parseInt(l,10)))&&!f.B&&this.b.Dm(f)){k=this.xe[l];a=0;for(b=
k.length;a<b;a++){h=null;if(f.oa.le&&(h=this.Ei(k[a].w.l),!h))continue;h=this.b.Oe(f.ed,h,!1,0,0,!0);this.b.Ti(h,k[a]);m=!0;q.push(h)}V(k)}a=0;for(b=this.J.length;a<b;a++)this.J[a].i.sort(t),this.J[a].rf=!0}m&&(this.b.ib(),this.b.up());for(a=0;a<q.length;a++)if(h=q[a],h.type.lc)for(b=h.Ng(),f=0,k=h.type.Sb.length;f<k;f++)l=h.type.Sb[f],h.type!==l&&(l.i.length>b?h.siblings.push(l.i[b]):l.ed&&(m=this.b.Oe(l.ed,h.k,!0,h.x,h.y,!0),this.b.ib(),l.Xj(),h.siblings.push(m),q.push(m)));a=0;for(b=this.ie.length;a<
b;a++)h=this.ie[a],f=this.b.p[h[1]],f.lc||this.b.Oe(this.ie[a],null,!0);this.b.xg=null;this.b.ib();if(this.b.ia&&!this.b.Da)for(a=0,b=this.b.p.length;a<b;a++)l=this.b.p[a],!l.B&&l.i.length&&l.oj&&l.oj(this.b.ia);if(this.b.Wg)xa(this.b.vi,q);else for(a=0,b=q.length;a<b;a++)h=q[a],this.b.trigger(Object.getPrototypeOf(h.type.oa).j.Om,h);V(q);this.b.Wg||this.b.trigger(Y.prototype.j.$q,null);this.Gf=!1};b.prototype.Jr=function(){var a,c,b,k,m;c=a=0;for(b=this.ie.length;a<b;a++)k=this.ie[a],m=this.b.p[k[1]],
m.global?m.lc||this.b.Oe(k,null,!0):(this.ie[c]=k,c++);wa(this.ie,c)};b.prototype.Yu=function(){this.b.Wg||this.b.trigger(Y.prototype.j.Zq,null);this.b.el=!0;V(this.b.md.cc);var a,f,b,k,m,h;if(!this.Gf)for(a=0,f=this.J.length;a<f;a++)for(this.J[a].Gm(),m=this.J[a].i,b=0,k=m.length;b<k;b++)h=m[b],h.type.global||this.b.Dm(h.type)&&this.Ru(h);a=0;for(f=this.J.length;a<f;a++){m=this.J[a].i;b=0;for(k=m.length;b<k;b++)h=m[b],h.type.global||this.b.sf(h);this.b.ib();V(m);this.J[a].rf=!0}a=0;for(f=this.b.p.length;a<
f;a++)if(m=this.b.p[a],!(m.global||m.oa.le||m.oa.Fj||m.B)){b=0;for(k=m.i.length;b<k;b++)this.b.sf(m.i[b]);this.b.ib()}c=!1;this.b.el=!1};new U(0,0,0,0);b.prototype.Mc=function(a){var c,b=a,k=!1,m=!this.b.hc;m&&(this.b.Ri||(this.b.Ri=document.createElement("canvas"),c=this.b.Ri,c.width=this.b.D,c.height=this.b.C,this.b.yo=c.getContext("2d"),k=!0),c=this.b.Ri,b=this.b.yo,c.width!==this.b.D&&(c.width=this.b.D,k=!0),c.height!==this.b.C&&(c.height=this.b.C,k=!0),k&&this.b.zj(b,this.b.na));b.globalAlpha=
1;b.globalCompositeOperation="source-over";this.b.An&&!this.Zn()&&b.clearRect(0,0,this.b.D,this.b.C);var h,l,k=0;for(h=this.J.length;k<h;k++)l=this.J[k],l.visible&&0<l.opacity&&11!==l.jb&&(l.i.length||!l.Zc)?l.Mc(b):l.Yj();m&&a.drawImage(c,0,0,this.b.width,this.b.height)};b.prototype.ee=function(a){a.Bp(!0);this.b.Fa||(this.b.Fa=a.Tb(this.b.D,this.b.C,this.b.na));if(this.b.Fa.Me!==this.b.D||this.b.Fa.Le!==this.b.C)a.deleteTexture(this.b.Fa),this.b.Fa=a.Tb(this.b.D,this.b.C,this.b.na);a.zc(this.b.Fa);
this.b.hc||a.nf(this.b.D,this.b.C);var c,b;for(c=this.J.length-1;0<=c;--c)b=this.J[c],b.visible&&1===b.opacity&&b.Nd&&0===b.jb&&(b.i.length||!b.Zc)?b.ee(a):b.Yj();a.Bp(!1)};b.prototype.Ab=function(a){var c=0<this.S.length||this.b.kg||!this.b.hc||this.b.ba;if(c){this.b.Fa||(this.b.Fa=a.Tb(this.b.D,this.b.C,this.b.na));if(this.b.Fa.Me!==this.b.D||this.b.Fa.Le!==this.b.C)a.deleteTexture(this.b.Fa),this.b.Fa=a.Tb(this.b.D,this.b.C,this.b.na);a.zc(this.b.Fa);this.b.hc||a.nf(this.b.D,this.b.C)}else this.b.Fa&&
(a.zc(null),a.deleteTexture(this.b.Fa),this.b.Fa=null);this.b.An&&!this.Zn()&&a.clear(0,0,0,0);var b,k,m;b=0;for(k=this.J.length;b<k;b++)m=this.J[b],m.visible&&0<m.opacity&&(m.i.length||!m.Zc)?m.Ab(a):m.Yj();c&&(0===this.S.length||1===this.S.length&&this.b.hc?(1===this.S.length?(c=this.S[0].index,a.Pb(this.S[0].Ja),a.bg(null,1/this.b.D,1/this.b.C,0,0,1,1,this.scale,this.m,0,0,this.b.D/2,this.b.C/2,this.b.mc.ua,this.ya[c]),a.pj(this.S[0].Ja)&&(this.b.Y=!0)):a.Pb(0),this.b.hc||a.nf(this.b.width,this.b.height),
a.zc(null),a.Ap(!1),a.Ee(1),a.Ob(this.b.Fa),a.yp(),a.yc(),a.pc(),c=this.b.width/2,b=this.b.height/2,a.Bh(-c,b,c,b,c,-b,-c,-b),a.Ob(null),a.Ap(!0)):this.Yl(a,null,null,null))};b.prototype.Mg=function(){return 0<this.S.length||this.b.kg||!this.b.hc||this.b.ba?this.b.Fa:null};b.prototype.Vn=function(){var a=this.J[0].Vb(),c,b,k;c=1;for(b=this.J.length;c<b;c++)k=this.J[c],(0!==k.Kb||0!==k.Lb)&&k.Vb()<a&&(a=k.Vb());return a};b.prototype.gm=function(a){if(!this.cq){var c=1/this.Vn()*this.b.D/2;a>this.width-
c&&(a=this.width-c);a<c&&(a=c)}this.scrollX!==a&&(this.scrollX=a,this.b.Y=!0)};b.prototype.hm=function(a){if(!this.cq){var c=1/this.Vn()*this.b.C/2;a>this.height-c&&(a=this.height-c);a<c&&(a=c)}this.scrollY!==a&&(this.scrollY=a,this.b.Y=!0)};b.prototype.Dr=function(){this.gm(this.scrollX);this.hm(this.scrollY)};b.prototype.Yl=function(a,c,b,k){var m=b?b.S:c?c.S:this.S,h=1,l=0,e=0,g=0,p=this.b.D,v=this.b.C;b?(h=b.k.Vb(),l=b.k.Ub(),e=b.k.V,g=b.k.W,p=b.k.aa,v=b.k.Z):c&&(h=c.Vb(),l=c.Ub(),e=c.V,g=c.W,
p=c.aa,v=c.Z);var A=this.b.Fk,q,u,t,r,x=0,D=1,M,O,K=this.b.D,L=this.b.C,S=K/2,R=L/2,I=c?c.ye:this.ye,z=c?c.Xl:this.Xl,B=0,J=0,G=0,F=0,N=K,ba=K,E=L,ia=L,ca=t=0;r=b?b.k.Ub():0;if(b){q=0;for(u=m.length;q<u;q++)t+=a.pt(m[q].Ja),ca+=a.qt(m[q].Ja);F=b.pa;B=c.ra(F.left,F.top,!0,!0);G=c.ra(F.left,F.top,!1,!0);N=c.ra(F.right,F.bottom,!0,!0);E=c.ra(F.right,F.bottom,!1,!0);0!==r&&(q=c.ra(F.right,F.top,!0,!0),u=c.ra(F.right,F.top,!1,!0),J=c.ra(F.left,F.bottom,!0,!0),F=c.ra(F.left,F.bottom,!1,!0),r=Math.min(B,
N,q,J),N=Math.max(B,N,q,J),B=r,r=Math.min(G,E,u,F),E=Math.max(G,E,u,F),G=r);B-=t;G-=ca;N+=t;E+=ca;z.left=B/K;z.top=1-G/L;z.right=N/K;z.bottom=1-E/L;J=B=T(B);F=G=T(G);ba=N=oa(N);ia=E=oa(E);J-=t;F-=ca;ba+=t;ia+=ca;0>B&&(B=0);0>G&&(G=0);N>K&&(N=K);E>L&&(E=L);0>J&&(J=0);0>F&&(F=0);ba>K&&(ba=K);ia>L&&(ia=L);I.left=B/K;I.top=1-G/L;I.right=N/K;I.bottom=1-E/L}else I.left=z.left=0,I.top=z.top=0,I.right=z.right=1,I.bottom=z.bottom=1;ca=b&&(a.yh(m[0].Ja)||0!==t||0!==ca||1!==b.opacity||b.type.oa.Xo)||c&&!b&&
1!==c.opacity;a.yp();if(ca){A[x]||(A[x]=a.Tb(K,L,this.b.na));if(A[x].Me!==K||A[x].Le!==L)a.deleteTexture(A[x]),A[x]=a.Tb(K,L,this.b.na);a.Pb(0);a.zc(A[x]);O=ia-F;a.clearRect(J,L-F-O,ba-J,O);b?b.Ab(a):(a.Ob(this.b.Pa),a.Ee(c.opacity),a.yc(),a.translate(-S,-R),a.pc(),a.Uc(B,E,N,E,N,G,B,G,I));z.left=z.top=0;z.right=z.bottom=1;b&&(r=I.top,I.top=I.bottom,I.bottom=r);x=1;D=0}a.Ee(1);t=m.length-1;var ua=a.Tl(m[t].Ja)||!c&&!b&&!this.b.hc;q=r=0;for(u=m.length;q<u;q++){A[x]||(A[x]=a.Tb(K,L,this.b.na));if(A[x].Me!==
K||A[x].Le!==L)a.deleteTexture(A[x]),A[x]=a.Tb(K,L,this.b.na);a.Pb(m[q].Ja);r=m[q].index;a.pj(m[q].Ja)&&(this.b.Y=!0);0!=q||ca?(a.bg(k,1/K,1/L,z.left,z.top,z.right,z.bottom,h,l,e,g,(e+p)/2,(g+v)/2,this.b.mc.ua,b?b.ya[r]:c?c.ya[r]:this.ya[r]),a.Ob(null),q!==t||ua?(a.zc(A[x]),O=ia-F,M=L-F-O,a.clearRect(J,M,ba-J,O)):(b?a.De(b.sb,b.pb):c&&a.De(c.sb,c.pb),a.zc(k)),a.Ob(A[D]),a.yc(),a.translate(-S,-R),a.pc(),a.Uc(B,E,N,E,N,G,B,G,I),q!==t||ua||a.Ob(null)):(a.zc(A[x]),O=ia-F,M=L-F-O,a.clearRect(J,M,ba-J,
O),b?(b.bb&&b.bb.F?(M=b.bb.F,D=1/M.width,M=1/M.height):(D=1/b.width,M=1/b.height),a.bg(k,D,M,z.left,z.top,z.right,z.bottom,h,l,e,g,(e+p)/2,(g+v)/2,this.b.mc.ua,b.ya[r]),b.Ab(a)):(a.bg(k,1/K,1/L,0,0,1,1,h,l,e,g,(e+p)/2,(g+v)/2,this.b.mc.ua,c?c.ya[r]:this.ya[r]),a.Ob(c?this.b.Pa:this.b.Fa),a.yc(),a.translate(-S,-R),a.pc(),a.Uc(B,E,N,E,N,G,B,G,I)),z.left=z.top=0,z.right=z.bottom=1,b&&!ua&&(r=E,E=G,G=r));x=0===x?1:0;D=0===x?1:0}ua&&(a.Pb(0),b?a.De(b.sb,b.pb):c?a.De(c.sb,c.pb):this.b.hc||(a.nf(this.b.width,
this.b.height),S=this.b.width/2,R=this.b.height/2,G=B=0,N=this.b.width,E=this.b.height),a.zc(k),a.Ob(A[D]),a.yc(),a.translate(-S,-R),a.pc(),b&&1===m.length&&!ca?a.Uc(B,G,N,G,N,E,B,E,I):a.Uc(B,E,N,E,N,G,B,G,I),a.Ob(null))};b.prototype.Ei=function(a){var c,b;c=0;for(b=this.J.length;c<b;c++)if(this.J[c].P===a)return this.J[c];return null};b.prototype.Db=function(){var a,c,b,k={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.m,w:this.width,h:this.height,fv:this.Gf,persist:this.xe,fx:[],layers:{}};
a=0;for(c=this.I.length;a<c;a++)b=this.I[a],k.fx.push({name:b.name,active:b.ec,params:this.ya[b.index]});a=0;for(c=this.J.length;a<c;a++)b=this.J[a],k.layers[b.P.toString()]=b.Db();return k};b.prototype.Wb=function(a){var c,b,k,m;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.m=a.a;this.width=a.w;this.height=a.h;this.xe=a.persist;"undefined"!==typeof a.fv&&(this.Gf=a.fv);var h=a.fx;c=0;for(b=h.length;c<b;c++)if(k=this.Jk(h[c].name))k.ec=h[c].active,this.ya[k.index]=h[c].params;this.$c();
c=a.layers;for(m in c)c.hasOwnProperty(m)&&(a=this.Ei(parseInt(m,10)))&&a.Wb(c[m])};vb=b;h.prototype.$c=function(){V(this.S);this.Nd=!0;var a,c,b;a=0;for(c=this.I.length;a<c;a++)b=this.I[a],b.ec&&(this.S.push(b),b.Rc||(this.Nd=!1))};h.prototype.Jk=function(a){var c,b,k;c=0;for(b=this.I.length;c<b;c++)if(k=this.I[c],k.name===a)return k;return null};h.prototype.Kr=function(){var a,c,b,k,m,h;c=a=0;for(b=this.kc.length;a<b;a++){k=this.kc[a];m=this.b.p[k[1]];h=this.b.Dm(m);m=!0;if(!h||this.Qa.Gf){k=this.b.Oe(k,
this,!0);if(!k)continue;q.push(k);k.type.global&&(m=!1,this.Bg.push(k.uid))}m&&(this.kc[c]=this.kc[a],c++)}this.kc.length=c;this.b.ib();!this.b.n&&this.I.length&&(this.jb=this.os);this.yg=Za(this.jb);this.b.q&&$a(this,this.jb,this.b.q);this.Vc=!0};h.prototype.$f=function(a,c){var b=za(this.i,a);0>b||(c&&this.qc&&a.Nb&&a.Nb.right>=a.Nb.left&&(a.ea(),this.hb.update(a,a.Nb,null),a.Nb.set(0,0,-1,-1)),b===this.i.length-1?this.i.pop():(va(this.i,b),this.Eh(b)),this.Vc=!0)};h.prototype.sg=function(a,c){a.ad=
this.i.length;this.i.push(a);c&&this.qc&&a.Nb&&a.u();this.Vc=!0};h.prototype.Au=function(a){this.i.unshift(a);this.Eh(0)};h.prototype.ku=function(a,c,b){var k=a.gd();c=c.gd();va(this.i,k);k<c&&c--;b&&c++;c===this.i.length?this.i.push(a):this.i.splice(c,0,a);this.Eh(k<c?k:c)};h.prototype.Eh=function(a){-1===this.Ud?this.Ud=a:a<this.Ud&&(this.Ud=a);this.Vc=this.rf=!0};h.prototype.Gm=function(){if(this.rf){-1===this.Ud&&(this.Ud=0);var a,c,b;if(this.qc)for(a=this.Ud,c=this.i.length;a<c;++a)b=this.i[a],
b.ad=a,this.hb.gu(b.Nb);else for(a=this.Ud,c=this.i.length;a<c;++a)this.i[a].ad=a;this.rf=!1;this.Ud=-1}};h.prototype.Vb=function(a){return this.nt()*(this.b.hc||a?this.b.tg:1)};h.prototype.nt=function(){return(this.scale*this.Qa.scale-1)*this.xb+1};h.prototype.Ub=function(){return this.wd?0:Ea(this.Qa.m+this.m)};var a=[],m=[],x=[];h.prototype.Nk=function(){this.Gm();this.hb.tj(this.V,this.W,this.aa,this.Z,x);if(!x.length)return r();if(1===x.length){var a=r();xa(a,x[0]);V(x);return a}for(var c=!0;1<
x.length;){for(var a=x,b=void 0,k=void 0,h=void 0,q=void 0,l=void 0,b=0,k=a.length;b<k-1;b+=2){var h=a[b],q=a[b+1],l=r(),e=h,g=q,p=l,v=0,A=0,t=0,H=e.length,aa=g.length,pa=void 0,qa=void 0;for(p.length=H+aa;v<H&&A<aa;++t)pa=e[v],qa=g[A],pa.ad<qa.ad?(p[t]=pa,++v):(p[t]=qa,++A);for(;v<H;++v,++t)p[t]=e[v];for(;A<aa;++A,++t)p[t]=g[A];c||(u(h),u(q));m.push(l)}1===k%2&&(c?(h=r(),xa(h,a[k-1]),m.push(h)):m.push(a[k-1]));xa(a,m);V(m);c=!1}a=x[0];V(x);return a};h.prototype.Mc=function(a){this.kd=this.Bi||1!==
this.opacity||0!==this.jb;var c=this.b.canvas,b=a,k=!1;this.kd&&(this.b.Qi||(this.b.Qi=document.createElement("canvas"),c=this.b.Qi,c.width=this.b.D,c.height=this.b.C,this.b.xo=c.getContext("2d"),k=!0),c=this.b.Qi,b=this.b.xo,c.width!==this.b.D&&(c.width=this.b.D,k=!0),c.height!==this.b.C&&(c.height=this.b.C,k=!0),k&&this.b.zj(b,this.b.na),this.Zc&&b.clearRect(0,0,this.b.D,this.b.C));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.Zc||(b.fillStyle="rgb("+this.Ic[0]+","+this.Ic[1]+","+
this.Ic[2]+")",b.fillRect(0,0,this.b.D,this.b.C));b.save();this.wd=!0;var k=this.La(0,0,!0,!0),m=this.La(0,0,!1,!0);this.wd=!1;this.b.oc&&(k=Math.round(k),m=Math.round(m));this.vj(k,m,b);var h=this.Vb();b.scale(h,h);b.translate(-k,-m);this.qc?(this.cb.left=this.hb.Gb(this.V),this.cb.top=this.hb.Hb(this.W),this.cb.right=this.hb.Gb(this.aa),this.cb.bottom=this.hb.Hb(this.Z),this.Vc||!this.cb.Eg(this.Uf)?(u(this.Hd),k=this.Nk(),this.Vc=!1,this.Uf.zg(this.cb)):k=this.Hd):k=this.i;for(var l,e=null,m=0,
h=k.length;m<h;++m)l=k[m],l!==e&&(this.gs(l,b),e=l);this.qc&&(this.Hd=k);b.restore();this.kd&&(a.globalCompositeOperation=this.yg,a.globalAlpha=this.opacity,a.drawImage(c,0,0))};h.prototype.gs=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.ea();var b=a.pa;b.right<this.V||b.bottom<this.W||b.left>this.aa||b.top>this.Z||(c.globalCompositeOperation=a.yg,a.Mc(c))}};h.prototype.Yj=function(){this.wd=!0;var a=this.La(0,0,!0,!0),c=this.La(0,0,!1,!0);this.wd=!1;this.b.oc&&(a=Math.round(a),c=Math.round(c));
this.vj(a,c,null)};h.prototype.vj=function(a,c,b){var k=this.Vb();this.V=a;this.W=c;this.aa=a+1/k*this.b.D;this.Z=c+1/k*this.b.C;this.V>this.aa&&(a=this.V,this.V=this.aa,this.aa=a);this.W>this.Z&&(a=this.W,this.W=this.Z,this.Z=a);a=this.Ub();0!==a&&(b&&(b.translate(this.b.D/2,this.b.C/2),b.rotate(-a),b.translate(this.b.D/-2,this.b.C/-2)),this.Rd.set(this.V,this.W,this.aa,this.Z),this.Rd.offset((this.V+this.aa)/-2,(this.W+this.Z)/-2),this.Yp.Gp(this.Rd,a),this.Yp.un(this.Rd),this.Rd.offset((this.V+
this.aa)/2,(this.W+this.Z)/2),this.V=this.Rd.left,this.W=this.Rd.top,this.aa=this.Rd.right,this.Z=this.Rd.bottom)};h.prototype.ee=function(a){if(this.kd=this.Bi){this.b.Pa||(this.b.Pa=a.Tb(this.b.D,this.b.C,this.b.na));if(this.b.Pa.Me!==this.b.D||this.b.Pa.Le!==this.b.C)a.deleteTexture(this.b.Pa),this.b.Pa=a.Tb(this.b.D,this.b.C,this.b.na);a.zc(this.b.Pa)}this.wd=!0;var c=this.La(0,0,!0,!0),b=this.La(0,0,!1,!0);this.wd=!1;this.b.oc&&(c=Math.round(c),b=Math.round(b));this.vj(c,b,null);c=this.Vb();
a.yc();a.scale(c,c);a.wj(-this.Ub());a.translate((this.V+this.aa)/-2,(this.W+this.Z)/-2);a.pc();this.qc?(this.cb.left=this.hb.Gb(this.V),this.cb.top=this.hb.Hb(this.W),this.cb.right=this.hb.Gb(this.aa),this.cb.bottom=this.hb.Hb(this.Z),this.Vc||!this.cb.Eg(this.Uf)?(u(this.Hd),c=this.Nk(),this.Vc=!1,this.Uf.zg(this.cb)):c=this.Hd):c=this.i;for(var k,m=null,b=c.length-1;0<=b;--b)k=c[b],k!==m&&(this.ks(c[b],a),m=k);this.qc&&(this.Hd=c);this.Zc||(this.ok=this.b.Se++,a.Aj(this.ok),a.zp(1,1,1),a.On(),
a.Ju())};h.prototype.Ab=function(a){var c=0,b=0;if(this.kd=this.Bi||1!==this.opacity||0<this.S.length||0!==this.jb){this.b.Pa||(this.b.Pa=a.Tb(this.b.D,this.b.C,this.b.na));if(this.b.Pa.Me!==this.b.D||this.b.Pa.Le!==this.b.C)a.deleteTexture(this.b.Pa),this.b.Pa=a.Tb(this.b.D,this.b.C,this.b.na);a.zc(this.b.Pa);this.Zc&&a.clear(0,0,0,0)}this.Zc||(this.b.ba?(a.Aj(this.ok),a.zp(this.Ic[0]/255,this.Ic[1]/255,this.Ic[2]/255),a.On(),a.Uu()):a.clear(this.Ic[0]/255,this.Ic[1]/255,this.Ic[2]/255,1));this.wd=
!0;var k=this.La(0,0,!0,!0),c=this.La(0,0,!1,!0);this.wd=!1;this.b.oc&&(k=Math.round(k),c=Math.round(c));this.vj(k,c,null);k=this.Vb();a.yc();a.scale(k,k);a.wj(-this.Ub());a.translate((this.V+this.aa)/-2,(this.W+this.Z)/-2);a.pc();this.qc?(this.cb.left=this.hb.Gb(this.V),this.cb.top=this.hb.Hb(this.W),this.cb.right=this.hb.Gb(this.aa),this.cb.bottom=this.hb.Hb(this.Z),this.Vc||!this.cb.Eg(this.Uf)?(u(this.Hd),c=this.Nk(),this.Vc=!1,this.Uf.zg(this.cb)):c=this.Hd):c=this.i;var m,h,l=null,b=0;for(m=
c.length;b<m;++b)h=c[b],h!==l&&(this.hs(c[b],a),l=h);this.qc&&(this.Hd=c);this.kd&&(c=this.S.length?this.S[0].Ja:0,b=this.S.length?this.S[0].index:0,0===this.S.length||1===this.S.length&&!a.Tl(c)&&1===this.opacity?(1===this.S.length?(a.Pb(c),a.bg(this.Qa.Mg(),1/this.b.D,1/this.b.C,0,0,1,1,k,this.Ub(),this.V,this.W,(this.V+this.aa)/2,(this.W+this.Z)/2,this.b.mc.ua,this.ya[b]),a.pj(c)&&(this.b.Y=!0)):a.Pb(0),a.zc(this.Qa.Mg()),a.Ee(this.opacity),a.Ob(this.b.Pa),a.De(this.sb,this.pb),a.yc(),a.pc(),k=
this.b.D/2,c=this.b.C/2,a.Bh(-k,c,k,c,k,-c,-k,-c),a.Ob(null)):this.Qa.Yl(a,this,null,this.Qa.Mg()))};h.prototype.hs=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.ea();var b=a.pa;b.right<this.V||b.bottom<this.W||b.left>this.aa||b.top>this.Z||(c.Aj(a.Se),a.kq?this.ls(a,c):(c.Pb(0),c.De(a.sb,a.pb),a.Ab(c)))}};h.prototype.ks=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.ea();var b=a.pa;b.right<this.V||b.bottom<this.W||b.left>this.aa||b.top>this.Z||(a.Se=this.b.Se++,0===a.jb&&1===
a.opacity&&a.Nd&&a.ee&&(c.Aj(a.Se),a.ee(c)))}};h.prototype.ls=function(a,c){var b=a.S[0].Ja,k=a.S[0].index,m=this.Vb();if(1!==a.S.length||c.Tl(b)||c.Cu(b)||(a.m||a.k.Ub())&&c.yh(b)||1!==a.opacity||a.type.oa.Xo)this.Qa.Yl(c,this,a,this.kd?this.b.Pa:this.Qa.Mg()),c.yc(),c.scale(m,m),c.wj(-this.Ub()),c.translate((this.V+this.aa)/-2,(this.W+this.Z)/-2),c.pc();else{c.Pb(b);c.De(a.sb,a.pb);c.pj(b)&&(this.b.Y=!0);var h=0,l=0,e=0,g=0;c.yh(b)&&(g=a.pa,h=this.ra(g.left,g.top,!0,!0),l=this.ra(g.left,g.top,!1,
!0),e=this.ra(g.right,g.bottom,!0,!0),g=this.ra(g.right,g.bottom,!1,!0),h=h/windowWidth,l=1-l/windowHeight,e=e/windowWidth,g=1-g/windowHeight);var p;a.bb&&a.bb.F?(p=a.bb.F,b=1/p.width,p=1/p.height):(b=1/a.width,p=1/a.height);c.bg(this.kd?this.b.Pa:this.Qa.Mg(),b,p,h,l,e,g,m,this.Ub(),this.V,this.W,(this.V+this.aa)/2,(this.W+this.Z)/2,this.b.mc.ua,a.ya[k]);a.Ab(c)}};h.prototype.La=function(a,c,b,k){var m=this.b.devicePixelRatio;this.b.Ze&&(a*=m,c*=m);var m=this.b.kp,h=this.b.lp,m=(this.Qa.scrollX-
m)*this.Kb+m,h=(this.Qa.scrollY-h)*this.Lb+h,l=m,e=h,g=1/this.Vb(!k);k?(l-=this.b.D*g/2,e-=this.b.C*g/2):(l-=this.b.width*g/2,e-=this.b.height*g/2);l+=a*g;e+=c*g;c=this.Ub();0!==c&&(l-=m,e-=h,a=Math.cos(c),c=Math.sin(c),k=l*a-e*c,e=e*a+l*c,l=k+m,e+=h);return b?l:e};h.prototype.ra=function(a,c,b,k){var m=this.b.kp,h=this.b.lp,l=(this.Qa.scrollX-m)*this.Kb+m,e=(this.Qa.scrollY-h)*this.Lb+h,h=l,m=e,g=this.Ub();if(0!==g){a-=l;c-=e;var p=Math.cos(-g),g=Math.sin(-g),v=a*p-c*g;c=c*p+a*g;a=v+l;c+=e}l=1/this.Vb(!k);
k?(h-=this.b.D*l/2,m-=this.b.C*l/2):(h-=this.b.width*l/2,m-=this.b.height*l/2);h=(a-h)/l;m=(c-m)/l;a=this.b.devicePixelRatio;this.b.Ze&&!k&&(h/=a,m/=a);return b?h:m};h.prototype.Db=function(){var a,c,b,k={s:this.scale,a:this.m,vl:this.V,vt:this.W,vr:this.aa,vb:this.Z,v:this.visible,bc:this.Ic,t:this.Zc,px:this.Kb,py:this.Lb,o:this.opacity,zr:this.xb,fx:[],cg:this.Bg,instances:[]};a=0;for(c=this.I.length;a<c;a++)b=this.I[a],k.fx.push({name:b.name,active:b.ec,params:this.ya[b.index]});return k};h.prototype.Wb=
function(a){var c,b,k;this.scale=a.s;this.m=a.a;this.V=a.vl;this.W=a.vt;this.aa=a.vr;this.Z=a.vb;this.visible=a.v;this.Ic=a.bc;this.Zc=a.t;this.Kb=a.px;this.Lb=a.py;this.opacity=a.o;this.xb=a.zr;this.Bg=a.cg||[];xa(this.kc,this.Op);var m=new ea;c=0;for(k=this.Bg.length;c<k;++c)m.add(this.Bg[c]);b=c=0;for(k=this.kc.length;c<k;++c)m.contains(this.kc[c][2])||(this.kc[b]=this.kc[c],++b);wa(this.kc,b);b=a.fx;c=0;for(k=b.length;c<k;c++)if(a=this.Jk(b[c].name))a.ec=b[c].active,this.ya[a.index]=b[c].params;
this.$c();this.i.sort(t);this.rf=!0};Jb=h})();
(function(){function b(a,c){var b,l=a.length;switch(l){case 0:return!0;case 1:return a[0]===c[0];case 2:return a[0]===c[0]&&a[1]===c[1];default:for(b=0;b<l;b++)if(a[b]!==c[b])return!1;return!0}}function t(a,c){return a.index-c.index}function h(a){var c,l,d,f;2===a.length?a[0].index>a[1].index&&(c=a[0],a[0]=a[1],a[1]=c):2<a.length&&a.sort(t);a.length>=y.length&&(y.length=a.length+1);y[a.length]||(y[a.length]=[]);f=y[a.length];c=0;for(l=f.length;c<l;c++)if(d=f[c],b(a,d))return d;f.push(a);return a}
function r(a,c){this.b=a;this.aq={};this.Kn={};this.Uk=!1;this.bo=new ea;this.uk=[];this.dk=[];this.name=c[0];var b=c[1];this.fe=[];var l,d;l=0;for(d=b.length;l<d;l++)this.eo(b[l],null,this.fe)}function u(a){this.type=a;this.i=[];this.Q=[];this.ja=!0}function q(a,c,b){this.sheet=a;this.parent=c;this.b=a.b;this.ta=[];this.Fe=[];this.$n=this.Sj=this.ym=this.Zk=this.group=this.Mp=!1;this.Ya=[];this.Ec=[];this.Ac=[];this.Og="";this.Kf=this.Zk=this.group=!1;this.ki=null;b[1]&&(this.Og=b[1][1].toLowerCase(),
this.group=!0,this.Zk=!!b[1][0],this.ki=[],this.Kf=this.Zk,this.b.xf.push(this),this.b.Pg[this.Og]=this);this.wc=b[2];this.P=b[4];this.group||(this.b.tn[this.P.toString()]=this);var l=b[5];a=0;for(c=l.length;a<c;a++){var d=new Kb(this,l[a]);d.index=a;this.Ya.push(d);this.mn(d.type)}l=b[6];a=0;for(c=l.length;a<c;a++)d=new Lb(this,l[a]),d.index=a,this.Ec.push(d);if(8===b.length)for(b=b[7],a=0,c=b.length;a<c;a++)this.sheet.eo(b[a],this,this.Ac);this.Ni=!1;this.Ya.length&&(this.Ni=null==this.Ya[0].type&&
this.Ya[0].eb==Y.prototype.j.xq)}function c(a,c){var b,l,d;if(a&&(-1===c.indexOf(a)&&c.push(a),a.lc))for(b=0,l=a.Sb.length;b<l;b++)d=a.Sb[b],a!==d&&-1===c.indexOf(d)&&c.push(d)}function a(a,c){this.fc=a;this.sheet=a.sheet;this.b=a.b;this.M=[];this.za=[];this.N={};this.index=-1;this.qg=!1;this.eb=this.b.Vd(c[1]);this.trigger=0<c[3];this.Jn=2===c[3];this.bl=c[5];this.cu=c[6];this.P=c[7];this.b.ae[this.P.toString()]=this;-1===c[0]?(this.type=null,this.Ia=this.dm,this.Ke=null,this.Kc=-1):(this.type=this.b.p[c[0]],
this.Ia=this.cu?this.Pu:this.cm,c[2]?(this.Ke=this.type.Di(c[2]),this.Kc=this.type.Hk(c[2])):(this.Ke=null,this.Kc=-1),this.fc.parent&&this.fc.parent.Bj());this.Jn&&(this.Ia=this.Qu);if(10===c.length){var b,l,d=c[9];b=0;for(l=d.length;b<l;b++){var f=new Mb(this,d[b]);this.M.push(f)}this.za.length=d.length}}function m(a,c){this.fc=a;this.sheet=a.sheet;this.b=a.b;this.M=[];this.za=[];this.N={};this.index=-1;this.qg=!1;this.eb=this.b.Vd(c[1]);-1===c[0]?(this.type=null,this.Ia=this.dm,this.Ke=null,this.Kc=
-1):(this.type=this.b.p[c[0]],this.Ia=this.cm,c[2]?(this.Ke=this.type.Di(c[2]),this.Kc=this.type.Hk(c[2])):(this.Ke=null,this.Kc=-1));this.P=c[3];this.b.Xd[this.P.toString()]=this;if(6===c.length){var b,l,d=c[5];b=0;for(l=d.length;b<l;b++){var f=new Mb(this,d[b]);this.M.push(f)}this.za.length=d.length}}function x(){l++;w.length===l&&w.push(new Nb);return w[l]}function d(a,c){this.xc=a;this.fc=a.fc;this.sheet=a.sheet;this.b=a.b;this.type=c[0];this.fd=null;this.Od=0;this.get=null;this.Bn=0;this.Qa=
null;this.key=0;this.object=null;this.index=0;this.Rh=this.of=this.Rh=this.of=this.Mn=this.Ue=this.Sh=null;this.Cc=!1;var b,l,d;switch(c[0]){case 0:case 7:this.fd=new Ob(this,c[1]);this.Od=0;this.get=this.At;break;case 1:this.fd=new Ob(this,c[1]);this.Od=0;this.get=this.Bt;break;case 5:this.fd=new Ob(this,c[1]);this.Od=0;this.get=this.Ft;break;case 3:case 8:this.Bn=c[1];this.get=this.yt;break;case 6:this.Qa=this.b.sl[c[1]];this.get=this.Gt;break;case 9:this.key=c[1];this.get=this.Et;break;case 4:this.object=
this.b.p[c[1]];this.get=this.Ht;this.fc.mn(this.object);this.xc instanceof Lb?this.fc.Bj():this.fc.parent&&this.fc.parent.Bj();break;case 10:this.index=c[1];a.type&&a.type.B?(this.get=this.Ct,this.Cc=!0):this.get=this.Dt;break;case 11:this.Sh=c[1];this.Ue=null;this.get=this.zt;break;case 2:case 12:this.Mn=c[1];this.get=this.xt;break;case 13:for(this.get=this.It,this.of=[],this.Rh=[],b=1,l=c.length;b<l;b++)d=new Mb(this.xc,c[b]),this.of.push(d),this.Rh.push(0)}}function f(a,c,b){this.sheet=a;this.parent=
c;this.b=a.b;this.ta=[];this.name=b[1];this.mq=b[2];this.Yk=b[3];this.Zg=!!b[4];this.Mi=!!b[5];this.P=b[6];this.b.mg[this.P.toString()]=this;this.data=this.Yk;this.parent?(this.ff=this.Zg||this.Mi?-1:this.b.Xu++,this.b.yr.push(this)):(this.ff=-1,this.b.xr.push(this))}function n(a,c,b){this.sheet=a;this.parent=c;this.b=a.b;this.ta=[];this.Sg=null;this.Ot=b[1];this.ec=!0}function k(){this.Pp=[];this.reset(null)}var y=[];r.prototype.toString=function(){return this.name};r.prototype.eo=function(a,c,b){switch(a[0]){case 0:a=
new Pb(this,c,a);if(a.wc)for(b.push(a),b=0,c=a.Ya.length;b<c;b++)a.Ya[b].trigger&&this.fo(a,b);else a.qo()?this.fo(a,0):b.push(a);break;case 1:a=new Gb(this,c,a);b.push(a);break;case 2:a=new Qb(this,c,a),b.push(a)}};r.prototype.Ea=function(){var a,c;a=0;for(c=this.fe.length;a<c;a++)this.fe[a].Ea(a<c-1&&this.fe[a+1].Ni)};r.prototype.Em=function(){V(this.uk);V(this.dk);this.kn(this);V(this.dk)};r.prototype.kn=function(a){var c,b,l,d,f=a.uk,k=a.dk,m=this.bo.Td();c=0;for(b=m.length;c<b;++c)l=m[c],d=l.Sg,
!l.ec||a===d||-1<k.indexOf(d)||(k.push(d),d.kn(a),f.push(d))};r.prototype.Ia=function(a){this.b.Mw||(this.Uk=!0,a||(this.b.il=!0));var c,b;c=0;for(b=this.fe.length;c<b;c++){var l=this.fe[c];l.Ia();this.b.nk(l.ta);this.b.he&&this.b.ib()}a||(this.b.il=!1)};r.prototype.fo=function(a,c){a.wc||this.b.Vj.push(a);var b,l,d=a.Ya[c],f;d.type?f=d.type.name:f="system";var k=(b=d.Jn)?this.Kn:this.aq;k[f]||(k[f]=[]);f=k[f];k=d.eb;if(b){if(d.M.length&&(d=d.M[0],1===d.type&&2===d.fd.type)){d=d.fd.value.toLowerCase();
b=0;for(l=f.length;b<l;b++)if(f[b].method==k){b=f[b].Gg;b[d]?b[d].push([a,c]):b[d]=[[a,c]];return}b={};b[d]=[[a,c]];f.push({method:k,Gg:b})}}else{b=0;for(l=f.length;b<l;b++)if(f[b].method==k){f[b].Gg.push([a,c]);return}cc&&k===cc.prototype.j.vf?f.unshift({method:k,Gg:[[a,c]]}):f.push({method:k,Gg:[[a,c]]})}};wb=r;u.prototype.Tk=function(){return this.ja?this.type.i.length:this.i.length};u.prototype.ic=function(){return this.ja?this.type.i:this.i};u.prototype.xh=function(a){a&&(a.b.qb().gc.wc?(this.ja&&
(V(this.i),xa(this.Q,a.type.i),this.ja=!1),a=this.Q.indexOf(a),-1!==a&&(this.i.push(this.Q[a]),this.Q.splice(a,1))):(this.ja=!1,V(this.i),this.i[0]=a))};fb=u;window._c2hh_="1C3C8EC86B0FD3E8575E43AC5FEFCDEC956426D6";q.prototype.Ea=function(a){var c,b=this.parent;if(this.group)for(this.Sj=!0;b;){if(!b.group){this.Sj=!1;break}b=b.parent}this.ym=!this.qo()&&(!this.parent||this.parent.group&&this.parent.Sj);this.$n=!!a;this.Fe=this.ta.slice(0);for(b=this.parent;b;){a=0;for(c=b.ta.length;a<c;a++)this.tr(b.ta[a]);
b=b.parent}this.ta=h(this.ta);this.Fe=h(this.Fe);a=0;for(c=this.Ya.length;a<c;a++)this.Ya[a].Ea();a=0;for(c=this.Ec.length;a<c;a++)this.Ec[a].Ea();a=0;for(c=this.Ac.length;a<c;a++)this.Ac[a].Ea(a<c-1&&this.Ac[a+1].Ni)};q.prototype.Tu=function(a){if(this.Kf!==!!a){this.Kf=!!a;var c;a=0;for(c=this.ki.length;a<c;++a)this.ki[a].fq();0<c&&this.b.da.Te&&this.b.da.Te.Em()}};q.prototype.mn=function(a){c(a,this.ta)};q.prototype.tr=function(a){c(a,this.Fe)};q.prototype.Bj=function(){this.Mp=!0;this.parent&&
this.parent.Bj()};q.prototype.qo=function(){return this.Ya.length?this.Ya[0].trigger:!1};q.prototype.Ia=function(){var a,c,b=!1,l=this.b,d=this.b.qb();d.gc=this;var f=this.Ya;this.Ni||(d.vk=!1);if(this.wc){0===f.length&&(b=!0);d.Xa=0;for(a=f.length;d.Xa<a;d.Xa++)c=f[d.Xa],c.trigger||(c=c.Ia())&&(b=!0);(d.bf=b)&&this.xj()}else{d.Xa=0;for(a=f.length;d.Xa<a;d.Xa++)if(c=f[d.Xa].Ia(),!c){d.bf=!1;this.ym&&l.he&&l.ib();return}d.bf=!0;this.xj()}this.rs(d)};q.prototype.rs=function(a){a.bf&&this.$n&&(a.vk=
!0);this.ym&&this.b.he&&this.b.ib()};q.prototype.Nu=function(a){this.b.qb().gc=this;this.Ya[a].Ia()&&(this.xj(),this.b.qb().bf=!0)};q.prototype.xj=function(){var a=this.b.qb(),c;a.rc=0;for(c=this.Ec.length;a.rc<c;a.rc++)if(this.Ec[a.rc].Ia())return;this.wp()};q.prototype.Ku=function(){var a=this.b.qb(),c;for(c=this.Ec.length;a.rc<c;a.rc++)if(this.Ec[a.rc].Ia())return;this.wp()};q.prototype.wp=function(){if(this.Ac.length){var a,c,b,d,l=this.Ac.length-1;this.b.rj(this);if(this.Mp)for(a=0,c=this.Ac.length;a<
c;a++)b=this.Ac[a],(d=!this.Sj||!this.group&&a<l)&&this.b.qj(b.ta),b.Ia(),d?this.b.kf(b.ta):this.b.nk(b.ta);else for(a=0,c=this.Ac.length;a<c;a++)this.Ac[a].Ia();this.b.nj()}};q.prototype.Ou=function(){var a=this.b.qb();a.gc=this;var c=!1,b;a.Xa=0;for(b=this.Ya.length;a.Xa<b;a.Xa++)if(this.Ya[a.Xa].Ia())c=!0;else if(!this.wc)return!1;return this.wc?c:!0};q.prototype.Lu=function(){this.b.Hg++;var a=this.b.qb().Xa,c=this.b.rj(this);if(!this.wc)for(c.Xa=a+1,a=this.Ya.length;c.Xa<a;c.Xa++)if(!this.Ya[c.Xa].Ia()){this.b.nj();
return}this.xj();this.b.nj()};q.prototype.Zt=function(a){var c=a.index;if(0===c)return!0;for(--c;0<=c;--c)if(this.Ya[c].type===a.type)return!1;return!0};Pb=q;a.prototype.Ea=function(){var a,c,b;a=0;for(c=this.M.length;a<c;a++)b=this.M[a],b.Ea(),b.Cc&&(this.qg=!0)};a.prototype.Qu=function(){return!0};a.prototype.dm=function(){var a,c;a=0;for(c=this.M.length;a<c;a++)this.za[a]=this.M[a].get();return Ma(this.eb.apply(this.b.md,this.za),this.bl)};a.prototype.Pu=function(){var a,c;a=0;for(c=this.M.length;a<
c;a++)this.za[a]=this.M[a].get();a=this.eb.apply(this.Ke?this.Ke:this.type,this.za);this.type.Hc();return a};a.prototype.cm=function(){var a,c,b,d,l,f,k,m,h=this.type,n=h.X(),q=this.fc.wc&&!this.trigger;c=0;var t=h.lc,u=h.B,r=h.zd,y=this.Kc,x=-1<y,w=this.qg,I=this.M,z=this.za,B=this.bl,J=this.eb,G;if(w)for(c=0,l=I.length;c<l;++c)f=I[c],f.Cc||(z[c]=f.get(0));else for(c=0,l=I.length;c<l;++c)z[c]=I[c].get(0);if(n.ja){V(n.i);V(n.Q);G=h.i;a=0;for(d=G.length;a<d;++a){m=G[a];if(w)for(c=0,l=I.length;c<l;++c)f=
I[c],f.Cc&&(z[c]=f.get(a));x?(c=0,u&&(c=m.type.Ff[r]),c=J.apply(m.G[y+c],z)):c=J.apply(m,z);(k=Ma(c,B))?n.i.push(m):q&&n.Q.push(m)}h.finish&&h.finish(!0);n.ja=!1;h.Hc();return n.Tk()}b=0;G=(k=q&&!this.fc.Zt(this))?n.Q:n.i;var F=!1;a=0;for(d=G.length;a<d;++a){m=G[a];if(w)for(c=0,l=I.length;c<l;++c)f=I[c],f.Cc&&(z[c]=f.get(a));x?(c=0,u&&(c=m.type.Ff[r]),c=J.apply(m.G[y+c],z)):c=J.apply(m,z);if(Ma(c,B))if(F=!0,k){if(n.i.push(m),t)for(c=0,l=m.siblings.length;c<l;c++)f=m.siblings[c],f.type.X().i.push(f)}else{G[b]=
m;if(t)for(c=0,l=m.siblings.length;c<l;c++)f=m.siblings[c],f.type.X().i[b]=f;b++}else if(k){G[b]=m;if(t)for(c=0,l=m.siblings.length;c<l;c++)f=m.siblings[c],f.type.X().Q[b]=f;b++}else if(q&&(n.Q.push(m),t))for(c=0,l=m.siblings.length;c<l;c++)f=m.siblings[c],f.type.X().Q.push(f)}wa(G,b);if(t)for(u=h.Sb,a=0,d=u.length;a<d;a++)m=u[a].X(),k?wa(m.Q,b):wa(m.i,b);b=F;if(k&&!F)for(a=0,d=n.i.length;a<d;a++){m=n.i[a];if(w)for(c=0,l=I.length;c<l;c++)f=I[c],f.Cc&&(z[c]=f.get(a));c=x?J.apply(m.G[y],z):J.apply(m,
z);if(Ma(c,B)){F=!0;break}}h.finish&&h.finish(b||q);return q?F:n.Tk()};Kb=a;m.prototype.Ea=function(){var a,c,b;a=0;for(c=this.M.length;a<c;a++)b=this.M[a],b.Ea(),b.Cc&&(this.qg=!0)};m.prototype.dm=function(){var a=this.b,c,b,l=this.M,d=this.za;c=0;for(b=l.length;c<b;++c)d[c]=l[c].get();return this.eb.apply(a.md,d)};m.prototype.cm=function(){var a=this.type,c=this.Kc,b=a.zd,l=this.qg,d=this.M,f=this.za,k=this.eb,m=a.X().ic(),a=a.B,h=-1<c,n,q,t,u,r,y;if(l)for(q=0,u=d.length;q<u;++q)r=d[q],r.Cc||(f[q]=
r.get(0));else for(q=0,u=d.length;q<u;++q)f[q]=d[q].get(0);n=0;for(t=m.length;n<t;++n){y=m[n];if(l)for(q=0,u=d.length;q<u;++q)r=d[q],r.Cc&&(f[q]=r.get(n));h?(q=0,a&&(q=y.type.Ff[b]),k.apply(y.G[c+q],f)):k.apply(y,f)}return!1};Lb=m;var w=[],l=-1;d.prototype.Ea=function(){var a,c;if(11===this.type)this.Ue=this.b.Tn(this.Sh,this.fc.parent);else if(13===this.type)for(a=0,c=this.of.length;a<c;a++)this.of[a].Ea();this.fd&&this.fd.Ea()};d.prototype.iu=function(a){this.Cc||!a||a.oa.Fj||(this.Cc=!0)};d.prototype.Ep=
function(){this.Cc=!0};d.prototype.At=function(a){this.Od=a||0;a=x();this.fd.get(a);l--;return a.data};d.prototype.Bt=function(a){this.Od=a||0;a=x();this.fd.get(a);l--;return Q(a.data)?a.data:""};d.prototype.Ht=function(){return this.object};d.prototype.yt=function(){return this.Bn};d.prototype.Ft=function(a){this.Od=a||0;a=x();this.fd.get(a);l--;return a.$a()?this.b.Cd(a.data):this.b.Lg(a.data)};d.prototype.Gt=function(){return this.Qa};d.prototype.Et=function(){return this.key};d.prototype.Dt=function(){return this.index};
d.prototype.Ct=function(a){a=a||0;var c=this.xc.type,b=null,b=c.X(),d=b.ic();if(d.length)b=d[a%d.length].type;else if(b.Q.length)b=b.Q[a%b.Q.length].type;else if(c.i.length)b=c.i[a%c.i.length].type;else return 0;return this.index+b.ti[c.zd]};d.prototype.zt=function(){return this.Ue};d.prototype.xt=function(){return this.Mn};d.prototype.It=function(){var a,c;a=0;for(c=this.of.length;a<c;a++)this.Rh[a]=this.of[a].get();return this.Rh};Mb=d;f.prototype.Ea=function(){this.ta=h(this.ta)};f.prototype.Cj=
function(a){var c=this.b.Sn();this.parent&&!this.Zg&&c?(this.ff>=c.length&&(c.length=this.ff+1),c[this.ff]=a):this.data=a};f.prototype.Yn=function(){var a=this.b.Sn();return!this.parent||this.Zg||!a||this.Mi?this.data:this.ff>=a.length||"undefined"===typeof a[this.ff]?this.Yk:a[this.ff]};f.prototype.Ia=function(){!this.parent||this.Zg||this.Mi||this.Cj(this.Yk)};Gb=f;n.prototype.toString=function(){return"include:"+this.Sg.toString()};n.prototype.Ea=function(){this.Sg=this.b.yk[this.Ot];this.sheet.bo.add(this);
this.ta=h(this.ta);for(var a=this.parent;a;)a.group&&a.ki.push(this),a=a.parent;this.fq()};n.prototype.Ia=function(){this.parent&&this.b.Ah(this.b.p);this.Sg.Uk||this.Sg.Ia(!0);this.parent&&this.b.kf(this.b.p)};n.prototype.fq=function(){for(var a=this.parent;a;){if(a.group&&!a.Kf){this.ec=!1;return}a=a.parent}this.ec=!0};Qb=n;k.prototype.reset=function(a){this.gc=a;this.rc=this.Xa=0;V(this.Pp);this.vk=this.bf=!1};Fb=k})();
(function(){function b(c,a){this.xc=c;this.b=c.b;this.type=a[0];this.get=[this.Ks,this.Gs,this.Ts,this.Ws,this.vs,this.Us,this.Os,this.Ds,this.Ns,this.Ss,this.ws,this.Rs,this.Es,this.Ps,this.Ls,this.Ms,this.Hs,this.Is,this.Cs,this.Vs,this.Qs,this.Js,this.Bs,this.Fs][this.type];var b=null;this.Kd=this.M=this.za=this.eb=this.Nj=this.second=this.first=this.value=null;this.Kc=-1;this.Nc=null;this.lq=-1;this.Ue=this.Sh=null;this.ag=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new Ob(c,a[1]);break;case 18:this.first=new Ob(c,a[1]);this.second=new Ob(c,a[2]);this.Nj=new Ob(c,a[3]);break;case 19:this.eb=this.b.Vd(a[1]);this.eb!==Y.prototype.Bb.random&&this.eb!==Y.prototype.Bb.Gr||this.xc.Ep();this.za=[];this.M=[];3===a.length?(b=a[2],this.za.length=b.length+1):this.za.length=1;break;case 20:this.Kd=this.b.p[a[1]];this.Kc=-1;this.eb=this.b.Vd(a[2]);this.ag=a[3];Sb.Function&&this.eb===Sb.Function.prototype.Bb.tv&&this.xc.Ep();a[4]?this.Nc=new Ob(c,a[4]):this.Nc=null;this.za=
[];this.M=[];6===a.length?(b=a[5],this.za.length=b.length+1):this.za.length=1;break;case 21:this.Kd=this.b.p[a[1]];this.ag=a[2];a[3]?this.Nc=new Ob(c,a[3]):this.Nc=null;this.lq=a[4];break;case 22:this.Kd=this.b.p[a[1]];this.Kd.Di(a[2]);this.Kc=this.Kd.Hk(a[2]);this.eb=this.b.Vd(a[3]);this.ag=a[4];a[5]?this.Nc=new Ob(c,a[5]):this.Nc=null;this.za=[];this.M=[];7===a.length?(b=a[6],this.za.length=b.length+1):this.za.length=1;break;case 23:this.Sh=a[1],this.Ue=null}this.xc.iu(this.Kd);4<=this.type&&17>=
this.type&&(this.first=new Ob(c,a[1]),this.second=new Ob(c,a[2]));if(b){var h,d;h=0;for(d=b.length;h<d;h++)this.M.push(new Ob(c,b[h]))}}function t(){++q;u.length===q&&u.push(new Nb);return u[q]}function h(c,a,b){var h,d;h=0;for(d=c.length;h<d;++h)c[h].get(b),a[h+1]=b.data}function r(c,a){this.type=c||X.uf;this.data=a||0;this.hf=null;this.type==X.uf&&(this.data=Math.floor(this.data))}b.prototype.Ea=function(){23===this.type&&(this.Ue=this.xc.b.Tn(this.Sh,this.xc.fc.parent));this.first&&this.first.Ea();
this.second&&this.second.Ea();this.Nj&&this.Nj.Ea();this.Nc&&this.Nc.Ea();if(this.M){var c,a;c=0;for(a=this.M.length;c<a;c++)this.M[c].Ea()}};var u=[],q=-1;b.prototype.Vs=function(c){var a=this.M,b=this.za;b[0]=c;c=t();h(a,b,c);--q;this.eb.apply(this.b.md,b)};b.prototype.Qs=function(c){var a=this.Kd,b=this.za,u=this.M,d=this.Nc,f=this.eb,n=this.xc.Od,k=a.X(),r=k.ic();if(!r.length)if(k.Q.length)r=k.Q;else{this.ag?c.$b(""):c.ka(0);return}b[0]=c;c.hf=a;c=t();h(u,b,c);d&&(d.get(c),c.$a()&&(n=c.data,r=
a.i));--q;a=r.length;if(n>=a||n<=-a)n%=a;0>n&&(n+=a);f.apply(r[n],b)};b.prototype.Bs=function(c){var a=this.Kd,b=this.za,u=this.M,d=this.Nc,f=this.Kc,n=this.eb,k=this.xc.Od,r=a.X(),w=r.ic();if(!w.length)if(r.Q.length)w=r.Q;else{this.ag?c.$b(""):c.ka(0);return}b[0]=c;c.hf=a;c=t();h(u,b,c);d&&(d.get(c),c.$a()&&(k=c.data,w=a.i));--q;u=w.length;if(k>=u||k<=-u)k%=u;0>k&&(k+=u);k=w[k];w=0;a.B&&(w=k.type.Ff[a.zd]);n.apply(k.G[f+w],b)};b.prototype.Js=function(c){var a=this.Nc,b=this.Kd,h=this.lq,d=this.xc.Od,
f=b.X(),n=f.ic();if(!n.length)if(f.Q.length)n=f.Q;else{this.ag?c.$b(""):c.ka(0);return}if(a){f=t();a.get(f);if(f.$a()){d=f.data;n=b.i;0!==n.length&&(d%=n.length,0>d&&(d+=n.length));d=b.Mk(d);b=d.Na[h];Q(b)?c.$b(b):c.r(b);--q;return}--q}a=n.length;if(d>=a||d<=-a)d%=a;0>d&&(d+=a);d=n[d];n=0;b.B&&(n=d.type.ti[b.zd]);b=d.Na[h+n];Q(b)?c.$b(b):c.r(b)};b.prototype.Ks=function(c){c.type=X.uf;c.data=this.value};b.prototype.Gs=function(c){c.type=X.tf;c.data=this.value};b.prototype.Ts=function(c){c.type=X.String;
c.data=this.value};b.prototype.Ws=function(c){this.first.get(c);c.$a()&&(c.data=-c.data)};b.prototype.vs=function(c){this.first.get(c);var a=t();this.second.get(a);c.$a()&&a.$a()&&(c.data+=a.data,a.Mf()&&c.Wf());--q};b.prototype.Us=function(c){this.first.get(c);var a=t();this.second.get(a);c.$a()&&a.$a()&&(c.data-=a.data,a.Mf()&&c.Wf());--q};b.prototype.Os=function(c){this.first.get(c);var a=t();this.second.get(a);c.$a()&&a.$a()&&(c.data*=a.data,a.Mf()&&c.Wf());--q};b.prototype.Ds=function(c){this.first.get(c);
var a=t();this.second.get(a);c.$a()&&a.$a()&&(c.data/=a.data,c.Wf());--q};b.prototype.Ns=function(c){this.first.get(c);var a=t();this.second.get(a);c.$a()&&a.$a()&&(c.data%=a.data,a.Mf()&&c.Wf());--q};b.prototype.Ss=function(c){this.first.get(c);var a=t();this.second.get(a);c.$a()&&a.$a()&&(c.data=Math.pow(c.data,a.data),a.Mf()&&c.Wf());--q};b.prototype.ws=function(c){this.first.get(c);var a=t();this.second.get(a);a.Of()||c.Of()?this.ys(c,a):this.xs(c,a);--q};b.prototype.ys=function(c,a){c.Of()&&
a.Of()?this.As(c,a):this.zs(c,a)};b.prototype.As=function(c,a){c.data+=a.data};b.prototype.zs=function(c,a){c.Of()?c.data+=(Math.round(1E10*a.data)/1E10).toString():c.$b(c.data.toString()+a.data)};b.prototype.xs=function(c,a){c.ka(c.data&&a.data?1:0)};b.prototype.Rs=function(c){this.first.get(c);var a=t();this.second.get(a);c.$a()&&a.$a()&&(c.data||a.data?c.ka(1):c.ka(0));--q};b.prototype.Cs=function(c){this.first.get(c);c.data?this.second.get(c):this.Nj.get(c)};b.prototype.Es=function(c){this.first.get(c);
var a=t();this.second.get(a);c.ka(c.data===a.data?1:0);--q};b.prototype.Ps=function(c){this.first.get(c);var a=t();this.second.get(a);c.ka(c.data!==a.data?1:0);--q};b.prototype.Ls=function(c){this.first.get(c);var a=t();this.second.get(a);c.ka(c.data<a.data?1:0);--q};b.prototype.Ms=function(c){this.first.get(c);var a=t();this.second.get(a);c.ka(c.data<=a.data?1:0);--q};b.prototype.Hs=function(c){this.first.get(c);var a=t();this.second.get(a);c.ka(c.data>a.data?1:0);--q};b.prototype.Is=function(c){this.first.get(c);
var a=t();this.second.get(a);c.ka(c.data>=a.data?1:0);--q};b.prototype.Fs=function(c){var a=this.Ue.Yn();P(a)?c.r(a):c.$b(a)};Ob=b;r.prototype.Mf=function(){return this.type===X.tf};r.prototype.$a=function(){return this.type===X.uf||this.type===X.tf};r.prototype.Of=function(){return this.type===X.String};r.prototype.Wf=function(){this.Mf()||(this.Of()&&(this.data=parseFloat(this.data)),this.type=X.tf)};r.prototype.ka=function(c){this.type=X.uf;this.data=Math.floor(c)};r.prototype.r=function(c){this.type=
X.tf;this.data=c};r.prototype.$b=function(c){this.type=X.String;this.data=c};r.prototype.Vu=function(c){P(c)?(this.type=X.tf,this.data=c):Q(c)?(this.type=X.String,this.data=c.toString()):(this.type=X.uf,this.data=0)};Nb=r;X={uf:0,tf:1,String:2}})();function Y(b){this.b=b;this.cc=[]}
Y.prototype.Db=function(){var b={},t,h,r,u,q,c,a,m;b.waits=[];var x=b.waits,d;t=0;for(h=this.cc.length;t<h;t++){c=this.cc[t];d={t:c.time,st:c.Wu,s:c.Jp,ev:c.Fg.P,sm:[],sols:{}};c.Fg.Ec[c.rc]&&(d.act=c.Fg.Ec[c.rc].P);r=0;for(u=c.ta.length;r<u;r++)d.sm.push(c.ta[r].P);for(q in c.ac)if(c.ac.hasOwnProperty(q)){a=this.b.p[parseInt(q,10)];m={sa:c.ac[q].xp,insts:[]};r=0;for(u=c.ac[q].Ye.length;r<u;r++)m.insts.push(c.ac[q].Ye[r].uid);d.sols[a.P.toString()]=m}x.push(d)}return b};
Y.prototype.Wb=function(b){b=b.waits;var t,h,r,u,q,c,a,m,x,d,f;V(this.cc);t=0;for(h=b.length;t<h;t++)if(c=b[t],m=this.b.tn[c.ev.toString()]){x=-1;r=0;for(u=m.Ec.length;r<u;r++)if(m.Ec[r].P===c.act){x=r;break}if(-1!==x){a={ac:{},ta:[],En:!1};a.time=c.t;a.Wu=c.st||"";a.Jp=!!c.s;a.Fg=m;a.rc=x;r=0;for(u=c.sm.length;r<u;r++)(m=this.b.Gi(c.sm[r]))&&a.ta.push(m);for(q in c.sols)if(c.sols.hasOwnProperty(q)&&(m=this.b.Gi(parseInt(q,10)))){x=c.sols[q];d={xp:x.sa,Ye:[]};r=0;for(u=x.insts.length;r<u;r++)(f=this.b.Fi(x.insts[r]))&&
d.Ye.push(f);a.ac[m.index.toString()]=d}this.cc.push(a)}}};
(function(){function b(){}function t(){}function h(){}var r=Y.prototype;b.prototype.yq=function(){return!0};b.prototype.$q=function(){return!0};b.prototype.Zq=function(){return!0};b.prototype.vq=function(c,a,b){return Rb(c.Yn(),a,b)};b.prototype.Cq=function(c){return(c=this.b.Pg[c.toLowerCase()])&&c.Kf};b.prototype.xq=function(){var c=this.b.qb();return c.vk?!1:!c.bf};b.prototype.Tm=function(){return!0};b.prototype.Nq=function(){return!0};b.prototype.ck=function(){return!0};b.prototype.Ym=function(){return!0};
b.prototype.br=function(){return!0};b.prototype.Xh=function(){return!0};b.prototype.rq=function(c,a,b){return Ia(W(c),W(b))<=W(a)};b.prototype.Bq=function(c,a){return Ka(W(c),W(a))};b.prototype.Aq=function(c,a,b){c=Ga(c);a=Ga(a);b=Ga(b);return Ka(b,a)?Ka(c,a)&&!Ka(c,b):!(!Ka(c,a)&&Ka(c,b))};r.j=new b;t.prototype.zq=function(c){this.b.$g||this.b.xg||(this.b.xg=c)};t.prototype.kr=function(c,a){0===c.mq?P(a)?c.Cj(a):c.Cj(parseFloat(a)):1===c.mq&&c.Cj(a.toString())};var u=[],q=[];r.Ka=new t;h.prototype["int"]=
function(c,a){Q(a)?(c.ka(parseInt(a,10)),isNaN(c.data)&&(c.data=0)):c.ka(a)};h.prototype["float"]=function(c,a){Q(a)?(c.r(parseFloat(a)),isNaN(c.data)&&(c.data=0)):c.r(a)};h.prototype.random=function(c,a,b){void 0===b?c.r(Math.random()*a):c.r(Math.random()*(b-a)+a)};h.prototype.sqrt=function(c,a){c.r(Math.sqrt(a))};h.prototype.abs=function(c,a){c.r(Math.abs(a))};h.prototype.round=function(c,a){c.ka(Math.round(a))};h.prototype.floor=function(c,a){c.ka(Math.floor(a))};h.prototype.ceil=function(c,a){c.ka(Math.ceil(a))};
h.prototype.sin=function(c,a){c.r(Math.sin(W(a)))};h.prototype.cos=function(c,a){c.r(Math.cos(W(a)))};h.prototype.tan=function(c,a){c.r(Math.tan(W(a)))};h.prototype.asin=function(c,a){c.r(Ca(Math.asin(a)))};h.prototype.acos=function(c,a){c.r(Ca(Math.acos(a)))};h.prototype.atan=function(c,a){c.r(Ca(Math.atan(a)))};h.prototype.exp=function(c,a){c.r(Math.exp(a))};h.prototype.log10=function(c,a){c.r(Math.log(a)/Math.LN10)};h.prototype.max=function(c){var a=arguments[1];"number"!==typeof a&&(a=0);var b,
h,d;b=2;for(h=arguments.length;b<h;b++)d=arguments[b],"number"===typeof d&&a<d&&(a=d);c.r(a)};h.prototype.min=function(c){var a=arguments[1];"number"!==typeof a&&(a=0);var b,h,d;b=2;for(h=arguments.length;b<h;b++)d=arguments[b],"number"===typeof d&&a>d&&(a=d);c.r(a)};h.prototype.Df=function(c){c.r(this.b.Df)};h.prototype.ig=function(c){c.r(this.b.ig)};h.prototype.time=function(c){c.r(this.b.mc.ua)};h.prototype.nd=function(c){c.ka(this.b.nd)};h.prototype.gj=function(c){c.ka(this.b.gj)};h.prototype.Dk=
function(c){c.ka(this.b.Dk)};h.prototype.m=function(c,a,b,h,d){c.r(Ca(Ha(a,b,h,d)))};h.prototype.left=function(c,a,b){c.$b(Q(a)?a.substr(0,b):"")};h.prototype.right=function(c,a,b){c.$b(Q(a)?a.substr(a.length-b):"")};h.prototype.replace=function(c,a,b,h){Q(a)&&Q(b)&&Q(h)?c.$b(a.replace(new RegExp(Va(b),"gi"),h)):c.$b(Q(a)?a:"")};h.prototype.trim=function(c,a){c.$b(Q(a)?a.trim():"")};h.prototype.Gr=function(c){var a=T(Math.random()*(arguments.length-1));c.Vu(arguments[a+1])};h.prototype.pk=function(c){c.r(this.b.pk/
1E3)};h.prototype.Wi=function(c){c.r(this.b.Wi)};r.Bb=new h;r.Mu=function(){var c,a,b,h,d,f,n=this.b.qb();c=0;for(b=this.cc.length;c<b;c++){h=this.cc[c];if(-1===h.time){if(!h.Jp)continue}else if(h.time>this.b.mc.ua)continue;n.gc=h.Fg;n.rc=h.rc;n.Xa=0;for(a in h.ac)h.ac.hasOwnProperty(a)&&(d=this.b.p[parseInt(a,10)].X(),f=h.ac[a],d.ja=f.xp,xa(d.i,f.Ye),d=f,V(d.Ye),q.push(d));h.Fg.Ku();this.b.nk(h.ta);h.En=!0}a=c=0;for(b=this.cc.length;c<b;c++)h=this.cc[c],this.cc[a]=h,h.En?(Pa(h.ac),V(h.ta),u.push(h)):
a++;wa(this.cc,a)}})();
(function(){eb=function(b,h){var r=b[1],u=b[3],q=b[4],c=b[5],a=b[6],m=b[7],x=b[8];h.j||(h.j={});h.Ka||(h.Ka={});h.Bb||(h.Bb={});var d=h.j,f=h.Ka,n=h.Bb;u&&(d.yv=function(a,c){return Rb(this.x,a,c)},d.zv=function(a,c){return Rb(this.y,a,c)},d.Gv=function(){var a=this.k;this.ea();var c=this.pa;return!(c.right<a.V||c.bottom<a.W||c.left>a.aa||c.top>a.Z)},d.Gq=function(){this.ea();var a=this.pa,c=this.b.da;return 0>a.right||0>a.bottom||a.left>c.width||a.top>c.height},d.Sv=function(a,c,b){var d=this.X(),
e=d.ic();if(!e.length)return!1;var g=e[0],f=g,m=La(g.x,g.y,c,b),h,n,q;h=1;for(n=e.length;h<n;h++)if(g=e[h],q=La(g.x,g.y,c,b),0===a&&q<m||1===a&&q>m)m=q,f=g;d.xh(f);return!0},f.kw=function(a){this.x!==a&&(this.x=a,this.u())},f.lw=function(a){this.y!==a&&(this.y=a,this.u())},f.jr=function(a,c){if(this.x!==a||this.y!==c)this.x=a,this.y=c,this.u()},f.gw=function(a,c){var b=a.ot(this);if(b){var d;b.Lk?(d=b.Lk(c,!0),b=b.Lk(c,!1)):(d=b.x,b=b.y);if(this.x!==d||this.y!==b)this.x=d,this.y=b,this.u()}},f.Lv=
function(a){0!==a&&(this.x+=Math.cos(this.m)*a,this.y+=Math.sin(this.m)*a,this.u())},f.Kv=function(a,c){0!==c&&(this.x+=Math.cos(W(a))*c,this.y+=Math.sin(W(a))*c,this.u())},n.bn=function(a){a.r(this.x)},n.cn=function(a){a.r(this.y)},n.Df=function(a){a.r(this.b.Ik(this))});q&&(d.xv=function(a,c){return Rb(this.width,a,c)},d.uv=function(a,c){return Rb(this.height,a,c)},f.lr=function(a){this.width!==a&&(this.width=a,this.u())},f.dw=function(a){this.height!==a&&(this.height=a,this.u())},f.hw=function(a,
c){if(this.width!==a||this.height!==c)this.width=a,this.height=c,this.u()},n.qw=function(a){a.r(this.width)},n.Cv=function(a){a.r(this.height)},n.qv=function(a){this.ea();a.r(this.pa.left)},n.sv=function(a){this.ea();a.r(this.pa.top)},n.rv=function(a){this.ea();a.r(this.pa.right)},n.pv=function(a){this.ea();a.r(this.pa.bottom)});c&&(d.rq=function(a,c){return Ia(this.m,W(c))<=W(a)},d.Bq=function(a){return Ka(this.m,W(a))},d.Aq=function(a,c){var b=Ga(a),d=Ga(c),e=Ea(this.m);return Ka(d,b)?Ka(e,b)&&
!Ka(e,d):!(!Ka(e,b)&&Ka(e,d))},f.$v=function(a){a=W(Da(a));isNaN(a)||this.m===a||(this.m=a,this.u())},f.Wv=function(a){0===a||isNaN(a)||(this.m+=W(a),this.m=Ea(this.m),this.u())},f.Xv=function(a){0===a||isNaN(a)||(this.m-=W(a),this.m=Ea(this.m),this.u())},f.Yv=function(a,c){var b=Ja(this.m,W(c),W(a));isNaN(b)||this.m===b||(this.m=b,this.u())},f.Zv=function(a,c,b){a=Ja(this.m,Math.atan2(b-this.y,c-this.x),W(a));isNaN(a)||this.m===a||(this.m=a,this.u())},f.iw=function(a,c){var b=Math.atan2(c-this.y,
a-this.x);isNaN(b)||this.m===b||(this.m=b,this.u())},n.ov=function(a){a.r(Fa(this.m))});r||(d.vv=function(a,c,b){return Rb(this.Na[a],c,b)},d.Ev=function(a){return this.Na[a]},d.Tv=function(a,c){var b=this.X(),d=b.ic();if(!d.length)return!1;var e=d[0],g=e,f=e.Na[c],m,h,n;m=1;for(h=d.length;m<h;m++)if(e=d[m],n=e.Na[c],0===a&&n<f||1===a&&n>f)f=n,g=e;b.xh(g);return!0},d.Rv=function(a){var c,b,d,e,g;if(this.b.Rn().bl){g=this.X();if(g.ja)for(g.ja=!1,V(g.i),V(g.Q),d=this.i,c=0,b=d.length;c<b;c++)e=d[c],
e.uid===a?g.Q.push(e):g.i.push(e);else{d=c=0;for(b=g.i.length;c<b;c++)e=g.i[c],g.i[d]=e,e.uid===a?g.Q.push(e):d++;wa(g.i,d)}this.Hc();return!!g.i.length}e=this.b.Fi(a);if(!e)return!1;g=this.X();if(!g.ja&&-1===g.i.indexOf(e))return!1;if(this.B)for(a=e.type.qa,c=0,b=a.length;c<b;c++){if(a[c]===this)return g.xh(e),this.Hc(),!0}else if(e.type===this)return g.xh(e),this.Hc(),!0;return!1},d.Om=function(){return!0},d.Pq=function(){return!0},f.ew=function(a,c){var b=this.Na;P(b[a])?b[a]=P(c)?c:parseFloat(c):
Q(b[a])&&(b[a]=Q(c)?c:c.toString())},f.nv=function(a,c){var b=this.Na;P(b[a])?b[a]=P(c)?b[a]+c:b[a]+parseFloat(c):Q(b[a])&&(b[a]=Q(c)?b[a]+c:b[a]+c.toString())},f.mw=function(a,c){var b=this.Na;P(b[a])&&(b[a]=P(c)?b[a]-c:b[a]-parseFloat(c))},f.aw=function(a,c){this.Na[a]=c?1:0},f.ow=function(a){this.Na[a]=1-this.Na[a]},f.Bv=function(){this.b.sf(this)},f.Iq||(f.Iq=function(a){var c,b;try{c=JSON.parse(a)}catch(d){return}this.b.Ti(this,c,!0);this.qd&&this.qd();if(this.G)for(a=0,c=this.G.length;a<c;++a)b=
this.G[a],b.qd&&b.qd()}),n.Av=function(a){var c=a.hf.i.length,b,d,e;b=0;for(d=this.b.Lc.length;b<d;b++)e=this.b.Lc[b],a.hf.B?0<=e.type.qa.indexOf(a.hf)&&c++:e.type===a.hf&&c++;a.ka(c)},n.Vv=function(a){a.ka(a.hf.X().ic().length)},n.pw=function(a){a.ka(this.uid)},n.Dv=function(a){a.ka(this.Ng())},n.sq||(n.sq=function(a){a.$b(JSON.stringify(this.b.em(this,!0)))}));a&&(d.Hv=function(){return this.visible},f.jw=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.Y=!0)},d.wv=function(a,c){return Rb(ab(100*
this.opacity),a,c)},f.fw=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.Y=!0)},n.Opacity=function(a){a.r(ab(100*this.opacity))});m&&(d.Fv=function(a){return a?this.k===a:!1},d.Uv=function(a){var c=this.X(),b=c.ic();if(!b.length)return!1;var d=b[0],e=d,g,f;g=1;for(f=b.length;g<f;g++)if(d=b[g],0===a){if(d.k.index>e.k.index||d.k.index===e.k.index&&d.gd()>e.gd())e=d}else if(d.k.index<e.k.index||d.k.index===e.k.index&&d.gd()<e.gd())e=d;c.xh(e);return!0},f.Ov=function(){var a=
this.k,c=a.i;c.length&&c[c.length-1]===this||(a.$f(this,!1),a.sg(this,!1),this.b.Y=!0)},f.Mv=function(){var a=this.k,c=a.i;c.length&&c[0]===this||(a.$f(this,!1),a.Au(this),this.b.Y=!0)},f.Nv=function(a){a&&a!=this.k&&(this.k.$f(this,!0),this.k=a,a.sg(this,!0),this.b.Y=!0)},f.sw=function(a,c){var b=0===a;if(c){var d=c.it(this);d&&d.uid!==this.uid&&(this.k.index!==d.k.index&&(this.k.$f(this,!0),this.k=d.k,d.k.sg(this,!0)),this.k.ku(this,d,b),this.b.Y=!0)}},n.Jv=function(a){a.ka(this.k.bp)},n.Iv=function(a){a.$b(this.k.name)},
n.rw=function(a){a.ka(this.gd())});x&&(f.bw=function(a,c){if(this.b.n){var b=this.type.Kk(c);if(!(0>b)){var d=1===a;this.Wd[b]!==d&&(this.Wd[b]=d,this.$c(),this.b.Y=!0)}}},f.cw=function(a,c,b){if(this.b.n){var d=this.type.Kk(a);0>d||(a=this.type.I[d],d=this.ya[d],c=Math.floor(c),0>c||c>=d.length||(1===this.b.n.tt(a.Ja,c)&&(b/=100),d[c]!==b&&(d[c]=b,a.ec&&(this.b.Y=!0))))}})};xb=function(){this.lk=this.fk=!0;this.type.Yh=!0;this.b.Y=!0;var b,h,r=this.gk;b=0;for(h=r.length;b<h;++b)r[b](this);this.k.qc&&
this.ea()};yb=function(b){b&&this.gk.push(b)};Ab=function(){if(this.fk){var b=this.pa,h=this.yb;b.set(this.x,this.y,this.x+this.width,this.y+this.height);b.offset(-this.Ib*this.width,-this.Jb*this.height);this.m?(b.offset(-this.x,-this.y),h.Gp(b,this.m),h.offset(this.x,this.y),h.un(b)):h.Fh(b);b.normalize();this.fk=!1;this.cv()}};var b=new U(0,0,0,0);Bb=function(){if(this.k.qc){var t=this.k.hb,h=this.pa;b.set(t.Gb(h.left),t.Hb(h.top),t.Gb(h.right),t.Hb(h.bottom));this.Nb.Eg(b)||(this.Nb.right<this.Nb.left?
t.update(this,null,b):t.update(this,this.Nb,b),this.Nb.zg(b),this.k.Vc=!0)}};Cb=function(){if(this.lk&&this.sd){this.ea();var t=this.type.ji,h=this.pa;b.set(t.Gb(h.left),t.Hb(h.top),t.Gb(h.right),t.Hb(h.bottom));this.be.Eg(b)||(this.be.right<this.be.left?t.update(this,null,b):t.update(this,this.be,b),this.be.zg(b),this.lk=!1)}};zb=function(b,h){return this.pa.ob(b,h)&&this.yb.ob(b,h)?this.hg?this.$u(b,h):this.T&&!this.T.Lf()?(this.T.Ne(this.width,this.height,this.m),this.T.ob(b-this.x,h-this.y)):
!0:!1};tb=function(){this.type.Xj();return this.Xe};Db=function(){this.k.Gm();return this.ad};Eb=function(){V(this.S);var b,h,r,u=!0;b=0;for(h=this.Wd.length;b<h;b++)this.Wd[b]&&(r=this.type.I[b],this.S.push(r),r.Rc||(u=!1));this.kq=!!this.S.length;this.Nd=u};ub=function(){return"Inst"+this.tp};hb=function(b){if(b&&b.lc&&b.type!=this){var h,r,u;h=0;for(r=b.siblings.length;h<r;h++)if(u=b.siblings[h],u.type==this)return u}b=this.X().ic();return b.length?b[0]:null};ib=function(b){var h=this.X().ic();
return h.length?h[b.Ng()%h.length]:null};gb=function(){if(this.fg&&!this.B){var b,h;b=0;for(h=this.i.length;b<h;b++)this.i[b].Xe=b;var r=b,u=this.b.Lc;b=0;for(h=u.length;b<h;++b)u[b].type===this&&(u[b].Xe=r++);this.fg=!1}};rb=function(b){if(b<this.i.length)return this.i[b];b-=this.i.length;var h=this.b.Lc,r,u;r=0;for(u=h.length;r<u;++r)if(h[r].type===this){if(0===b)return h[r];--b}return null};jb=function(){return this.Pd[this.dd]};kb=function(){this.dd++;this.dd===this.Pd.length?this.Pd.push(new fb(this)):
(this.Pd[this.dd].ja=!0,V(this.Pd[this.dd].Q))};lb=function(){this.dd++;this.dd===this.Pd.length&&this.Pd.push(new fb(this));var b=this.Pd[this.dd],h=this.Pd[this.dd-1];h.ja?b.ja=!0:(b.ja=!1,xa(b.i,h.i));V(b.Q)};mb=function(){this.dd--};nb=function(b){var h,r,u,q,c,a=0;if(!this.B)for(h=0,r=this.qa.length;h<r;h++)for(c=this.qa[h],u=0,q=c.xa.length;u<q;u++){if(b===c.xa[u].name)return this.N.lastBehIndex=a,c.xa[u];a++}h=0;for(r=this.xa.length;h<r;h++){if(b===this.xa[h].name)return this.N.lastBehIndex=
a,this.xa[h];a++}return null};ob=function(b){return this.Di(b)?this.N.lastBehIndex:-1};pb=function(b){var h,r;h=0;for(r=this.I.length;h<r;h++)if(this.I[h].name===b)return h;return-1};qb=function(){if(this.lc&&!this.B){var b,h,r,u,q,c,a;this.Xj();c=this.X();var m=c.ja,x=(b=this.b.qb())&&b.gc&&b.gc.wc;b=0;for(h=this.Sb.length;b<h;b++)if(q=this.Sb[b],q!==this&&(q.Xj(),a=q.X(),a.ja=m,!m)){V(a.i);r=0;for(u=c.i.length;r<u;++r)a.i[r]=q.Mk(c.i[r].Xe);if(x)for(V(a.Q),r=0,u=c.Q.length;r<u;++r)a.Q[r]=q.Mk(c.Q[r].Xe)}}};
sb=function(){return"Type"+this.P};Rb=function(b,h,r){if("undefined"===typeof b||"undefined"===typeof r)return!1;switch(h){case 0:return b===r;case 1:return b!==r;case 2:return b<r;case 3:return b<=r;case 4:return b>r;case 5:return b>=r;default:return!1}}})();var $b={};function dc(b){this.b=b}
(function(){function b(){}var t=dc.prototype;t.wa=function(b){this.oa=b;this.b=b.b};t.wa.prototype.R=function(){};t.fa=function(b){this.type=b;this.b=b.b;this.Rf=Array(256);this.Qh=Array(256);this.Sd=0};var h=t.fa.prototype;h.R=function(){var b=this;this.b.Da||(jQuery(document).keydown(function(h){b.Il(h)}),jQuery(document).keyup(function(h){b.Jl(h)}))};var r=[32,33,34,35,36,37,38,39,40,44];h.Il=function(b){var h=!1;window!=window.top&&-1<r.indexOf(b.which)&&(b.preventDefault(),h=!0,b.stopPropagation());
if(this.Rf[b.which])this.Qh[b.which]&&!h&&b.preventDefault();else{this.Rf[b.which]=!0;this.Sd=b.which;this.b.Oa=!0;this.b.trigger(dc.prototype.j.Mq,this);var c=this.b.trigger(dc.prototype.j.Xq,this),a=this.b.trigger(dc.prototype.j.Yq,this);this.b.Oa=!1;if(c||a)this.Qh[b.which]=!0,h||b.preventDefault()}};h.Jl=function(b){this.Rf[b.which]=!1;this.Sd=b.which;this.b.Oa=!0;this.b.trigger(dc.prototype.j.Mm,this);var h=this.b.trigger(dc.prototype.j.Rm,this),c=this.b.trigger(dc.prototype.j.Qm,this);this.b.Oa=
!1;if(h||c||this.Qh[b.which])this.Qh[b.which]=!0,b.preventDefault()};h.we=function(){var b;for(b=0;256>b;++b)if(this.Rf[b]){this.Rf[b]=!1;this.Sd=b;this.b.trigger(dc.prototype.j.Mm,this);var h=this.b.trigger(dc.prototype.j.Rm,this),c=this.b.trigger(dc.prototype.j.Qm,this);if(h||c)this.Qh[b]=!0}};h.Db=function(){return{triggerKey:this.Sd}};h.Wb=function(b){this.Sd=b.triggerKey};b.prototype.Dq=function(b){return this.Rf[b]};b.prototype.Xq=function(b){return b===this.Sd};b.prototype.Mq=function(){return!0};
b.prototype.Mm=function(){return!0};b.prototype.Rm=function(b){return b===this.Sd};b.prototype.Yq=function(b){return b===this.Sd};b.prototype.Qm=function(b){return b===this.Sd};t.j=new b;t.Ka=new function(){};t.Bb=new function(){}})();function ec(b){this.b=b}
(function(){function b(){}function t(){}var h=ec.prototype;h.wa=function(b){this.oa=b;this.b=b.b};h.wa.prototype.R=function(){};h.fa=function(b){this.type=b;this.b=b.b;this.yf=Array(4);this.Zp=this.Tj=this.qf=this.ve=this.ue=0;this.Sk=!1};var r=h.fa.prototype;r.R=function(){var b=this;if(!this.b.Da){jQuery(document).mousemove(function(a){b.Ll(a)});jQuery(document).mousedown(function(a){b.Kl(a)});jQuery(document).mouseup(function(a){b.Ml(a)});jQuery(document).dblclick(function(a){b.ou(a)});var c=function(a){b.ru(a)};
document.addEventListener("mousewheel",c,!1);document.addEventListener("DOMMouseScroll",c,!1)}};var u={left:0,top:0};r.Ll=function(b){var c=this.b.Da?u:jQuery(this.b.canvas).offset();this.ue=b.pageX-c.left;this.ve=b.pageY-c.top};r.Wo=function(){return 0<this.b.Cb?!0:0<=this.ue&&0<=this.ve&&this.ue<this.b.width&&this.ve<this.b.height};r.Kl=function(b){this.Wo()&&(this.yf[b.which]=!0,this.b.Oa=!0,this.b.trigger(ec.prototype.j.Lq,this),this.qf=b.which-1,this.Tj=0,this.b.trigger(ec.prototype.j.Nm,this),
this.b.trigger(ec.prototype.j.Wm,this),this.b.Oa=!1)};r.Ml=function(b){this.yf[b.which]&&(this.b.Hi&&!this.b.Fd&&b.preventDefault(),this.b.Hi=!0,this.yf[b.which]=!1,this.b.Oa=!0,this.qf=b.which-1,this.b.trigger(ec.prototype.j.Xm,this),this.b.Oa=!1)};r.ou=function(b){this.Wo()&&(b.preventDefault(),this.b.Oa=!0,this.qf=b.which-1,this.Tj=1,this.b.trigger(ec.prototype.j.Nm,this),this.b.trigger(ec.prototype.j.Wm,this),this.b.Oa=!1)};r.ru=function(b){this.Zp=0>(b.wheelDelta?b.wheelDelta:b.detail?-b.detail:
0)?0:1;this.Sk=!1;this.b.Oa=!0;this.b.trigger(ec.prototype.j.gr,this);this.b.Oa=!1;this.Sk&&cb(b)&&b.preventDefault()};r.we=function(){var b,c;b=0;for(c=this.yf.length;b<c;++b)this.yf[b]&&(this.yf[b]=!1,this.qf=b-1,this.b.trigger(ec.prototype.j.Xm,this))};b.prototype.Nm=function(b,c){return b===this.qf&&c===this.Tj};b.prototype.Lq=function(){return!0};b.prototype.Xm=function(b){return b===this.qf};b.prototype.Wm=function(b,c,a){return b!==this.qf||c!==this.Tj?!1:this.b.Mh(a,this.ue,this.ve)};b.prototype.gr=
function(b){this.Sk=!0;return b===this.Zp};h.j=new b;h.Ka=new function(){};t.prototype.bn=function(b,c){var a,m,h,d,f;ha(c)?(a=this.b.Cd(0),m=a.scale,h=a.xb,d=a.Kb,f=a.m,a.scale=1,a.xb=1,a.Kb=1,a.m=0,b.r(a.La(this.ue,this.ve,!0)),a.scale=m,a.xb=h,a.Kb=d,a.m=f):(a=P(c)?this.b.Cd(c):this.b.Lg(c))?b.r(a.La(this.ue,this.ve,!0)):b.r(0)};t.prototype.cn=function(b,c){var a,m,h,d,f;ha(c)?(a=this.b.Cd(0),m=a.scale,h=a.xb,d=a.Lb,f=a.m,a.scale=1,a.xb=1,a.Lb=1,a.m=0,b.r(a.La(this.ue,this.ve,!1)),a.scale=m,a.xb=
h,a.Lb=d,a.m=f):(a=P(c)?this.b.Cd(c):this.b.Lg(c))?b.r(a.La(this.ue,this.ve,!1)):b.r(0)};h.Bb=new t})();function cc(b){this.b=b}
(function(){function b(){if(0===this.tk.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var c=a.getContext("2d");this.eg?c.drawImage(this.F,this.Yf,this.Zf,this.width,this.height,0,0,this.width,this.height):c.drawImage(this.F,0,0,this.width,this.height);this.tk=a.toDataURL("image/png")}return this.tk}function t(){}function h(a){a[0]=0;a[1]=0;a[2]=0;n.push(a)}function r(a,c){return a<c?""+a+","+c:""+c+","+a}function u(a,c,b,d){c=c.uid;b=b.uid;var l=r(c,b);if(a.hasOwnProperty(l))a[l][2]=
d;else{var f=n.length?n.pop():[0,0,0];f[0]=c;f[1]=b;f[2]=d;a[l]=f}}function q(a,c,b){c=r(c.uid,b.uid);a.hasOwnProperty(c)&&(h(a[c]),delete a[c])}function c(a,c,b){c=r(c.uid,b.uid);if(a.hasOwnProperty(c))return k=a[c][2],!0;k=-2;return!1}function a(){}var m=cc.prototype;m.wa=function(a){this.oa=a;this.b=a.b};var x=m.wa.prototype;x.R=function(){if(!this.B){var a,c,d,l,f,m,h,k,n;this.Fc=[];this.Qg=!1;a=0;for(c=this.Rb.length;a<c;a++){f=this.Rb[a];h={};h.name=f[0];h.speed=f[1];h.loop=f[2];h.Zl=f[3];h.$l=
f[4];h.mp=f[5];h.P=f[6];h.frames=[];d=0;for(l=f[7].length;d<l;d++)m=f[7][d],k={},k.Lj=m[0],k.Mj=m[1],k.Yf=m[2],k.Zf=m[3],k.width=m[4],k.height=m[5],k.duration=m[6],k.Ib=m[7],k.Jb=m[8],k.Wk=m[9],k.mj=m[10],k.np=m[11],k.eg=0!==k.width,k.tk="",k.yw=b,n={left:0,top:0,right:1,bottom:1},k.lm=n,k.la=null,(n=this.b.bt(m[0]))?k.F=n:(k.F=new Image,k.F.Ir=m[0],k.F.qk=m[1],k.F.Er=null,this.b.Im(k.F,m[0])),h.frames.push(k),this.Fc.push(k);this.Rb[a]=h}}};x.hq=function(){var a,c,b;a=0;for(c=this.i.length;a<c;a++)b=
this.i[a],b.mi=b.bb.la};x.vh=function(){if(!this.B){var a,c,b;a=0;for(c=this.Fc.length;a<c;++a)b=this.Fc[a],b.F.Er=null,b.la=null;this.Qg=!1;this.hq()}};x.ij=function(){if(!this.B&&this.i.length){var a,c,b;a=0;for(c=this.Fc.length;a<c;++a)b=this.Fc[a],b.la=this.b.n.Ui(b.F,!1,this.b.na,b.np);this.hq()}};x.Vi=function(){if(!this.B&&!this.Qg&&this.b.n){var a,c,b;a=0;for(c=this.Fc.length;a<c;++a)b=this.Fc[a],b.la=this.b.n.Ui(b.F,!1,this.b.na,b.np);this.Qg=!0}};x.Wj=function(){if(!this.B&&!this.i.length&&
this.Qg){var a,c,b;a=0;for(c=this.Fc.length;a<c;++a)b=this.Fc[a],this.b.n.deleteTexture(b.la),b.la=null;this.Qg=!1}};var d=[];x.oj=function(a){var c,b,l;V(d);c=0;for(b=this.Fc.length;c<b;++c)l=this.Fc[c].F,-1===d.indexOf(l)&&(a.drawImage(l,0,0),d.push(l))};m.fa=function(a){this.type=a;this.b=a.b;a=this.type.Rb[0].frames[0].mj;this.Zb?this.T.Gh(a):this.T=new Wa(a)};var f=m.fa.prototype;f.R=function(){this.visible=0===this.K[0];this.Xk=this.jl=!1;this.sd=0!==this.K[3];this.ma=this.Pn(this.K[1])||this.type.Rb[0];
this.A=this.K[2];0>this.A&&(this.A=0);this.A>=this.ma.frames.length&&(this.A=this.ma.frames.length-1);var a=this.ma.frames[this.A];this.T.Gh(a.mj);this.Ib=a.Ib;this.Jb=a.Jb;this.zf=this.ma.speed;this.de=this.ma.$l;1===this.type.Rb.length&&1===this.type.Rb[0].frames.length||0===this.zf||(this.b.Pj(this),this.jl=!0);this.Zb?this.bd.reset():this.bd=new Ua;this.Ad=this.bd.ua;this.Je=!0;this.rd=0;this.Ie=!0;this.hi=this.nn="";this.zn=0;this.mk=-1;this.type.Vi();var c,b,d,l,f,m,h,a=0;for(c=this.type.Rb.length;a<
c;a++)for(l=this.type.Rb[a],b=0,d=l.frames.length;b<d;b++)f=l.frames[b],0===f.width&&(f.width=f.F.width,f.height=f.F.height),f.eg&&(h=f.F,m=f.lm,m.left=f.Yf/h.width,m.top=f.Zf/h.height,m.right=(f.Yf+f.width)/h.width,m.bottom=(f.Zf+f.height)/h.height,0===f.Yf&&0===f.Zf&&f.width===h.width&&f.height===h.height&&(f.eg=!1));this.bb=this.ma.frames[this.A];this.mi=this.bb.la};f.Db=function(){var a={a:this.ma.P,f:this.A,cas:this.zf,fs:this.Ad,ar:this.rd,at:this.bd.ua,rt:this.de};this.Je||(a.ap=this.Je);this.Ie||
(a.af=this.Ie);return a};f.Wb=function(a){var c=this.et(a.a);c&&(this.ma=c);this.A=a.f;0>this.A&&(this.A=0);this.A>=this.ma.frames.length&&(this.A=this.ma.frames.length-1);this.zf=a.cas;this.Ad=a.fs;this.rd=a.ar;this.bd.reset();this.bd.ua=a.at;this.Je=a.hasOwnProperty("ap")?a.ap:!0;this.Ie=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.de=a.rt:this.de=this.ma.$l;this.bb=this.ma.frames[this.A];this.mi=this.bb.la;this.T.Gh(this.bb.mj);this.Ib=this.bb.Ib;this.Jb=this.bb.Jb};f.ek=function(a){this.A=
a?0:this.ma.frames.length-1;this.Je=!1;this.nn=this.ma.name;this.Xk=!0;this.b.trigger(cc.prototype.j.Kq,this);this.b.trigger(cc.prototype.j.Jq,this);this.Xk=!1;this.rd=0};f.vg=function(){return this.bd.ua};f.Xc=function(){this.bd.add(this.b.Ik(this));this.hi.length&&this.Fn();0<=this.mk&&this.Pr();var a=this.bd.ua,c=this.ma,b=c.frames[this.A],d=b.duration/this.zf;this.Je&&a>=this.Ad+d&&(this.Ie?this.A++:this.A--,this.Ad+=d,this.A>=c.frames.length&&(c.mp?(this.Ie=!1,this.A=c.frames.length-2):c.loop?
this.A=this.de:(this.rd++,this.rd>=c.Zl?this.ek(!1):this.A=this.de)),0>this.A&&(c.mp?(this.A=1,this.Ie=!0,c.loop||(this.rd++,this.rd>=c.Zl&&this.ek(!0))):c.loop?this.A=this.de:(this.rd++,this.rd>=c.Zl?this.ek(!0):this.A=this.de)),0>this.A?this.A=0:this.A>=c.frames.length&&(this.A=c.frames.length-1),a>this.Ad+c.frames[this.A].duration/this.zf&&(this.Ad=a),a=c.frames[this.A],this.vf(b,a),this.b.Y=!0)};f.Pn=function(a){var c,b,d;c=0;for(b=this.type.Rb.length;c<b;c++)if(d=this.type.Rb[c],bb(d.name,a))return d;
return null};f.et=function(a){var c,b,d;c=0;for(b=this.type.Rb.length;c<b;c++)if(d=this.type.Rb[c],d.P===a)return d;return null};f.Fn=function(){var a=this.ma.frames[this.A],c=this.Pn(this.hi);this.hi="";!c||bb(c.name,this.ma.name)&&this.Je||(this.ma=c,this.zf=c.speed,this.de=c.$l,0>this.A&&(this.A=0),this.A>=this.ma.frames.length&&(this.A=this.ma.frames.length-1),1===this.zn&&(this.A=0),this.Je=!0,this.Ad=this.bd.ua,this.Ie=!0,this.vf(a,this.ma.frames[this.A]),this.b.Y=!0)};f.Pr=function(){var a=
this.ma.frames[this.A],c=this.A;this.A=T(this.mk);0>this.A&&(this.A=0);this.A>=this.ma.frames.length&&(this.A=this.ma.frames.length-1);c!==this.A&&(this.vf(a,this.ma.frames[this.A]),this.Ad=this.bd.ua,this.b.Y=!0);this.mk=-1};f.vf=function(a,c){var b=a.width,d=a.height,l=c.width,f=c.height;b!=l&&(this.width*=l/b);d!=f&&(this.height*=f/d);this.Ib=c.Ib;this.Jb=c.Jb;this.T.Gh(c.mj);this.u();this.bb=c;this.mi=c.la;b=0;for(d=this.G.length;b<d;b++)l=this.G[b],l.qu&&l.qu(a,c);this.b.trigger(cc.prototype.j.vf,
this)};f.Mc=function(a){a.globalAlpha=this.opacity;var c=this.bb,b=c.eg,d=c.F,l=this.x,f=this.y,m=this.width,h=this.height;if(0===this.m&&0<=m&&0<=h)l-=this.Ib*m,f-=this.Jb*h,this.b.oc&&(l=Math.round(l),f=Math.round(f)),b?a.drawImage(d,c.Yf,c.Zf,c.width,c.height,l,f,m,h):a.drawImage(d,l,f,m,h);else{this.b.oc&&(l=Math.round(l),f=Math.round(f));a.save();var k=0<m?1:-1,n=0<h?1:-1;a.translate(l,f);1===k&&1===n||a.scale(k,n);a.rotate(this.m*k*n);l=0-this.Ib*la(m);f=0-this.Jb*la(h);b?a.drawImage(d,c.Yf,
c.Zf,c.width,c.height,l,f,la(m),la(h)):a.drawImage(d,l,f,la(m),la(h));a.restore()}};f.ee=function(a){this.Ab(a)};f.Ab=function(a){a.Ob(this.mi);a.Ee(this.opacity);var c=this.bb,b=this.yb;if(this.b.oc){var d=Math.round(this.x)-this.x,l=Math.round(this.y)-this.y;c.eg?a.Uc(b.Ua+d,b.Va+l,b.ub+d,b.wb+l,b.mb+d,b.nb+l,b.kb+d,b.lb+l,c.lm):a.Bh(b.Ua+d,b.Va+l,b.ub+d,b.wb+l,b.mb+d,b.nb+l,b.kb+d,b.lb+l)}else c.eg?a.Uc(b.Ua,b.Va,b.ub,b.wb,b.mb,b.nb,b.kb,b.lb,c.lm):a.Bh(b.Ua,b.Va,b.ub,b.wb,b.mb,b.nb,b.kb,b.lb)};
f.kt=function(a){var c=this.bb,b,d;b=0;for(d=c.Wk.length;b<d;b++)if(bb(a,c.Wk[b][0]))return b;return-1};f.Lk=function(a,c){var b=this.bb,d=b.Wk,l;Q(a)?l=this.kt(a):l=a-1;l=T(l);if(0>l||l>=d.length)return c?this.x:this.y;var f=(d[l][1]-b.Ib)*this.width,d=d[l][2],d=(d-b.Jb)*this.height,b=Math.cos(this.m);l=Math.sin(this.m);var m=f*b-d*l,d=d*b+f*l,f=m+this.x,d=d+this.y;return c?f:d};var n=[],k=-2,y=[];t.prototype.Oq=function(a){if(!a)return!1;var b=this.b,d=b.Rn(),l=d.type,f=null;d.N.collmemory?f=d.N.collmemory:
(f={},d.N.collmemory=f);d.N.spriteCreatedDestroyCallback||(d.N.spriteCreatedDestroyCallback=!0,b.ln(function(a){var c=d.N.collmemory;a=a.uid;var b,e;for(b in c)c.hasOwnProperty(b)&&(e=c[b],e[0]===a||e[1]===a)&&(h(c[b]),delete c[b])}));var m=l.X(),n=a.X(),m=m.ic(),r,t,x,w,M,O,K,L=this.b.nd,S=L-1,R=b.qb().gc;for(t=0;t<m.length;t++){x=m[t];n.ja?(x.ea(),this.b.Qn(x.k,a,x.pa,y),r=y,this.b.ur(x,a,r)):r=n.ic();for(w=0;w<r.length;w++)M=r[w],b.Qb(x,M)||b.Fr(x,M)?(O=c(f,x,M),O=!O||k<S,u(f,x,M,L),O&&(b.qj(R.ta),
O=l.X(),K=a.X(),O.ja=!1,K.ja=!1,l===a?(O.i.length=2,O.i[0]=x,O.i[1]=M,l.Hc()):(O.i.length=1,K.i.length=1,O.i[0]=x,K.i[0]=M,l.Hc(),a.Hc()),R.Lu(),b.kf(R.ta))):q(f,x,M);V(y)}return!1};var w=new ea,l=!1;new U(0,0,0,0);x.finish=function(a){if(l){if(a){var c=this.b.qb().gc.wc;a=null.X();var b=w.Td(),d,f;if(a.ja){a.ja=!1;V(a.i);d=0;for(f=b.length;d<f;++d)a.i[d]=b[d];if(c)for(V(a.Q),d=0,f=null.i.length;d<f;++d)b=null.i[d],w.contains(b)||a.Q.push(b)}else if(c)for(c=a.i.length,d=0,f=b.length;d<f;++d)a.i[c+
d]=b[d],Aa(a.Q,b[d]);else xa(a.i,b);null.Hc()}w.clear();l=!1}};t.prototype.Jq=function(a){return bb(this.nn,a)};t.prototype.Kq=function(){return!0};t.prototype.vf=function(){return!0};m.j=new t;a.prototype.hr=function(a,c){this.hi=a;this.zn=c;this.jl||(this.b.Pj(this),this.jl=!0);this.Xk||this.Fn()};a.prototype.ir=function(a){a=la(this.width)*(0===a?-1:1);this.width!==a&&(this.width=a,this.u())};m.Ka=new a;m.Bb=new function(){}})();function fc(b){this.b=b}
(function(){function b(){return c.length?c.pop():{}}function t(a){var b,h;b=0;for(h=a.length;b<h;b++)c.push(a[b]);V(a)}function h(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}var r=fc.prototype;r.R=function(){r.Ka.lr=function(a){this.width!==a&&(this.width=a,this.gg=!0,this.u())}};r.wa=function(a){this.oa=a;this.b=a.b};var u=r.wa.prototype;u.R=function(){};u.vh=function(){if(!this.B){var a,c,b;a=0;for(c=this.i.length;a<c;a++)b=this.i[a],b.hd=null,b.gf=null,b.Xb=null}};
r.fa=function(a){this.type=a;this.b=a.b;this.Zb?V(this.pe):this.pe=[];this.gg=!0};u=r.fa.prototype;u.R=function(){this.text=this.K[0];this.visible=0===this.K[1];this.font=this.K[2];this.color=this.K[3];this.Ii=this.K[4];this.Zj=this.K[5];this.Jm=0===this.K[7];this.rl=this.Jd=this.width;this.Id=this.height;this.tl=this.K[8];this.Ai=this.Ef="";this.Rp=this.Sp=this.zh=0;this.uu();this.Xb=this.gf=this.hd=null;this.Zo=!1;this.eh=this.b.nd;this.Zb?this.ye.set(0,0,1,1):this.ye=new U(0,0,1,1);this.b.n&&this.b.Pj(this)};
u.uu=function(){var a=this.font.split(" "),c;for(c=0;c<a.length;c++)if("pt"===a[c].substr(a[c].length-2,2)){this.zh=parseInt(a[c].substr(0,a[c].length-2));this.Vl=Math.ceil(this.zh/72*96)+4;0<c&&(this.Ai=a[c-1]);this.Ef=a[c+1];for(c+=2;c<a.length;c++)this.Ef+=" "+a[c];break}};u.Db=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Ii,va:this.Zj,wr:this.Jm,lho:this.tl,fn:this.Ef,fs:this.Ai,ps:this.zh,pxh:this.Vl,tw:this.Sp,th:this.Rp,lrt:this.eh}};u.Wb=function(a){this.text=a.t;this.font=
a.f;this.color=a.c;this.Ii=a.ha;this.Zj=a.va;this.Jm=a.wr;this.tl=a.lho;this.Ef=a.fn;this.Ai=a.fs;this.zh=a.ps;this.Vl=a.pxh;this.Sp=a.tw;this.Rp=a.th;this.eh=a.lrt;this.gg=!0;this.rl=this.Jd=this.width;this.Id=this.height};u.Xc=function(){if(this.b.n&&this.Xb&&300<=this.b.nd-this.eh){var a=this.k;this.ea();var c=this.pa;if(c.right<a.V||c.bottom<a.W||c.left>a.aa||c.top>a.Z)this.b.n.deleteTexture(this.Xb),this.hd=this.gf=this.Xb=null}};u.jf=function(){this.hd=this.gf=null;this.b.n&&this.Xb&&this.b.n.deleteTexture(this.Xb);
this.Xb=null};u.vg=function(){this.font=this.Ai+" "+this.zh.toString()+"pt "+this.Ef;this.gg=!0;this.b.Y=!0};u.Mc=function(a,c){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=c?1:this.opacity;var b=1;c&&(b=Math.abs(this.k.Vb()),a.save(),a.scale(b,b));if(this.gg||this.width!==this.rl)this.type.oa.or(this.text,this.pe,a,this.width,this.Jm),this.gg=!1,this.rl=this.width;this.ea();var b=c?0:this.yb.Ua,d=c?0:this.yb.Va;this.b.oc&&(b=b+.5|0,d=d+.5|0);0===this.m||c||(a.save(),
a.translate(b,d),a.rotate(this.m),d=b=0);var f=d+this.height,h=this.Vl,h=h+this.tl,k,q;1===this.Zj?d+=Math.max(this.height/2-this.pe.length*h/2,0):2===this.Zj&&(d+=Math.max(this.height-this.pe.length*h-2,0));for(q=0;q<this.pe.length&&!(k=b,1===this.Ii?k=b+(this.width-this.pe[q].width)/2:2===this.Ii&&(k=b+(this.width-this.pe[q].width)),a.fillText(this.pe[q].text,k,d),d+=h,d>=f-h);q++);(0!==this.m||c)&&a.restore();this.eh=this.b.nd};u.Ab=function(a){if(!(1>this.width||1>this.height)){var c=this.gg||
this.Zo;this.Zo=!1;var b=this.k.Vb(),d=this.k.Ub(),f=this.ye,h=b*this.width,k=b*this.height,q=Math.ceil(h),u=Math.ceil(k),l=Math.abs(q),e=Math.abs(u),g=this.b.D/2,p=this.b.C/2;this.gf||(this.hd=document.createElement("canvas"),this.hd.width=l,this.hd.height=e,this.Jd=l,this.Id=e,c=!0,this.gf=this.hd.getContext("2d"));if(l!==this.Jd||e!==this.Id)this.hd.width=l,this.hd.height=e,this.Xb&&(a.deleteTexture(this.Xb),this.Xb=null),c=!0;c&&(this.gf.clearRect(0,0,l,e),this.Mc(this.gf,!0),this.Xb||(this.Xb=
a.Tb(l,e,this.b.na,this.b.Fd)),a.nq(this.hd,this.Xb,this.b.Fd));this.Jd=l;this.Id=e;a.Ob(this.Xb);a.Ee(this.opacity);a.yc();a.translate(-g,-p);a.pc();var v=this.yb,c=this.k.ra(v.Ua,v.Va,!0,!0),l=this.k.ra(v.Ua,v.Va,!1,!0),e=this.k.ra(v.ub,v.wb,!0,!0),g=this.k.ra(v.ub,v.wb,!1,!0),p=this.k.ra(v.mb,v.nb,!0,!0),r=this.k.ra(v.mb,v.nb,!1,!0),t=this.k.ra(v.kb,v.lb,!0,!0),v=this.k.ra(v.kb,v.lb,!1,!0);if(this.b.oc||0===this.m&&0===d)var H=(c+.5|0)-c,aa=(l+.5|0)-l,c=c+H,l=l+aa,e=e+H,g=g+aa,p=p+H,r=r+aa,t=t+
H,v=v+aa;0===this.m&&0===d?(e=c+q,g=l,p=e,r=l+u,t=c,v=r,f.right=1,f.bottom=1):(f.right=h/q,f.bottom=k/u);a.Uc(c,l,e,g,p,r,t,v,f);a.yc();a.scale(b,b);a.wj(-this.k.Ub());a.translate((this.k.V+this.k.aa)/-2,(this.k.W+this.k.Z)/-2);a.pc();this.eh=this.b.nd}};var q=[];r.nr=function(a){V(q);for(var c="",b,d=0;d<a.length;)if(b=a.charAt(d),"\n"===b)c.length&&(q.push(c),c=""),q.push("\n"),++d;else if(" "===b||"\t"===b||"-"===b){do c+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));
q.push(c);c=""}else d<a.length&&(c+=b,d++);c.length&&q.push(c)};var c=[];r.or=function(a,c,h,d,f){if(a&&a.length)if(2>=d)t(c);else{if(100>=a.length&&-1===a.indexOf("\n")){var n=h.measureText(a).width;if(n<=d){t(c);c.push(b());c[0].text=a;c[0].width=n;return}}this.pr(a,c,h,d,f)}else t(c)};r.pr=function(a,m,u,d,f){f&&(this.nr(a),a=q);var n="",k,r,t,l=0;for(t=0;t<a.length;t++)"\n"===a[t]?(l>=m.length&&m.push(b()),n=h(n),r=m[l],r.text=n,r.width=u.measureText(n).width,l++,n=""):(k=n,n+=a[t],r=u.measureText(n).width,
r>=d&&(l>=m.length&&m.push(b()),k=h(k),r=m[l],r.text=k,r.width=u.measureText(k).width,l++,n=a[t],f||" "!==n||(n="")));n.length&&(l>=m.length&&m.push(b()),n=h(n),r=m[l],r.text=n,r.width=u.measureText(n).width,l++);for(t=l;t<m.length;t++)c.push(m[t]);m.length=l};r.j=new function(){};r.Ka=new function(){};r.Bb=new function(){}})();function gc(b){this.b=b}
(function(){var b=gc.prototype;b.wa=function(b){this.oa=b;this.b=b.b};var t=b.wa.prototype;t.R=function(){this.B||(this.F=new Image,this.F.qk=this.Mj,this.b.Im(this.F,this.Lj),this.la=this.pattern=null)};t.vh=function(){this.B||(this.la=null)};t.ij=function(){if(!this.B&&this.i.length){this.la||(this.la=this.b.n.Ui(this.F,!0,this.b.na,this.rm));var b,r;b=0;for(r=this.i.length;b<r;b++)this.i[b].la=this.la}};t.Vi=function(){this.B||this.la||!this.b.n||(this.la=this.b.n.Ui(this.F,!0,this.b.na,this.rm))};
t.Wj=function(){this.B||this.i.length||!this.la||(this.b.n.deleteTexture(this.la),this.la=null)};t.oj=function(b){b.drawImage(this.F,0,0)};b.fa=function(b){this.type=b;this.b=b.b};t=b.fa.prototype;t.R=function(){this.visible=0===this.K[0];this.ye=new U(0,0,0,0);this.ao=!1;this.F=this.type.F;this.b.n?(this.type.Vi(),this.la=this.type.la):(this.type.pattern||(this.type.pattern=this.b.ia.createPattern(this.type.F,"repeat")),this.pattern=this.type.pattern)};t.qd=function(){this.ao=!1;this.F=this.type.F};
t.jf=function(){this.b.n&&this.ao&&this.la&&(this.b.n.deleteTexture(this.la),this.la=null)};t.Mc=function(b){b.globalAlpha=this.opacity;b.save();b.fillStyle=this.pattern;var r=this.x,u=this.y;this.b.oc&&(r=Math.round(r),u=Math.round(u));var q=-(this.Ib*this.width),c=-(this.Jb*this.height),a=q%this.F.width,m=c%this.F.height;0>a&&(a+=this.F.width);0>m&&(m+=this.F.height);b.translate(r,u);b.rotate(this.m);b.translate(a,m);b.fillRect(q-a,c-m,this.width,this.height);b.restore()};t.ee=function(b){this.Ab(b)};
t.Ab=function(b){b.Ob(this.la);b.Ee(this.opacity);var r=this.ye;r.right=this.width/this.F.width;r.bottom=this.height/this.F.height;var u=this.yb;if(this.b.oc){var q=Math.round(this.x)-this.x,c=Math.round(this.y)-this.y;b.Uc(u.Ua+q,u.Va+c,u.ub+q,u.wb+c,u.mb+q,u.nb+c,u.kb+q,u.lb+c,r)}else b.Uc(u.Ua,u.Va,u.ub,u.wb,u.mb,u.nb,u.kb,u.lb,r)};b.j=new function(){};b.Ka=new function(){};b.Bb=new function(){}})();function hc(b){this.b=b}
(function(){function b(){this.Rj=this.id=-1;this.qn=this.Cf=this.Th=this.Rg=!1;this.U=new U(0,0,0,0)}function t(a){1E4>n.length&&n.push(a)}function h(){this.id=-1;this.U=new U(0,0,0,0);this.Md=null}function r(a){1E4>k.length&&k.push(a)}function u(a,c,b){var d;return y.length?(d=y.pop(),d.e=a,d.x=c,d.y=b,d.left=d.x*d.e.Ma*d.e.Ta,d.top=d.y*d.e.Wa*d.e.Sa,d.clear(),d.Ch=!1,d):new q(a,c,b)}function q(a,c,b){this.e=a;this.x=c;this.y=b;this.left=this.x*this.e.Ma*this.e.Ta;this.top=this.y*this.e.Wa*this.e.Sa;
this.od=[];this.gb=[];this.zb=[];this.Ch=!1;var d,f;a=0;for(c=this.e.Wa;a<c;++a){f=[];b=0;for(d=this.e.Ma;b<d;++b)f.push(-1);this.od.push(f)}}var c=hc.prototype;c.wa=function(a){this.oa=a;this.b=a.b};var a=c.wa.prototype;a.R=function(){var a,c,b;if(!this.B&&(this.F=new Image,this.F.qk=this.Mj,this.b.Im(this.F,this.Lj),this.Pe=[],this.sk=!1,this.Yc=[],this.Up=!1,this.Qj&&this.Qj.length))for(a=0,c=this.Qj.length;a<c;++a)(b=this.Qj[a])?this.Yc.push({Md:b,yi:[[[null,null],[null,null]],[[null,null],[null,
null]]]}):this.Yc.push(null)};a.Zd=function(a,c,b,d,f,h){if(!(0>a||a>=this.Yc.length)&&this.Yc[a]){var k=this.Yc[a].yi;a=new Wa(this.Yc[a].Md);a.Ne(c,b,0);h&&a.Nr();d&&a.ju(c/2);f&&a.ct(b/2);k[d?1:0][f?1:0][h?1:0]=a}};a.Wn=function(a){if(-1===a)return null;var c=a&f;return 0>c||c>=this.Yc.length||!this.Yc[c]?null:this.Yc[c].yi[a&m?1:0][a&x?1:0][a&d?1:0]};a.Ek=function(){var a,c,b=this.b.n;if(b)for(a=0,c=this.Pe.length;a<c;++a)b.deleteTexture(this.Pe[a]);V(this.Pe);this.sk=!1};a.Cl=function(a,c,b,
d,f,h,k){if(!(this.sk||0>=a||0>=c)){this.Ek();var m=this.F.width,n=this.F.height,q;for(q=d;q+c<=n;q+=c+h)for(d=b;d+a<=m;d+=a+f)this.Pe.push(this.wq(d,q,a,c,k));this.sk=!0}};a.wq=function(a,c,b,d,f){if(this.b.n)return this.bk(a,c,b,d,!1,!1,!1,f);var h=[[[null,null],[null,null]],[[null,null],[null,null]]];h[0][0][0]=this.bk(a,c,b,d,!1,!1,!1,f);return{yi:h,x:a,y:c,iv:b,Lt:d}};a.Lm=function(a,c,b,d,f){if(0>a||a>=this.Pe.length)return null;a=this.Pe[a];var h=a.yi;c=c?1:0;b=b?1:0;d=d?1:0;var k=h[c][b][d];
if(k)return k;k=this.bk(a.x,a.y,a.iv,a.Lt,0!==c,0!==b,0!==d,f);return h[c][b][d]=k};a.bk=function(a,c,b,d,f,h,k,m){var n=b,q=d;this.b.n&&!m&&(ja(n)||(n=ka(n)),ja(q)||(q=ka(q)));var u=document.createElement("canvas");u.width=n;u.height=q;var r=u.getContext("2d");if(this.b.ia)return f?h?(k?(r.rotate(Math.PI/2),r.scale(-1,1)):r.scale(-1,-1),r.translate(-n,-q)):k?(r.rotate(Math.PI/2),r.translate(0,-q)):(r.scale(-1,1),r.translate(-n,0)):h?k?(r.rotate(-Math.PI/2),r.translate(-n,0)):(r.scale(1,-1),r.translate(0,
-q)):k&&(r.scale(-1,1),r.rotate(Math.PI/2)),r.drawImage(this.F,a,c,b,d,0,0,n,q),m?u:this.b.ia.createPattern(u,"repeat");r.drawImage(this.F,a,c,b,d,0,0,n,q);a=this.b.n.Tb(n,q,this.b.na,!1,!m);this.b.n.nq(u,a);return a};a.vh=function(){this.B||this.Ek()};a.ij=function(){};a.Vi=function(){};a.Wj=function(){this.B||this.i.length||this.Ek()};a.oj=function(){};c.fa=function(a){this.type=a;this.b=a.b};var a=c.fa.prototype,m=-2147483648,x=1073741824,d=536870912,f=536870911,n=[],k=[],y=[];q.prototype.clear=
function(){var a,c,b,d,f;this.od.length=this.e.Wa;a=0;for(c=this.od.length;a<c;++a)for(f=this.od[a],f||(f=[],this.od[a]=f),f.length=this.e.Ma,b=0,d=f.length;b<d;++b)f[b]=-1};q.prototype.oh=function(){if(!this.Ch){var a=this.e.Ta,c=this.e.Sa;if(!(0>=a||0>=c)){var g,p,v,q,u,H;g=0;for(p=this.gb.length;g<p;++g)t(this.gb[g]);g=0;for(p=this.zb.length;g<p;++g)r(this.zb[g]);V(this.gb);V(this.zb);var w=Math.min(this.e.vc,Math.floor(this.e.width/a)),y=Math.min(this.e.Qc,Math.floor(this.e.height/c)),w=w-this.left/
a,y=y-this.top/c;w>this.e.Ma&&(w=this.e.Ma);y>this.e.Wa&&(y=this.e.Wa);var qa=this.e.Ce,D=null;g=0;for(p=y;g<p;++g){u=this.od[g];v=0;for(q=w;v<q;++v)H=u[v],-1===H?D&&(this.gb.push(D),D=null):qa||!D||H!==D.id?(D&&this.gb.push(D),D=n.length?n.pop():new b,D.id=H,D.Rj=H&f,D.Rg=0!==(H&m),D.Th=0!==(H&x),D.Cf=0!==(H&d),D.qn=D.Rg||D.Th||D.Cf,D.U.left=v*a+this.left,D.U.top=g*c+this.top,D.U.right=D.U.left+a,D.U.bottom=D.U.top+c):D.U.right+=a;D&&(this.gb.push(D),D=null)}var D=null,M=!1;g=0;for(p=y;g<p;++g){u=
this.od[g];v=0;for(q=w;v<q;++v)H=u[v],-1===H?D&&(this.zb.push(D),D=null,M=!1):(y=this.e.type.Wn(H),!D||y||M?(D&&this.zb.push(D),D=k.length?k.pop():new h,D.id=H,D.Md=y?y:null,H=D.U,H.left=v*a+this.left,H.top=g*c+this.top,H.right=H.left+a,H.bottom=H.top+c,M=!!y):D.U.right+=a);D&&(this.zb.push(D),D=null,M=!1)}if(!qa)for(p=this.gb.length,g=0;g<p;++g)for(q=this.gb[g],a=g+1;a<p;++a)if(v=this.gb[a],!(v.U.top<q.U.bottom)){if(v.U.top>q.U.bottom)break;if(v.U.right>q.U.right||v.U.left>q.U.left)break;v.id===
q.id&&v.U.left===q.U.left&&v.U.right===q.U.right&&(t(this.gb[a]),this.gb.splice(a,1),--p,q.U.bottom+=c,--a)}p=this.zb.length;for(g=0;g<p;++g)if(q=this.zb[g],!q.Md)for(u=q.U,a=g+1;a<p;++a)if(v=this.zb[a],q=v.U,!(q.top<u.bottom)){if(q.top>u.bottom)break;if(q.right>u.right||q.left>u.left)break;v.Md||q.left!==u.left||q.right!==u.right||(r(this.zb[a]),this.zb.splice(a,1),--p,u.bottom+=c,--a)}this.Ch=!0}}};q.prototype.im=function(a,c,b){this.od[c][a]!==b&&(this.od[c][a]=b,this.Ch=!1,this.e.$h=!0,this.e.wh=
!0,this.e.b.Y=!0)};a.R=function(){var a,c,b;this.visible=0===this.K[0];this.Ta=this.K[1];this.Sa=this.K[2];this.tm=this.K[3];this.vm=this.K[4];this.um=this.K[5];this.wm=this.K[6];this.Ce=0!==this.K[7];this.vc=this.Xp;this.Qc=this.Wp;this.Jd=this.width;this.Id=this.height;var d=this.Ta,f=this.Sa;0===d&&(d=1);0===f&&(f=1);this.Ma=Math.ceil(this.b.Ha/d);this.Wa=Math.ceil(this.b.Ga/f);if(!this.type.Up)for(this.type.Up=!0,a=0,c=this.type.Yc.length;a<c;++a)if(b=this.type.Yc[a])this.type.Zd(a,d,f,!1,!1,
!1),this.type.Zd(a,d,f,!1,!1,!0),this.type.Zd(a,d,f,!1,!0,!1),this.type.Zd(a,d,f,!1,!0,!0),this.type.Zd(a,d,f,!0,!1,!1),this.type.Zd(a,d,f,!0,!1,!0),this.type.Zd(a,d,f,!0,!0,!1),this.type.Zd(a,d,f,!0,!0,!0);this.Zb||(this.Fb=[]);this.Dl(!0);this.Dp(this.Vp);this.type.Cl(this.Ta,this.Sa,this.tm,this.vm,this.um,this.wm,this.Ce);this.wh=!1;this.$h=!0;this.Bl()};a.Bl=function(){if(this.$h){var a,c,b,d,f;a=0;for(c=this.Fb.length;a<c;++a)for(f=this.Fb[a],b=0,d=f.length;b<d;++b)f[b].oh();this.$h=!1}};a.yj=
function(){var a,c,b,d,f;a=0;for(c=this.Fb.length;a<c;++a)for(f=this.Fb[a],b=0,d=f.length;b<d;++b)f[b].Ch=!1;this.$h=!0};a.Dl=function(a){var c=T(this.width/this.Ta),b=T(this.height/this.Sa);if(!(c<=this.vc&&b<=this.Qc)||a){var d;a?(a=Math.ceil(this.Qc/this.Wa),d=Math.ceil(this.vc/this.Ma)):(a=this.Fb.length,d=Math.ceil(this.vc/this.Ma),b>this.Qc&&(this.Qc=b,a=Math.ceil(this.Qc/this.Wa)),c>this.vc&&(this.vc=c,d=Math.ceil(this.vc/this.Ma)),this.yj(),this.wh=!0,this.b.Y=!0);for(var f,c=0;c<a;++c)if(f=
this.Fb[c])for(b=f.length;b<d;++b)f.push(u(this,b,c));else{f=[];for(b=0;b<d;++b)f.push(u(this,b,c));this.Fb[c]=f}}};a.jk=function(a,c){if(0>a||0>c)return null;var b=T(c/this.Wa);if(b>=this.Fb.length)return null;var b=this.Fb[b],d=T(a/this.Ma);return d>=b.length?null:b[d]};a.kk=function(a,c){if(0>a||0>c||c>=this.Fb.length)return null;var b=this.Fb[c];return a>=b.length?null:b[a]};a.Dp=function(a){var c=[];a=a.split(",");var b,f,h,k,n;b=0;for(f=a.length;b<f;++b)if(h=a[b],k=h.indexOf("x"),-1<k)for(n=
parseInt(h.substring(0,k),10),h=h.substring(k+1),k=parseInt(h,10),-1<h.indexOf("h")&&(k|=m),-1<h.indexOf("v")&&(k|=x),-1<h.indexOf("d")&&(k|=d);0<n;--n)c.push(k);else k=parseInt(h,10),-1<h.indexOf("h")&&(k|=m),-1<h.indexOf("v")&&(k|=x),-1<h.indexOf("d")&&(k|=d),c.push(k);for(b=a=0;b<this.Qc;++b)for(f=0;f<this.vc;++f)n=c[a++],(h=this.jk(f,b))&&h.im(f%this.Ma,b%this.Wa,n)};a.wt=function(){var a="";if(0>=this.vc||0>=this.Qc)return a;var c=1,b=this.Pk(0,0),h,k,n,q,u,r,t,w;q=T(this.width/this.Ta);k=T(this.height/
this.Sa);for(h=0;h<k;++h)for(n=0===h?1:0;n<q;++n)u=this.Pk(n,h),u===b?++c:(-1===b?(r=-1,b=w=t=!1):(r=b&f,t=0!==(b&m),w=0!==(b&x),b=0!==(b&d)),a=1===c?a+(""+r):a+(""+c+"x"+r),t&&(a+="h"),w&&(a+="v"),b&&(a+="d"),a+=",",c=1,b=u);-1===b?(r=-1,b=w=t=!1):(r=b&f,t=0!==(b&m),w=0!==(b&x),b=0!==(b&d));a=1===c?a+(""+r):a+(""+c+"x"+r);t&&(a+="h");w&&(a+="v");b&&(a+="d");return a};a.Pk=function(a,c){a=Math.floor(a);c=Math.floor(c);if(0>a||0>c||a>=this.vc||c>=this.Qc)return-1;var b=this.jk(a,c);return b?b.od[c%
this.Wa][a%this.Ma]:-1};a.im=function(a,c,b){a=Math.floor(a);c=Math.floor(c);if(0>a||0>c||a>=this.vc||c>=this.Qc)return-1;var d=this.jk(a,c);if(!d)return-1;d.im(a%this.Ma,c%this.Wa,b)};a.pq=function(a){return Math.floor((a-this.x)/(this.Ma*this.Ta))};a.qq=function(a){return Math.floor((a-this.y)/(this.Wa*this.Sa))};a.kv=function(a){return Math.floor((a-this.x)/this.Ta)};a.lv=function(a){return Math.floor((a-this.y)/this.Sa)};a.ht=function(a,c){var b=this.qq(a.top),d=this.pq(a.right),f=this.qq(a.bottom),
h,k,m;for(h=this.pq(a.left);h<=d;++h)for(k=b;k<=f;++k)if(m=this.kk(h,k))m.oh(),ya(c,m.zb)};a.$u=function(a,c){var b=this.Pk(this.kv(a),this.lv(c));if(-1===b)return!1;b=this.type.Wn(b);if(!b)return!0;var d=Math.floor((c-this.y)/this.Sa)*this.Sa+this.y;a-=Math.floor((a-this.x)/this.Ta)*this.Ta+this.x;return b.ob(a,c-d)};a.vg=function(a){var c,b,d,f,h,k;c=0;for(b=this.Fb.length;c<b;++c)for(h=this.Fb[c],d=0,f=h.length;d<f;++d)k=h[d],k.oh(),ya(a,k.zb)};a.jf=function(){var a,c,b,d,f;a=0;for(c=this.Fb.length;a<
c;++a){f=this.Fb[a];b=0;for(d=f.length;b<d;++b){for(var h=f[b],k=void 0,m=void 0,k=0,m=h.gb.length;k<m;++k)t(h.gb[k]);V(h.gb);k=0;for(m=h.zb.length;k<m;++k)r(h.zb[k]);V(h.zb);1E3>y.length&&y.push(h)}V(f)}V(this.Fb)};a.Db=function(){this.Dl();return{w:T(this.width/this.Ta),h:T(this.height/this.Sa),d:this.wt()}};a.Wb=function(a){this.vc=a.w;this.Qc=a.h;this.Dl(!0);this.Dp(a.d);this.wh=!0;this.yj()};a.Mc=function(a){if(!(0>=this.Ta||0>=this.Sa)){this.type.Cl(this.Ta,this.Sa,this.tm,this.vm,this.um,this.wm,
this.Ce);if(this.width!==this.Jd||this.height!==this.Id)this.wh=!0,this.yj(),this.Bl(),this.Jd=this.width,this.Id=this.height;a.globalAlpha=this.opacity;var c=this.k,b=c.V,d=c.W,f=c.aa,c=c.Z,h=this.x,k=this.y,m=this.Ce,n;this.b.oc&&(h=Math.round(h),k=Math.round(k));var q=this.Ma*this.Ta,u=this.Wa*this.Sa,r=Math.floor((b-h)/q),q=Math.floor((f-h)/q),t=Math.floor((d-k)/u),u=Math.floor((c-k)/u),x=h%this.Ta,w=k%this.Sa;this.Ce&&(w=x=0);if(0!==x||0!==w)a.save(),a.translate(x,w),h-=x,k-=w,b-=x,d-=w,f-=x,
c-=w;for(var y,S,R,I,z,B,J,G,F;r<=q;++r)for(y=t;y<=u;++y)if(S=this.kk(r,y))for(S.oh(),R=0,I=S.gb.length;R<I;++R)z=S.gb[R],-1!==z.id&&(n=z.U,B=n.left+h,J=n.top+k,G=n.right+h,n=n.bottom+k,B>f||G<b||J>c||n<d||(F=this.type.Lm(z.Rj,z.Rg,z.Th,z.Cf,this.Ce),m?a.drawImage(F,B,J):(a.fillStyle=this.type.Lm(z.Rj,z.Rg,z.Th,z.Cf,this.Ce),a.fillRect(B,J,G-B,n-J))));0===x&&0===w||a.restore()}};var w=new U(0,0,1,1);a.ee=function(a){this.Ab(a)};a.Ab=function(a){if(!(0>=this.Ta||0>=this.Sa)){this.type.Cl(this.Ta,this.Sa,
this.tm,this.vm,this.um,this.wm,this.Ce);if(this.width!==this.Jd||this.height!==this.Id)this.wh=!0,this.yj(),this.Bl(),this.Jd=this.width,this.Id=this.height;a.Ee(this.opacity);var c=this.type.Pe,b=this.k,d=b.V,f=b.W,h=b.aa,b=b.Z,k=this.x,m=this.y,n;this.b.oc&&(k=Math.round(k),m=Math.round(m));var q=this.Ma*this.Ta,u=this.Wa*this.Sa,r=Math.floor((h-k)/q),t=Math.floor((f-m)/u),u=Math.floor((b-m)/u),x,y,L,S,R,I,z,B,J,G,F,N,ba,E,ia,ca,ua;for(ia=Math.floor((d-k)/q);ia<=r;++ia)for(ca=t;ca<=u;++ca)if(ua=
this.kk(ia,ca))for(ua.oh(),q=0,x=ua.gb.length;q<x;++q)y=ua.gb[q],-1!==y.id&&(n=y.U,L=n.left+k,S=n.top+m,R=n.right+k,n=n.bottom+m,L>h||R<d||S>b||n<f||(a.Ob(c[y.Rj]),w.right=(R-L)/this.Ta,w.bottom=(n-S)/this.Sa,y.qn?(y.Cf&&(E=w.right,w.right=w.bottom,w.bottom=E),z=I=0,B=w.right,J=0,G=w.right,F=w.bottom,N=0,ba=w.bottom,y.Cf&&(E=N,N=B,B=E,E=ba,ba=J,J=E),y.Rg&&(E=I,I=B,B=E,E=z,z=J,J=E,E=N,N=G,G=E,E=ba,ba=F,F=E),y.Th&&(E=I,I=N,N=E,E=z,z=ba,ba=E,E=B,B=G,G=E,E=J,J=F,F=E),a.Fu(L,S,R,S,R,n,L,n,I,z,B,J,G,F,
N,ba)):a.Uc(L,S,R,S,R,n,L,n,w)))}};c.j=new function(){};c.Ka=new function(){};c.Bb=new function(){}})();function Z(b){this.b=b}
(function(){function b(a){x=a.x;d=a.y;f=a.z}function t(a,c,b,d){var f;f=n.length?n.pop():new h;f.init(a,c,b,d);return f}function h(){this.Kh=this.id=this.y=this.x=this.Ij=this.Hj=this.ql=this.time=this.pm=0;this.Ph=this.Uj=!1}function r(a){return a.sourceCapabilities&&a.sourceCapabilities.firesTouchEvents||a.originalEvent&&a.originalEvent.sourceCapabilities&&a.originalEvent.sourceCapabilities.firesTouchEvents}function u(){}function q(){}var c=Z.prototype;c.wa=function(a){this.oa=a;this.b=a.b};c.wa.prototype.R=
function(){};c.fa=function(a){this.type=a;this.b=a.b;this.touches=[];this.Fl=!1};var a=c.fa.prototype,m={left:0,top:0};a.Jg=function(a){var c,b;c=0;for(b=this.touches.length;c<b;c++)if(this.touches[c].id===a)return c;return-1};var x=0,d=0,f=0,n=[];h.prototype.init=function(a,c,b,d){var f=Qa();this.pm=this.ql=this.time=f;this.Hj=a;this.Ij=c;this.x=a;this.y=c;this.pressure=this.height=this.width=0;this.id=b;this.Kh=d;this.Ph=this.Uj=!1};h.prototype.update=function(a,c,b,d,f,h){this.ql=this.time;this.time=
a;this.x=c;this.y=b;this.width=d;this.height=f;this.pressure=h;!this.Ph&&15<=La(this.Hj,this.Ij,this.x,this.y)&&(this.Ph=!0)};h.prototype.hu=function(a,c){!this.Uj&&500<=Qa()-this.pm&&!this.Ph&&15>La(this.Hj,this.Ij,this.x,this.y)&&(this.Uj=!0,a.pd=this.Kh,a.jg=this.id,a.Jf=c,a.b.trigger(Z.prototype.j.Vq,a),a.ud=this.x,a.vd=this.y,a.b.trigger(Z.prototype.j.Wq,a),a.Jf=0)};var k=-1E3,y=-1E3,w=-1E4;h.prototype.So=function(a,c){if(!this.Uj){var b=Qa();333>=b-this.pm&&!this.Ph&&15>La(this.Hj,this.Ij,this.x,
this.y)&&(a.pd=this.Kh,a.jg=this.id,a.Jf=c,666>=b-w&&25>La(k,y,this.x,this.y)?(a.b.trigger(Z.prototype.j.Qq,a),a.ud=this.x,a.vd=this.y,a.b.trigger(Z.prototype.j.Rq,a),y=k=-1E3,w=-1E4):(a.b.trigger(Z.prototype.j.er,a),a.ud=this.x,a.vd=this.y,a.b.trigger(Z.prototype.j.fr,a),k=this.x,y=this.y,w=b),a.Jf=0)}};a.R=function(){this.au=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Jf=this.jg=this.pd=this.vd=this.ud=this.hn=this.gn=this.dn=this.sr=this.rr=this.qr=this.lj=this.kj=this.jj=
0;this.gv=0!==this.K[0];var a=0<this.b.Cb?document:this.b.canvas,c=document;this.b.je?c=a=window.Canvas:this.b.sc&&(c=a=window);var d=this;"undefined"!==typeof PointerEvent?(a.addEventListener("pointerdown",function(a){d.gp(a)},!1),a.addEventListener("pointermove",function(a){d.fp(a)},!1),c.addEventListener("pointerup",function(a){d.hj(a,!1)},!1),c.addEventListener("pointercancel",function(a){d.hj(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},
!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){d.gp(a)},!1),a.addEventListener("MSPointerMove",function(a){d.fp(a)},!1),c.addEventListener("MSPointerUp",function(a){d.hj(a,!1)},!1),c.addEventListener("MSPointerCancel",function(a){d.hj(a,
!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){d.ip(a)},!1),a.addEventListener("touchmove",function(a){d.hp(a)},!1),c.addEventListener("touchend",function(a){d.Nl(a,!1)},!1),c.addEventListener("touchcancel",function(a){d.Nl(a,!0)},!1));if(this.au){var f=function(a){a=a.reading;d.dn=a.accelerationX;d.gn=a.accelerationY;
d.hn=a.accelerationZ},h=function(a){a=a.reading;d.jj=a.yawDegrees;d.kj=a.pitchDegrees;d.lj=a.rollDegrees},k=Windows.Devices.Sensors.Accelerometer.getDefault();k&&(k.reportInterval=Math.max(k.minimumReportInterval,16),k.addEventListener("readingchanged",f));var m=Windows.Devices.Sensors.Inclinometer.getDefault();m&&(m.reportInterval=Math.max(m.minimumReportInterval,16),m.addEventListener("readingchanged",h));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?
(k&&k.removeEventListener("readingchanged",f),m&&m.removeEventListener("readingchanged",h)):(k&&k.addEventListener("readingchanged",f),m&&m.addEventListener("readingchanged",h))},!1)}else window.addEventListener("deviceorientation",function(a){d.jj=a.alpha||0;d.kj=a.beta||0;d.lj=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(d.qr=a.accelerationIncludingGravity.x||0,d.rr=a.accelerationIncludingGravity.y||0,d.sr=a.accelerationIncludingGravity.z||
0);a.acceleration&&(d.dn=a.acceleration.x||0,d.gn=a.acceleration.y||0,d.hn=a.acceleration.z||0)},!1);this.gv&&!this.b.Da&&(jQuery(document).mousemove(function(a){d.Ll(a)}),jQuery(document).mousedown(function(a){d.Kl(a)}),jQuery(document).mouseup(function(a){d.Ml(a)}));!this.b.Oi&&this.b.tc&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(b,null,{frequency:40});this.b.av(this)};a.fp=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&
"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var c=this.Jg(a.pointerId),b=Qa();if(0<=c){var d=this.b.Da?m:jQuery(this.b.canvas).offset(),c=this.touches[c];2>b-c.time||c.update(b,a.pageX-d.left,a.pageY-d.top,a.width||0,a.height||0,a.pressure||0)}}};a.gp=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&cb(a)&&a.preventDefault();var c=this.b.Da?m:jQuery(this.b.canvas).offset(),b=a.pageX-c.left,c=a.pageY-c.top;Qa();this.pd=this.touches.length;
this.jg=a.pointerId;this.touches.push(t(b,c,a.pointerId,this.pd));this.b.Oa=!0;this.b.trigger(Z.prototype.j.Vm,this);this.b.trigger(Z.prototype.j.an,this);this.ud=b;this.vd=c;this.b.trigger(Z.prototype.j.$m,this);this.b.Oa=!1}};a.hj=function(a,c){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&cb(a)&&a.preventDefault();var b=this.Jg(a.pointerId);this.pd=0<=b?this.touches[b].Kh:-1;this.jg=0<=b?this.touches[b].id:-1;this.b.Oa=!0;this.b.trigger(Z.prototype.j.Um,
this);this.b.trigger(Z.prototype.j.Zm,this);0<=b&&(c||this.touches[b].So(this,b),100>n.length&&n.push(this.touches[b]),this.touches.splice(b,1));this.b.Oa=!1}};a.hp=function(a){a.preventDefault&&a.preventDefault();var c=Qa(),b,d,f,h;b=0;for(d=a.changedTouches.length;b<d;b++)if(f=a.changedTouches[b],h=this.Jg(f.identifier),0<=h){var k=this.b.Da?m:jQuery(this.b.canvas).offset();h=this.touches[h];2>c-h.time||h.update(c,f.pageX-k.left,f.pageY-k.top,2*(f.Kw||f.Rw||f.Ew||f.Hw||0),2*(f.Lw||f.Sw||f.Fw||f.Iw||
0),f.xw||f.Qw||f.Dw||f.Gw||0)}};a.ip=function(a){a.preventDefault&&cb(a)&&a.preventDefault();var c=this.b.Da?m:jQuery(this.b.canvas).offset();Qa();this.b.Oa=!0;var b,d,f,h;b=0;for(d=a.changedTouches.length;b<d;b++)if(f=a.changedTouches[b],h=this.Jg(f.identifier),-1===h){h=f.pageX-c.left;var k=f.pageY-c.top;this.pd=this.touches.length;this.jg=f.identifier;this.touches.push(t(h,k,f.identifier,this.pd));this.b.trigger(Z.prototype.j.Vm,this);this.b.trigger(Z.prototype.j.an,this);this.ud=h;this.vd=k;this.b.trigger(Z.prototype.j.$m,
this)}this.b.Oa=!1};a.Nl=function(a,c){a.preventDefault&&cb(a)&&a.preventDefault();this.b.Oa=!0;var b,d,f;b=0;for(d=a.changedTouches.length;b<d;b++)f=a.changedTouches[b],f=this.Jg(f.identifier),0<=f&&(this.pd=this.touches[f].Kh,this.jg=this.touches[f].id,this.b.trigger(Z.prototype.j.Um,this),this.b.trigger(Z.prototype.j.Zm,this),c||this.touches[f].So(this,f),100>n.length&&n.push(this.touches[f]),this.touches.splice(f,1));this.b.Oa=!1};a.vg=function(){return this.b.tc&&0===this.jj&&0!==f?90*f:this.jj};
a.ww=function(){return this.b.tc&&0===this.kj&&0!==d?90*d:this.kj};a.Bw=function(){return this.b.tc&&0===this.lj&&0!==x?90*x:this.lj};a.Kl=function(a){r(a)||(this.ip({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),this.Fl=!0)};a.Ll=function(a){this.Fl&&!r(a)&&this.hp({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};a.Ml=function(a){a.preventDefault&&this.b.Hi&&!this.b.Fd&&a.preventDefault();this.b.Hi=!0;r(a)||(this.Nl({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),
this.Fl=!1)};a.Oj=function(){var a,c,b,d=Qa();a=0;for(c=this.touches.length;a<c;++a)b=this.touches[a],b.time<=d-50&&(b.ql=d),b.hu(this,a)};u.prototype.an=function(){return!0};u.prototype.Zm=function(){return!0};u.prototype.$m=function(a){return a?this.b.Mh(a,this.ud,this.vd):!1};u.prototype.Vm=function(a){a=Math.floor(a);return a===this.pd};u.prototype.Um=function(a){a=Math.floor(a);return a===this.pd};u.prototype.Vq=function(){return!0};u.prototype.er=function(){return!0};u.prototype.Qq=function(){return!0};
u.prototype.Wq=function(a){return a?this.b.Mh(a,this.ud,this.vd):!1};u.prototype.fr=function(a){return a?this.b.Mh(a,this.ud,this.vd):!1};u.prototype.Rq=function(a){return a?this.b.Mh(a,this.ud,this.vd):!1};c.j=new u;c.Ka=new function(){};q.prototype.bn=function(a,c){var b=this.Jf;if(0>b||b>=this.touches.length)a.r(0);else{var d,f,h,k,m;ha(c)?(d=this.b.Cd(0),f=d.scale,h=d.xb,k=d.Kb,m=d.m,d.scale=1,d.xb=1,d.Kb=1,d.m=0,a.r(d.La(this.touches[b].x,this.touches[b].y,!0)),d.scale=f,d.xb=h,d.Kb=k,d.m=m):
(d=P(c)?this.b.Cd(c):this.b.Lg(c))?a.r(d.La(this.touches[b].x,this.touches[b].y,!0)):a.r(0)}};q.prototype.cn=function(a,c){var b=this.Jf;if(0>b||b>=this.touches.length)a.r(0);else{var d,f,h,k,m;ha(c)?(d=this.b.Cd(0),f=d.scale,h=d.xb,k=d.Lb,m=d.m,d.scale=1,d.xb=1,d.Lb=1,d.m=0,a.r(d.La(this.touches[b].x,this.touches[b].y,!1)),d.scale=f,d.xb=h,d.Lb=k,d.m=m):(d=P(c)?this.b.Cd(c):this.b.Lg(c))?a.r(d.La(this.touches[b].x,this.touches[b].y,!1)):a.r(0)}};c.Bb=new q})();function ic(b){this.b=b}
(function(){function b(a){var c;if(!d[a])for(d[a]=Array(20),c=0;20>c;++c)d[a][c]=0;return d[a]}function t(a){var c;if(!f[a])for(f[a]=Array(20),c=0;20>c;++c)f[a][c]=0;return f[a]}function h(a,c){return c?4<=a?-1:a+16:16<=a?-1:a}function r(c){x[c.gamepad.index]=c.gamepad;a.trigger(ic.prototype.j.Tq,m)}function u(c){a.trigger(ic.prototype.j.Uq,m);x[c.gamepad.index]=null}function q(){}var c=ic.prototype;c.wa=function(a){this.oa=a;this.b=a.b};c.wa.prototype.R=function(){};var a=null,m=null,x=Array(16),
d=Array(16),f=Array(16),n="",k="",y=null,w={windows:{}};w.windows.firefox={};var l=[0,1,2,3,4,5,8,9,10,11],e=[0,1,[7,6],2,3,[14,15],[12,13]];w.windows.firefox.xbox360=function(a,c){return c?a>=e.length?-1:P(e[a])?e[a]+16:e[a]:a>=l.length?-1:l[a]};var g=[2,0,1,3,4,6,5,7,8,9],p=[0,1,2,3,[14,15],[12,13]];w.windows.firefox.logitechdualaction=function(a,c){return c?a>=p.length?-1:P(p[a])?p[a]+16:p[a]:a>=g.length?-1:g[a]};c.fa=function(c){this.type=c;a=this.b=c.b;m=this};var v=c.fa.prototype;v.R=function(){this.nl=
0;var a=navigator.userAgent;n="windows";/mac/i.test(a)&&(n="mac");y=w[n];k="chrome";/firefox/i.test(a)&&(k="firefox");y&&(y=y[k]);window.addEventListener("webkitgamepadconnected",r,!1);window.addEventListener("webkitgamepaddisconnected",u,!1);window.addEventListener("MozGamepadConnected",r,!1);window.addEventListener("MozGamepadDisconnected",u,!1);window.addEventListener("gamepadconnected",r,!1);window.addEventListener("gamepaddisconnected",u,!1);this.b.Pj(this);this.jn=[]};v.Xc=function(){this.jn.length=
0;var a=null,c=!1;navigator.getGamepads?a=navigator.getGamepads():navigator.webkitGetGamepads?a=navigator.webkitGetGamepads():navigator.mozGetGamepads?a=navigator.mozGetGamepads():navigator.msGetGamepads?a=navigator.msGetGamepads():this.b.po&&window.cr_getGamepads?(a=window.cr_getGamepads(),c=!0):a=navigator.gamepads||navigator.webkitGamepads||navigator.MozGamepads||x;if(a){var e,g,k,l,m,n,q;e=0;for(g=a.length;e<g;e++){var p=a[e];if(p){var u=b(e),r=t(e);l=e;k=b(l);l=t(l);m=void 0;for(m=0;20>m;++m)l[m]=
k[m];c?k=h:y?(k="",l=p.id.toLowerCase(),-1<l.indexOf("xbox 360")?k="xbox360":-1<l.indexOf("logitech dual action")&&(k="logitechdualaction"),k=y[k]||h):k=h;m=k;k=0;for(l=p.buttons.length;k<l;k++)q="undefined"!==typeof p.buttons[k].value?p.buttons[k].value:p.buttons[k],n=m(k,!1,q),0<=n&&20>n&&(u[n]=100*q,50<=u[n]&&50>r[n]&&(this.nl=n));k=0;for(l=p.axes.length;k<l;k++)q=p.axes[k],n=m(k,!0,q),P(n)?0<=n&&20>n&&(u[n]=100*q):(u[n[0]]=0,u[n[1]]=0,0>=q?u[n[0]]=Math.abs(100*q):u[n[1]]=Math.abs(100*q));this.jn.push(p)}else p=
e,d[p]=null,f[p]=null}for(;20>e;++e)a=e,d[a]=null,f[a]=null}};v.Db=function(){return{lastButton:this.nl}};v.Wb=function(a){this.nl=a.lastButton};q.prototype.Tq=function(){return!0};q.prototype.Uq=function(){return!0};c.j=new q;c.Ka=new function(){};c.Bb=new function(){}})();function jc(b){this.b=b}
(function(){function b(){}function t(){}var h=jc.prototype;h.wa=function(b){this.behavior=b;this.b=b.b};h.wa.prototype.R=function(){};h.fa=function(b,h){this.type=b;this.behavior=b.behavior;this.e=h;this.b=b.b;this.Ej=this.nm=this.mm=this.Vk=this.wg=this.Dg=this.Pf=this.Qf=this.Dh=this.fh=!1;this.rb=null;this.ul=-1;this.ne=this.me=0;this.Kg=!1;this.Ve=this.Gc=0;this.xi=!0;this.O=this.H=0};var r=h.fa.prototype;r.iq=function(){this.Ba=Math.cos(this.If);this.Ca=Math.sin(this.If);this.Ae=Math.cos(this.If-
Math.PI/2);this.Be=Math.sin(this.If-Math.PI/2);this.Ba=ab(this.Ba);this.Ca=ab(this.Ca);this.Ae=ab(this.Ae);this.Be=ab(this.Be);this.Gk=this.Bd;0>this.Bd&&(this.Ba*=-1,this.Ca*=-1,this.Bd=Math.abs(this.Bd))};r.R=function(){this.Xf=this.K[0];this.wf=this.K[1];this.Bf=this.K[2];this.bh=this.K[3];this.Gk=this.Bd=this.K[4];this.bj=this.K[5];this.wk=0!==this.K[6];this.ml=this.K[7]/1E3;this.Lr=1===this.K[8];this.enabled=0!==this.K[9];this.og=!1;this.pg=this.b.Qd(this.e);this.wl=-1;this.pf=0;this.If=W(90);
this.iq();var b=this;this.Lr&&!this.b.Da&&(jQuery(document).keydown(function(h){b.Il(h)}),jQuery(document).keyup(function(h){b.Jl(h)}));this.Zb||(this.Yo=function(h){b.pu(h)});this.b.ln(this.Yo);this.e.N.isPlatformBehavior=!0};r.Db=function(){return{ii:this.Vk,lfx:this.me,lfy:this.ne,lfo:this.rb?this.rb.uid:-1,am:this.Gc,en:this.enabled,fall:this.Ve,ft:this.xi,dx:this.H,dy:this.O,ms:this.Xf,acc:this.wf,dec:this.Bf,js:this.bh,g:this.Bd,g1:this.Gk,mf:this.bj,wof:this.og,woj:this.pg?this.pg.uid:-1,ga:this.If,
edj:this.wk,cdj:this.wg,dj:this.Dg,sus:this.ml}};r.Wb=function(b){this.Vk=b.ii;this.me=b.lfx;this.ne=b.lfy;this.ul=b.lfo;this.Gc=b.am;this.enabled=b.en;this.Ve=b.fall;this.xi=b.ft;this.H=b.dx;this.O=b.dy;this.Xf=b.ms;this.wf=b.acc;this.Bf=b.dec;this.bh=b.js;this.Bd=b.g;this.Gk=b.g1;this.bj=b.mf;this.og=b.wof;this.wl=b.woj;this.If=b.ga;this.wk=b.edj;this.wg=b.cdj;this.Dg=b.dj;this.ml=b.sus;this.Ej=this.nm=this.mm=this.Pf=this.Qf=this.Dh=this.fh=!1;this.pf=0;this.iq()};r.qd=function(){-1===this.ul?
this.rb=null:this.rb=this.b.Fi(this.ul);-1===this.wl?this.pg=null:this.pg=this.b.Fi(this.wl)};r.pu=function(b){this.rb==b&&(this.rb=null)};r.jf=function(){this.rb=null;this.b.Hu(this.Yo)};r.Il=function(b){switch(b.which){case 38:b.preventDefault();this.Qf=!0;break;case 37:b.preventDefault();this.fh=!0;break;case 39:b.preventDefault(),this.Dh=!0}};r.Jl=function(b){switch(b.which){case 38:b.preventDefault();this.Pf=this.Qf=!1;break;case 37:b.preventDefault();this.fh=!1;break;case 39:b.preventDefault(),
this.Dh=!1}};r.we=function(){this.Qf=this.Dh=this.fh=!1};r.vg=function(){return 0>this.Bd?-1:1};r.ko=function(){var b=null,h=null,c,a;c=this.e.x;a=this.e.y;this.e.x+=this.Ba;this.e.y+=this.Ca;this.e.u();if(this.rb&&this.b.Qb(this.e,this.rb)&&(!this.b.Bm(this.rb.type,bc)||this.rb.N.solidEnabled))return this.e.x=c,this.e.y=a,this.e.u(),this.rb;(b=this.b.Eb(this.e))||0!==this.Ve||(h=this.b.Qd(this.e,!0));this.e.x=c;this.e.y=a;this.e.u();if(b){if(this.b.Qb(this.e,b))return null;this.Kg=!1;return b}if(h&&
h.length){a=b=0;for(c=h.length;b<c;b++)h[a]=h[b],this.b.Qb(this.e,h[b])||a++;if(1<=a)return this.Kg=!0,h[0]}return null};r.Xc=function(){};r.qp=function(){var b=this.b.Ik(this.e),h,c,a,m,r,d,f,n,k;this.Qf||this.Ej||(this.Pf=!1);var t=this.fh||this.mm;a=this.Dh||this.nm;var w=(m=this.Qf||this.Ej)&&!this.Pf;this.Ej=this.nm=this.mm=!1;if(this.enabled){this.Vk&&(w=m=a=t=!1);m||(this.pf=0);n=this.rb;k=!1;this.xi&&((this.b.Eb(this.e)||this.b.Qd(this.e))&&this.b.Tc(this.e,-this.Ba,-this.Ca,4,!0),this.xi=
!1);!n||0!==this.O||n.y===this.ne&&n.x===this.me||(h=n.x-this.me,c=n.y-this.ne,this.e.x+=h,this.e.y+=c,this.e.u(),this.me=n.x,this.ne=n.y,k=!0,this.b.Eb(this.e)&&this.b.Tc(this.e,-h,-c,2.5*Math.sqrt(h*h+c*c)));var l=this.ko();if(c=this.b.Eb(this.e))if(this.e.N.inputPredicted)this.b.Tc(this.e,-this.Ba,-this.Ca,10,!1);else if(this.b.Ul(this.e,-this.Ba,-this.Ca,this.e.height/8))this.b.ze(this.e,c);else if(this.b.Ul(this.e,this.Ae,this.Be,this.e.width/2))this.b.ze(this.e,c);else if(this.b.Ul(this.e,this.Ba,
this.Ca,this.e.height/2))this.b.ze(this.e,c);else if(this.b.Eu(this.e,Math.max(this.e.width,this.e.height)/2))this.b.ze(this.e,c);else return;l?(this.wg=this.Dg=!1,0<this.O&&(this.og||(this.b.sj(this.e,-this.Ba,-this.Ca,l),this.og=!0),this.O=0),n!=l)?(this.rb=l,this.me=l.x,this.ne=l.y,this.b.ze(this.e,l)):k&&(c=this.b.Eb(this.e))&&(this.b.ze(this.e,c),0!==h&&(0<h?this.b.Tc(this.e,-this.Ae,-this.Be):this.b.Tc(this.e,this.Ae,this.Be)),this.b.Tc(this.e,-this.Ba,-this.Ca)):m||(this.wg=!0);if(l&&w||!l&&
this.wk&&m&&this.wg&&!this.Dg)n=this.e.x,k=this.e.y,this.e.x-=this.Ba,this.e.y-=this.Ca,this.e.u(),this.b.Eb(this.e)?w=!1:(this.pf=this.ml,this.b.trigger(jc.prototype.j.Pm,this.e),this.Gc=2,this.O=-this.bh,w=!0,l?this.Pf=!0:this.Dg=!0),this.e.x=n,this.e.y=k,this.e.u();l||(m&&0<this.pf?(this.O=-this.bh,this.pf-=b):(this.rb=null,this.O+=this.Bd*b,this.O>this.bj&&(this.O=this.bj)),w&&(this.Pf=!0));this.og=!!l;t==a&&(0>this.H?(this.H+=this.Bf*b,0<this.H&&(this.H=0)):0<this.H&&(this.H-=this.Bf*b,0>this.H&&
(this.H=0)));t&&!a&&(this.H=0<this.H?this.H-(this.wf+this.Bf)*b:this.H-this.wf*b);a&&!t&&(this.H=0>this.H?this.H+(this.wf+this.Bf)*b:this.H+this.wf*b);this.H>this.Xf?this.H=this.Xf:this.H<-this.Xf&&(this.H=-this.Xf);t=!1;0!==this.H&&(n=this.e.x,k=this.e.y,h=this.H*b*this.Ae,c=this.H*b*this.Be,this.e.x+=this.Ae*(1<this.H?1:-1)-this.Ba,this.e.y+=this.Be*(1<this.H?1:-1)-this.Ca,this.e.u(),m=!1,r=this.b.Eb(this.e),this.e.x=n+h,this.e.y=k+c,this.e.u(),a=this.b.Eb(this.e),!a&&l&&(a=this.b.Qd(this.e))&&
(this.e.x=n,this.e.y=k,this.e.u(),this.b.Qb(this.e,a)?(a=null,m=!1):m=!0,this.e.x=n+h,this.e.y=k+c,this.e.u()),a?(h=Math.abs(this.H*b)+2,r||!this.b.Tc(this.e,-this.Ba,-this.Ca,h,m,a))?(this.b.ze(this.e,a),h=Math.max(Math.abs(this.H*b*2.5),30),this.b.Tc(this.e,this.Ae*(0>this.H?1:-1),this.Be*(0>this.H?1:-1),h,!1)?!l||m||this.Kg||(n=this.e.x,k=this.e.y,this.e.x+=this.Ba,this.e.y+=this.Ca,this.b.Eb(this.e)?this.b.Tc(this.e,-this.Ba,-this.Ca,3,!1)||(this.e.x=n,this.e.y=k,this.e.u()):(this.e.x=n,this.e.y=
k,this.e.u())):(this.e.x=n,this.e.y=k,this.e.u()),m||(this.H=0)):!r&&!w&&Math.abs(this.O)<Math.abs(this.bh/4)&&(this.O=0,l||(t=!0)):(n=this.ko(),l&&!n?(c=Math.ceil(Math.abs(this.H*b))+2,n=this.e.x,k=this.e.y,this.e.x+=this.Ba*c,this.e.y+=this.Ca*c,this.e.u(),this.b.Eb(this.e)||this.b.Qd(this.e)?this.b.Tc(this.e,-this.Ba,-this.Ca,c+2,!0):(this.e.x=n,this.e.y=k,this.e.u())):n&&(!l&&this.Kg&&(this.rb=n,this.me=n.x,this.ne=n.y,this.O=0,t=!0),0===this.O&&this.b.sj(this.e,-this.Ba,-this.Ca,n))));if(0!==
this.O){n=this.e.x;k=this.e.y;this.e.x+=this.O*b*this.Ba;this.e.y+=this.O*b*this.Ca;h=this.e.x;a=this.e.y;this.e.u();c=this.b.Eb(this.e);m=!1;if(!c&&0<this.O&&!l){if((m=0<this.Ve?null:this.b.Qd(this.e,!0))&&m.length){if(this.pg){this.e.x=n;this.e.y=k;this.e.u();f=r=0;for(d=m.length;r<d;r++)m[f]=m[r],this.b.Qb(this.e,m[r])||f++;m.length=f;this.e.x=h;this.e.y=a;this.e.u()}1<=m.length&&(c=m[0])}m=!!c}c&&(this.b.ze(this.e,c),this.pf=0,h=m?Math.abs(this.O*b*2.5+10):Math.max(Math.abs(this.O*b*2.5+10),30),
this.b.Tc(this.e,this.Ba*(0>this.O?1:-1),this.Ca*(0>this.O?1:-1),h,m,c)?(this.rb=c,this.me=c.x,this.ne=c.y,(this.Kg=m)&&(t=!0),this.O=0):(this.e.x=n,this.e.y=k,this.e.u(),this.og=!0,m||(this.O=0)))}3!==this.Gc&&0<this.O&&!l&&(this.b.trigger(jc.prototype.j.Sq,this.e),this.Gc=3);(l||t)&&0<=this.O&&(3===this.Gc||t||w&&0===this.O?(this.b.trigger(jc.prototype.j.Sm,this.e),this.Gc=0===this.H&&0===this.O?0:1):(0!==this.Gc&&0===this.H&&0===this.O&&(this.b.trigger(jc.prototype.j.dr,this.e),this.Gc=0),1===
this.Gc||0===this.H&&0===this.O||w||(this.b.trigger(jc.prototype.j.cr,this.e),this.Gc=1)));0<this.Ve&&this.Ve--;this.pg=this.b.Qd(this.e)}};b.prototype.Eq=function(){return 0!==this.H||0!==this.O};b.prototype.Fq=function(){if(0!==this.O)return!1;var b=null,h=null,c,a;c=this.e.x;a=this.e.y;this.e.x+=this.Ba;this.e.y+=this.Ca;this.e.u();(b=this.b.Eb(this.e))||0!==this.Ve||(h=this.b.Qd(this.e,!0));this.e.x=c;this.e.y=a;this.e.u();if(b)return!this.b.Qb(this.e,b);if(h&&h.length){a=b=0;for(c=h.length;b<
c;b++)h[a]=h[b],this.b.Qb(this.e,h[b])||a++;if(1<=a)return!0}return!1};b.prototype.Pm=function(){return!0};b.prototype.Sq=function(){return!0};b.prototype.dr=function(){return!0};b.prototype.cr=function(){return!0};b.prototype.Sm=function(){return!0};h.j=new b;h.Ka=new function(){};t.prototype.mr=function(b){b.r(Math.sqrt(this.H*this.H+this.O*this.O))};h.Bb=new t})();function kc(b){this.b=b;this.km=this.Dj=this.Ih=this.jm=0}
(function(){var b=kc.prototype;b.wa=function(b){this.behavior=b;this.b=b.b};b.wa.prototype.R=function(){};b.fa=function(b,r){this.type=b;this.behavior=b.behavior;this.e=r;this.b=b.b};var t=b.fa.prototype;t.R=function(){this.enabled=0!==this.K[0]};t.Db=function(){return{smg:this.behavior.jm,ss:this.behavior.Ih,se:this.behavior.Dj,smd:this.behavior.km}};t.Wb=function(b){this.behavior.jm=b.smg;this.behavior.Ih=b.ss;this.behavior.Dj=b.se;this.behavior.km=b.smd};t.Xc=function(){};t.Oj=function(){if(this.enabled){var b=
this.behavior.cj.Td(),r=0,t=0,q,c,a,m=0;q=0;for(c=b.length;q<c;q++){a:{a=b[q];for(var x=void 0,d=void 0,f=void 0,x=0,d=a.G.length;x<d;++x)if(f=a.G[x],f.behavior instanceof kc){a=f;break a}a=null}a&&a.enabled&&(r+=b[q].x,t+=b[q].y,++m)}b=this.e.k.Qa;c=this.b.mc.ua;a=q=0;c>=this.behavior.Ih&&c<this.behavior.Dj&&(q=this.behavior.jm*Math.min(this.b.ig,1),0===this.behavior.km&&(q*=1-(c-this.behavior.Ih)/(this.behavior.Dj-this.behavior.Ih)),c=Math.random()*Math.PI*2,a=Math.random()*q,q=Math.cos(c)*a,a*=
Math.sin(c));b.gm(r/m+q);b.hm(t/m+a)}};b.Ka=new function(){}})();function bc(b){this.b=b}(function(){var b=bc.prototype;b.wa=function(b){this.behavior=b;this.b=b.b};b.wa.prototype.R=function(){};b.fa=function(b,r){this.type=b;this.behavior=b.behavior;this.e=r;this.b=b.b};var t=b.fa.prototype;t.R=function(){this.e.N.solidEnabled=0!==this.K[0]};t.Xc=function(){};b.j=new function(){};b.Ka=new function(){}})();
function ac(){return[ic,ec,dc,fc,gc,Z,hc,cc,bc,jc,kc,dc.prototype.j.Dq,cc.prototype.Ka.ir,Y.prototype.j.Cq,jc.prototype.j.Eq,Y.prototype.j.vq,cc.prototype.Ka.hr,jc.prototype.j.Pm,jc.prototype.j.Fq,jc.prototype.j.Sm,Y.prototype.j.yq,Y.prototype.Ka.kr,jc.prototype.Bb.mr,cc.prototype.j.Gq,cc.prototype.Ka.jr,cc.prototype.j.Oq,Y.prototype.Ka.zq]};
